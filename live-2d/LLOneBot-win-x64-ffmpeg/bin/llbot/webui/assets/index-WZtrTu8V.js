(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function ih(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var wu={exports:{}},bl={},ku={exports:{}},te={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var es=Symbol.for("react.element"),oh=Symbol.for("react.portal"),ah=Symbol.for("react.fragment"),ch=Symbol.for("react.strict_mode"),uh=Symbol.for("react.profiler"),dh=Symbol.for("react.provider"),mh=Symbol.for("react.context"),fh=Symbol.for("react.forward_ref"),hh=Symbol.for("react.suspense"),ph=Symbol.for("react.memo"),xh=Symbol.for("react.lazy"),Ha=Symbol.iterator;function gh(e){return e===null||typeof e!="object"?null:(e=Ha&&e[Ha]||e["@@iterator"],typeof e=="function"?e:null)}var ju={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Nu=Object.assign,bu={};function rr(e,t,n){this.props=e,this.context=t,this.refs=bu,this.updater=n||ju}rr.prototype.isReactComponent={};rr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};rr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Su(){}Su.prototype=rr.prototype;function Ro(e,t,n){this.props=e,this.context=t,this.refs=bu,this.updater=n||ju}var _o=Ro.prototype=new Su;_o.constructor=Ro;Nu(_o,rr.prototype);_o.isPureReactComponent=!0;var Ba=Array.isArray,Cu=Object.prototype.hasOwnProperty,Ao={current:null},Eu={key:!0,ref:!0,__self:!0,__source:!0};function Tu(e,t,n){var r,s={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)Cu.call(t,r)&&!Eu.hasOwnProperty(r)&&(s[r]=t[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var c=Array(a),u=0;u<a;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:es,type:e,key:i,ref:o,props:s,_owner:Ao.current}}function yh(e,t){return{$$typeof:es,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Fo(e){return typeof e=="object"&&e!==null&&e.$$typeof===es}function vh(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Va=/\/+/g;function Xl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?vh(""+e.key):t.toString(36)}function Ls(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case es:case oh:o=!0}}if(o)return o=e,s=s(o),e=r===""?"."+Xl(o,0):r,Ba(s)?(n="",e!=null&&(n=e.replace(Va,"$&/")+"/"),Ls(s,t,n,"",function(u){return u})):s!=null&&(Fo(s)&&(s=yh(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Va,"$&/")+"/")+e)),t.push(s)),1;if(o=0,r=r===""?".":r+":",Ba(e))for(var a=0;a<e.length;a++){i=e[a];var c=r+Xl(i,a);o+=Ls(i,t,n,c,s)}else if(c=gh(e),typeof c=="function")for(e=c.call(e),a=0;!(i=e.next()).done;)i=i.value,c=r+Xl(i,a++),o+=Ls(i,t,n,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function ds(e,t,n){if(e==null)return e;var r=[],s=0;return Ls(e,r,"","",function(i){return t.call(n,i,s++)}),r}function wh(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var He={current:null},Rs={transition:null},kh={ReactCurrentDispatcher:He,ReactCurrentBatchConfig:Rs,ReactCurrentOwner:Ao};function Mu(){throw Error("act(...) is not supported in production builds of React.")}te.Children={map:ds,forEach:function(e,t,n){ds(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return ds(e,function(){t++}),t},toArray:function(e){return ds(e,function(t){return t})||[]},only:function(e){if(!Fo(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};te.Component=rr;te.Fragment=ah;te.Profiler=uh;te.PureComponent=Ro;te.StrictMode=ch;te.Suspense=hh;te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=kh;te.act=Mu;te.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Nu({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=Ao.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(c in t)Cu.call(t,c)&&!Eu.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&a!==void 0?a[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){a=Array(c);for(var u=0;u<c;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:es,type:e.type,key:s,ref:i,props:r,_owner:o}};te.createContext=function(e){return e={$$typeof:mh,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:dh,_context:e},e.Consumer=e};te.createElement=Tu;te.createFactory=function(e){var t=Tu.bind(null,e);return t.type=e,t};te.createRef=function(){return{current:null}};te.forwardRef=function(e){return{$$typeof:fh,render:e}};te.isValidElement=Fo;te.lazy=function(e){return{$$typeof:xh,_payload:{_status:-1,_result:e},_init:wh}};te.memo=function(e,t){return{$$typeof:ph,type:e,compare:t===void 0?null:t}};te.startTransition=function(e){var t=Rs.transition;Rs.transition={};try{e()}finally{Rs.transition=t}};te.unstable_act=Mu;te.useCallback=function(e,t){return He.current.useCallback(e,t)};te.useContext=function(e){return He.current.useContext(e)};te.useDebugValue=function(){};te.useDeferredValue=function(e){return He.current.useDeferredValue(e)};te.useEffect=function(e,t){return He.current.useEffect(e,t)};te.useId=function(){return He.current.useId()};te.useImperativeHandle=function(e,t,n){return He.current.useImperativeHandle(e,t,n)};te.useInsertionEffect=function(e,t){return He.current.useInsertionEffect(e,t)};te.useLayoutEffect=function(e,t){return He.current.useLayoutEffect(e,t)};te.useMemo=function(e,t){return He.current.useMemo(e,t)};te.useReducer=function(e,t,n){return He.current.useReducer(e,t,n)};te.useRef=function(e){return He.current.useRef(e)};te.useState=function(e){return He.current.useState(e)};te.useSyncExternalStore=function(e,t,n){return He.current.useSyncExternalStore(e,t,n)};te.useTransition=function(){return He.current.useTransition()};te.version="18.3.1";ku.exports=te;var x=ku.exports;const se=ih(x);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jh=x,Nh=Symbol.for("react.element"),bh=Symbol.for("react.fragment"),Sh=Object.prototype.hasOwnProperty,Ch=jh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Eh={key:!0,ref:!0,__self:!0,__source:!0};function Iu(e,t,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)Sh.call(t,r)&&!Eh.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:Nh,type:e,key:i,ref:o,props:s,_owner:Ch.current}}bl.Fragment=bh;bl.jsx=Iu;bl.jsxs=Iu;wu.exports=bl;var l=wu.exports,Ti={},zu={exports:{}},nt={},Pu={exports:{}},Lu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(T,U){var H=T.length;T.push(U);e:for(;0<H;){var Y=H-1>>>1,ie=T[Y];if(0<s(ie,U))T[Y]=U,T[H]=ie,H=Y;else break e}}function n(T){return T.length===0?null:T[0]}function r(T){if(T.length===0)return null;var U=T[0],H=T.pop();if(H!==U){T[0]=H;e:for(var Y=0,ie=T.length,$e=ie>>>1;Y<$e;){var K=2*(Y+1)-1,D=T[K],W=K+1,ee=T[W];if(0>s(D,H))W<ie&&0>s(ee,D)?(T[Y]=ee,T[W]=H,Y=W):(T[Y]=D,T[K]=H,Y=K);else if(W<ie&&0>s(ee,H))T[Y]=ee,T[W]=H,Y=W;else break e}}return U}function s(T,U){var H=T.sortIndex-U.sortIndex;return H!==0?H:T.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var c=[],u=[],m=1,h=null,p=3,y=!1,v=!1,k=!1,N=typeof setTimeout=="function"?setTimeout:null,f=typeof clearTimeout=="function"?clearTimeout:null,d=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(T){for(var U=n(u);U!==null;){if(U.callback===null)r(u);else if(U.startTime<=T)r(u),U.sortIndex=U.expirationTime,t(c,U);else break;U=n(u)}}function w(T){if(k=!1,g(T),!v)if(n(c)!==null)v=!0,A(S);else{var U=n(u);U!==null&&$(w,U.startTime-T)}}function S(T,U){v=!1,k&&(k=!1,f(M),M=-1),y=!0;var H=p;try{for(g(U),h=n(c);h!==null&&(!(h.expirationTime>U)||T&&!G());){var Y=h.callback;if(typeof Y=="function"){h.callback=null,p=h.priorityLevel;var ie=Y(h.expirationTime<=U);U=e.unstable_now(),typeof ie=="function"?h.callback=ie:h===n(c)&&r(c),g(U)}else r(c);h=n(c)}if(h!==null)var $e=!0;else{var K=n(u);K!==null&&$(w,K.startTime-U),$e=!1}return $e}finally{h=null,p=H,y=!1}}var C=!1,R=null,M=-1,q=5,P=-1;function G(){return!(e.unstable_now()-P<q)}function E(){if(R!==null){var T=e.unstable_now();P=T;var U=!0;try{U=R(!0,T)}finally{U?j():(C=!1,R=null)}}else C=!1}var j;if(typeof d=="function")j=function(){d(E)};else if(typeof MessageChannel<"u"){var b=new MessageChannel,L=b.port2;b.port1.onmessage=E,j=function(){L.postMessage(null)}}else j=function(){N(E,0)};function A(T){R=T,C||(C=!0,j())}function $(T,U){M=N(function(){T(e.unstable_now())},U)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(T){T.callback=null},e.unstable_continueExecution=function(){v||y||(v=!0,A(S))},e.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<T?Math.floor(1e3/T):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(T){switch(p){case 1:case 2:case 3:var U=3;break;default:U=p}var H=p;p=U;try{return T()}finally{p=H}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(T,U){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var H=p;p=T;try{return U()}finally{p=H}},e.unstable_scheduleCallback=function(T,U,H){var Y=e.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?Y+H:Y):H=Y,T){case 1:var ie=-1;break;case 2:ie=250;break;case 5:ie=1073741823;break;case 4:ie=1e4;break;default:ie=5e3}return ie=H+ie,T={id:m++,callback:U,priorityLevel:T,startTime:H,expirationTime:ie,sortIndex:-1},H>Y?(T.sortIndex=H,t(u,T),n(c)===null&&T===n(u)&&(k?(f(M),M=-1):k=!0,$(w,H-Y))):(T.sortIndex=ie,t(c,T),v||y||(v=!0,A(S))),T},e.unstable_shouldYield=G,e.unstable_wrapCallback=function(T){var U=p;return function(){var H=p;p=U;try{return T.apply(this,arguments)}finally{p=H}}}})(Lu);Pu.exports=Lu;var Th=Pu.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mh=x,tt=Th;function F(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ru=new Set,Fr={};function bn(e,t){Kn(e,t),Kn(e+"Capture",t)}function Kn(e,t){for(Fr[e]=t,e=0;e<t.length;e++)Ru.add(t[e])}var Rt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Mi=Object.prototype.hasOwnProperty,Ih=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Qa={},Ga={};function zh(e){return Mi.call(Ga,e)?!0:Mi.call(Qa,e)?!1:Ih.test(e)?Ga[e]=!0:(Qa[e]=!0,!1)}function Ph(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Lh(e,t,n,r){if(t===null||typeof t>"u"||Ph(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Be(e,t,n,r,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Le={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Le[e]=new Be(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Le[t]=new Be(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Le[e]=new Be(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Le[e]=new Be(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Le[e]=new Be(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Le[e]=new Be(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Le[e]=new Be(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Le[e]=new Be(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Le[e]=new Be(e,5,!1,e.toLowerCase(),null,!1,!1)});var Uo=/[\-:]([a-z])/g;function $o(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Uo,$o);Le[t]=new Be(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Uo,$o);Le[t]=new Be(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Uo,$o);Le[t]=new Be(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Le[e]=new Be(e,1,!1,e.toLowerCase(),null,!1,!1)});Le.xlinkHref=new Be("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Le[e]=new Be(e,1,!1,e.toLowerCase(),null,!0,!0)});function Do(e,t,n,r){var s=Le.hasOwnProperty(t)?Le[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Lh(t,n,s,r)&&(n=null),r||s===null?zh(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Ut=Mh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ms=Symbol.for("react.element"),zn=Symbol.for("react.portal"),Pn=Symbol.for("react.fragment"),Oo=Symbol.for("react.strict_mode"),Ii=Symbol.for("react.profiler"),_u=Symbol.for("react.provider"),Au=Symbol.for("react.context"),qo=Symbol.for("react.forward_ref"),zi=Symbol.for("react.suspense"),Pi=Symbol.for("react.suspense_list"),Wo=Symbol.for("react.memo"),Dt=Symbol.for("react.lazy"),Fu=Symbol.for("react.offscreen"),Ka=Symbol.iterator;function fr(e){return e===null||typeof e!="object"?null:(e=Ka&&e[Ka]||e["@@iterator"],typeof e=="function"?e:null)}var ve=Object.assign,Jl;function kr(e){if(Jl===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Jl=t&&t[1]||""}return`
`+Jl+e}var Zl=!1;function ei(e,t){if(!e||Zl)return"";Zl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var c=`
`+s[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=a);break}}}finally{Zl=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?kr(e):""}function Rh(e){switch(e.tag){case 5:return kr(e.type);case 16:return kr("Lazy");case 13:return kr("Suspense");case 19:return kr("SuspenseList");case 0:case 2:case 15:return e=ei(e.type,!1),e;case 11:return e=ei(e.type.render,!1),e;case 1:return e=ei(e.type,!0),e;default:return""}}function Li(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Pn:return"Fragment";case zn:return"Portal";case Ii:return"Profiler";case Oo:return"StrictMode";case zi:return"Suspense";case Pi:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Au:return(e.displayName||"Context")+".Consumer";case _u:return(e._context.displayName||"Context")+".Provider";case qo:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Wo:return t=e.displayName||null,t!==null?t:Li(e.type)||"Memo";case Dt:t=e._payload,e=e._init;try{return Li(e(t))}catch{}}return null}function _h(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Li(t);case 8:return t===Oo?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function en(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Uu(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Ah(e){var t=Uu(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function fs(e){e._valueTracker||(e._valueTracker=Ah(e))}function $u(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Uu(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Ks(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ri(e,t){var n=t.checked;return ve({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Ya(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=en(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Du(e,t){t=t.checked,t!=null&&Do(e,"checked",t,!1)}function _i(e,t){Du(e,t);var n=en(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ai(e,t.type,n):t.hasOwnProperty("defaultValue")&&Ai(e,t.type,en(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Xa(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Ai(e,t,n){(t!=="number"||Ks(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var jr=Array.isArray;function Wn(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+en(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Fi(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(F(91));return ve({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ja(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(F(92));if(jr(n)){if(1<n.length)throw Error(F(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:en(n)}}function Ou(e,t){var n=en(t.value),r=en(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Za(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function qu(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ui(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?qu(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var hs,Wu=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(hs=hs||document.createElement("div"),hs.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=hs.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ur(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Cr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Fh=["Webkit","ms","Moz","O"];Object.keys(Cr).forEach(function(e){Fh.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Cr[t]=Cr[e]})});function Hu(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Cr.hasOwnProperty(e)&&Cr[e]?(""+t).trim():t+"px"}function Bu(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Hu(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var Uh=ve({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function $i(e,t){if(t){if(Uh[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(F(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(F(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(F(61))}if(t.style!=null&&typeof t.style!="object")throw Error(F(62))}}function Di(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Oi=null;function Ho(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var qi=null,Hn=null,Bn=null;function ec(e){if(e=rs(e)){if(typeof qi!="function")throw Error(F(280));var t=e.stateNode;t&&(t=Ml(t),qi(e.stateNode,e.type,t))}}function Vu(e){Hn?Bn?Bn.push(e):Bn=[e]:Hn=e}function Qu(){if(Hn){var e=Hn,t=Bn;if(Bn=Hn=null,ec(e),t)for(e=0;e<t.length;e++)ec(t[e])}}function Gu(e,t){return e(t)}function Ku(){}var ti=!1;function Yu(e,t,n){if(ti)return e(t,n);ti=!0;try{return Gu(e,t,n)}finally{ti=!1,(Hn!==null||Bn!==null)&&(Ku(),Qu())}}function $r(e,t){var n=e.stateNode;if(n===null)return null;var r=Ml(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(F(231,t,typeof n));return n}var Wi=!1;if(Rt)try{var hr={};Object.defineProperty(hr,"passive",{get:function(){Wi=!0}}),window.addEventListener("test",hr,hr),window.removeEventListener("test",hr,hr)}catch{Wi=!1}function $h(e,t,n,r,s,i,o,a,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(m){this.onError(m)}}var Er=!1,Ys=null,Xs=!1,Hi=null,Dh={onError:function(e){Er=!0,Ys=e}};function Oh(e,t,n,r,s,i,o,a,c){Er=!1,Ys=null,$h.apply(Dh,arguments)}function qh(e,t,n,r,s,i,o,a,c){if(Oh.apply(this,arguments),Er){if(Er){var u=Ys;Er=!1,Ys=null}else throw Error(F(198));Xs||(Xs=!0,Hi=u)}}function Sn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Xu(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function tc(e){if(Sn(e)!==e)throw Error(F(188))}function Wh(e){var t=e.alternate;if(!t){if(t=Sn(e),t===null)throw Error(F(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return tc(s),e;if(i===r)return tc(s),t;i=i.sibling}throw Error(F(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(F(189))}}if(n.alternate!==r)throw Error(F(190))}if(n.tag!==3)throw Error(F(188));return n.stateNode.current===n?e:t}function Ju(e){return e=Wh(e),e!==null?Zu(e):null}function Zu(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Zu(e);if(t!==null)return t;e=e.sibling}return null}var ed=tt.unstable_scheduleCallback,nc=tt.unstable_cancelCallback,Hh=tt.unstable_shouldYield,Bh=tt.unstable_requestPaint,ke=tt.unstable_now,Vh=tt.unstable_getCurrentPriorityLevel,Bo=tt.unstable_ImmediatePriority,td=tt.unstable_UserBlockingPriority,Js=tt.unstable_NormalPriority,Qh=tt.unstable_LowPriority,nd=tt.unstable_IdlePriority,Sl=null,St=null;function Gh(e){if(St&&typeof St.onCommitFiberRoot=="function")try{St.onCommitFiberRoot(Sl,e,void 0,(e.current.flags&128)===128)}catch{}}var gt=Math.clz32?Math.clz32:Xh,Kh=Math.log,Yh=Math.LN2;function Xh(e){return e>>>=0,e===0?32:31-(Kh(e)/Yh|0)|0}var ps=64,xs=4194304;function Nr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Zs(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Nr(a):(i&=o,i!==0&&(r=Nr(i)))}else o=n&~s,o!==0?r=Nr(o):i!==0&&(r=Nr(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-gt(t),s=1<<n,r|=e[n],t&=~s;return r}function Jh(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Zh(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-gt(i),a=1<<o,c=s[o];c===-1?(!(a&n)||a&r)&&(s[o]=Jh(a,t)):c<=t&&(e.expiredLanes|=a),i&=~a}}function Bi(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function rd(){var e=ps;return ps<<=1,!(ps&4194240)&&(ps=64),e}function ni(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ts(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-gt(t),e[t]=n}function ep(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-gt(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function Vo(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-gt(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var de=0;function sd(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var ld,Qo,id,od,ad,Vi=!1,gs=[],Vt=null,Qt=null,Gt=null,Dr=new Map,Or=new Map,qt=[],tp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function rc(e,t){switch(e){case"focusin":case"focusout":Vt=null;break;case"dragenter":case"dragleave":Qt=null;break;case"mouseover":case"mouseout":Gt=null;break;case"pointerover":case"pointerout":Dr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Or.delete(t.pointerId)}}function pr(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=rs(t),t!==null&&Qo(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function np(e,t,n,r,s){switch(t){case"focusin":return Vt=pr(Vt,e,t,n,r,s),!0;case"dragenter":return Qt=pr(Qt,e,t,n,r,s),!0;case"mouseover":return Gt=pr(Gt,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return Dr.set(i,pr(Dr.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Or.set(i,pr(Or.get(i)||null,e,t,n,r,s)),!0}return!1}function cd(e){var t=dn(e.target);if(t!==null){var n=Sn(t);if(n!==null){if(t=n.tag,t===13){if(t=Xu(n),t!==null){e.blockedOn=t,ad(e.priority,function(){id(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function _s(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qi(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Oi=r,n.target.dispatchEvent(r),Oi=null}else return t=rs(n),t!==null&&Qo(t),e.blockedOn=n,!1;t.shift()}return!0}function sc(e,t,n){_s(e)&&n.delete(t)}function rp(){Vi=!1,Vt!==null&&_s(Vt)&&(Vt=null),Qt!==null&&_s(Qt)&&(Qt=null),Gt!==null&&_s(Gt)&&(Gt=null),Dr.forEach(sc),Or.forEach(sc)}function xr(e,t){e.blockedOn===t&&(e.blockedOn=null,Vi||(Vi=!0,tt.unstable_scheduleCallback(tt.unstable_NormalPriority,rp)))}function qr(e){function t(s){return xr(s,e)}if(0<gs.length){xr(gs[0],e);for(var n=1;n<gs.length;n++){var r=gs[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Vt!==null&&xr(Vt,e),Qt!==null&&xr(Qt,e),Gt!==null&&xr(Gt,e),Dr.forEach(t),Or.forEach(t),n=0;n<qt.length;n++)r=qt[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<qt.length&&(n=qt[0],n.blockedOn===null);)cd(n),n.blockedOn===null&&qt.shift()}var Vn=Ut.ReactCurrentBatchConfig,el=!0;function sp(e,t,n,r){var s=de,i=Vn.transition;Vn.transition=null;try{de=1,Go(e,t,n,r)}finally{de=s,Vn.transition=i}}function lp(e,t,n,r){var s=de,i=Vn.transition;Vn.transition=null;try{de=4,Go(e,t,n,r)}finally{de=s,Vn.transition=i}}function Go(e,t,n,r){if(el){var s=Qi(e,t,n,r);if(s===null)mi(e,t,r,tl,n),rc(e,r);else if(np(s,e,t,n,r))r.stopPropagation();else if(rc(e,r),t&4&&-1<tp.indexOf(e)){for(;s!==null;){var i=rs(s);if(i!==null&&ld(i),i=Qi(e,t,n,r),i===null&&mi(e,t,r,tl,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else mi(e,t,r,null,n)}}var tl=null;function Qi(e,t,n,r){if(tl=null,e=Ho(r),e=dn(e),e!==null)if(t=Sn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Xu(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return tl=e,null}function ud(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Vh()){case Bo:return 1;case td:return 4;case Js:case Qh:return 16;case nd:return 536870912;default:return 16}default:return 16}}var Ht=null,Ko=null,As=null;function dd(){if(As)return As;var e,t=Ko,n=t.length,r,s="value"in Ht?Ht.value:Ht.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===s[i-r];r++);return As=s.slice(e,1<r?1-r:void 0)}function Fs(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ys(){return!0}function lc(){return!1}function rt(e){function t(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ys:lc,this.isPropagationStopped=lc,this}return ve(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ys)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ys)},persist:function(){},isPersistent:ys}),t}var sr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Yo=rt(sr),ns=ve({},sr,{view:0,detail:0}),ip=rt(ns),ri,si,gr,Cl=ve({},ns,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==gr&&(gr&&e.type==="mousemove"?(ri=e.screenX-gr.screenX,si=e.screenY-gr.screenY):si=ri=0,gr=e),ri)},movementY:function(e){return"movementY"in e?e.movementY:si}}),ic=rt(Cl),op=ve({},Cl,{dataTransfer:0}),ap=rt(op),cp=ve({},ns,{relatedTarget:0}),li=rt(cp),up=ve({},sr,{animationName:0,elapsedTime:0,pseudoElement:0}),dp=rt(up),mp=ve({},sr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),fp=rt(mp),hp=ve({},sr,{data:0}),oc=rt(hp),pp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yp(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=gp[e])?!!t[e]:!1}function Xo(){return yp}var vp=ve({},ns,{key:function(e){if(e.key){var t=pp[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Fs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?xp[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xo,charCode:function(e){return e.type==="keypress"?Fs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Fs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),wp=rt(vp),kp=ve({},Cl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ac=rt(kp),jp=ve({},ns,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xo}),Np=rt(jp),bp=ve({},sr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Sp=rt(bp),Cp=ve({},Cl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ep=rt(Cp),Tp=[9,13,27,32],Jo=Rt&&"CompositionEvent"in window,Tr=null;Rt&&"documentMode"in document&&(Tr=document.documentMode);var Mp=Rt&&"TextEvent"in window&&!Tr,md=Rt&&(!Jo||Tr&&8<Tr&&11>=Tr),cc=" ",uc=!1;function fd(e,t){switch(e){case"keyup":return Tp.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function hd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ln=!1;function Ip(e,t){switch(e){case"compositionend":return hd(t);case"keypress":return t.which!==32?null:(uc=!0,cc);case"textInput":return e=t.data,e===cc&&uc?null:e;default:return null}}function zp(e,t){if(Ln)return e==="compositionend"||!Jo&&fd(e,t)?(e=dd(),As=Ko=Ht=null,Ln=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return md&&t.locale!=="ko"?null:t.data;default:return null}}var Pp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Pp[e.type]:t==="textarea"}function pd(e,t,n,r){Vu(r),t=nl(t,"onChange"),0<t.length&&(n=new Yo("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Mr=null,Wr=null;function Lp(e){Cd(e,0)}function El(e){var t=An(e);if($u(t))return e}function Rp(e,t){if(e==="change")return t}var xd=!1;if(Rt){var ii;if(Rt){var oi="oninput"in document;if(!oi){var mc=document.createElement("div");mc.setAttribute("oninput","return;"),oi=typeof mc.oninput=="function"}ii=oi}else ii=!1;xd=ii&&(!document.documentMode||9<document.documentMode)}function fc(){Mr&&(Mr.detachEvent("onpropertychange",gd),Wr=Mr=null)}function gd(e){if(e.propertyName==="value"&&El(Wr)){var t=[];pd(t,Wr,e,Ho(e)),Yu(Lp,t)}}function _p(e,t,n){e==="focusin"?(fc(),Mr=t,Wr=n,Mr.attachEvent("onpropertychange",gd)):e==="focusout"&&fc()}function Ap(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return El(Wr)}function Fp(e,t){if(e==="click")return El(t)}function Up(e,t){if(e==="input"||e==="change")return El(t)}function $p(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var vt=typeof Object.is=="function"?Object.is:$p;function Hr(e,t){if(vt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Mi.call(t,s)||!vt(e[s],t[s]))return!1}return!0}function hc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pc(e,t){var n=hc(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=hc(n)}}function yd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?yd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function vd(){for(var e=window,t=Ks();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Ks(e.document)}return t}function Zo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Dp(e){var t=vd(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&yd(n.ownerDocument.documentElement,n)){if(r!==null&&Zo(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=pc(n,i);var o=pc(n,r);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Op=Rt&&"documentMode"in document&&11>=document.documentMode,Rn=null,Gi=null,Ir=null,Ki=!1;function xc(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ki||Rn==null||Rn!==Ks(r)||(r=Rn,"selectionStart"in r&&Zo(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ir&&Hr(Ir,r)||(Ir=r,r=nl(Gi,"onSelect"),0<r.length&&(t=new Yo("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Rn)))}function vs(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var _n={animationend:vs("Animation","AnimationEnd"),animationiteration:vs("Animation","AnimationIteration"),animationstart:vs("Animation","AnimationStart"),transitionend:vs("Transition","TransitionEnd")},ai={},wd={};Rt&&(wd=document.createElement("div").style,"AnimationEvent"in window||(delete _n.animationend.animation,delete _n.animationiteration.animation,delete _n.animationstart.animation),"TransitionEvent"in window||delete _n.transitionend.transition);function Tl(e){if(ai[e])return ai[e];if(!_n[e])return e;var t=_n[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in wd)return ai[e]=t[n];return e}var kd=Tl("animationend"),jd=Tl("animationiteration"),Nd=Tl("animationstart"),bd=Tl("transitionend"),Sd=new Map,gc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function nn(e,t){Sd.set(e,t),bn(t,[e])}for(var ci=0;ci<gc.length;ci++){var ui=gc[ci],qp=ui.toLowerCase(),Wp=ui[0].toUpperCase()+ui.slice(1);nn(qp,"on"+Wp)}nn(kd,"onAnimationEnd");nn(jd,"onAnimationIteration");nn(Nd,"onAnimationStart");nn("dblclick","onDoubleClick");nn("focusin","onFocus");nn("focusout","onBlur");nn(bd,"onTransitionEnd");Kn("onMouseEnter",["mouseout","mouseover"]);Kn("onMouseLeave",["mouseout","mouseover"]);Kn("onPointerEnter",["pointerout","pointerover"]);Kn("onPointerLeave",["pointerout","pointerover"]);bn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));bn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));bn("onBeforeInput",["compositionend","keypress","textInput","paste"]);bn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));bn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));bn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var br="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Hp=new Set("cancel close invalid load scroll toggle".split(" ").concat(br));function yc(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,qh(r,t,void 0,e),e.currentTarget=null}function Cd(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],c=a.instance,u=a.currentTarget;if(a=a.listener,c!==i&&s.isPropagationStopped())break e;yc(s,a,u),i=c}else for(o=0;o<r.length;o++){if(a=r[o],c=a.instance,u=a.currentTarget,a=a.listener,c!==i&&s.isPropagationStopped())break e;yc(s,a,u),i=c}}}if(Xs)throw e=Hi,Xs=!1,Hi=null,e}function he(e,t){var n=t[eo];n===void 0&&(n=t[eo]=new Set);var r=e+"__bubble";n.has(r)||(Ed(t,e,2,!1),n.add(r))}function di(e,t,n){var r=0;t&&(r|=4),Ed(n,e,r,t)}var ws="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[ws]){e[ws]=!0,Ru.forEach(function(n){n!=="selectionchange"&&(Hp.has(n)||di(n,!1,e),di(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ws]||(t[ws]=!0,di("selectionchange",!1,t))}}function Ed(e,t,n,r){switch(ud(t)){case 1:var s=sp;break;case 4:s=lp;break;default:s=Go}n=s.bind(null,t,n,e),s=void 0,!Wi||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function mi(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;a!==null;){if(o=dn(a),o===null)return;if(c=o.tag,c===5||c===6){r=i=o;continue e}a=a.parentNode}}r=r.return}Yu(function(){var u=i,m=Ho(n),h=[];e:{var p=Sd.get(e);if(p!==void 0){var y=Yo,v=e;switch(e){case"keypress":if(Fs(n)===0)break e;case"keydown":case"keyup":y=wp;break;case"focusin":v="focus",y=li;break;case"focusout":v="blur",y=li;break;case"beforeblur":case"afterblur":y=li;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=ic;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=ap;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=Np;break;case kd:case jd:case Nd:y=dp;break;case bd:y=Sp;break;case"scroll":y=ip;break;case"wheel":y=Ep;break;case"copy":case"cut":case"paste":y=fp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=ac}var k=(t&4)!==0,N=!k&&e==="scroll",f=k?p!==null?p+"Capture":null:p;k=[];for(var d=u,g;d!==null;){g=d;var w=g.stateNode;if(g.tag===5&&w!==null&&(g=w,f!==null&&(w=$r(d,f),w!=null&&k.push(Vr(d,w,g)))),N)break;d=d.return}0<k.length&&(p=new y(p,v,null,n,m),h.push({event:p,listeners:k}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",p&&n!==Oi&&(v=n.relatedTarget||n.fromElement)&&(dn(v)||v[_t]))break e;if((y||p)&&(p=m.window===m?m:(p=m.ownerDocument)?p.defaultView||p.parentWindow:window,y?(v=n.relatedTarget||n.toElement,y=u,v=v?dn(v):null,v!==null&&(N=Sn(v),v!==N||v.tag!==5&&v.tag!==6)&&(v=null)):(y=null,v=u),y!==v)){if(k=ic,w="onMouseLeave",f="onMouseEnter",d="mouse",(e==="pointerout"||e==="pointerover")&&(k=ac,w="onPointerLeave",f="onPointerEnter",d="pointer"),N=y==null?p:An(y),g=v==null?p:An(v),p=new k(w,d+"leave",y,n,m),p.target=N,p.relatedTarget=g,w=null,dn(m)===u&&(k=new k(f,d+"enter",v,n,m),k.target=g,k.relatedTarget=N,w=k),N=w,y&&v)t:{for(k=y,f=v,d=0,g=k;g;g=Tn(g))d++;for(g=0,w=f;w;w=Tn(w))g++;for(;0<d-g;)k=Tn(k),d--;for(;0<g-d;)f=Tn(f),g--;for(;d--;){if(k===f||f!==null&&k===f.alternate)break t;k=Tn(k),f=Tn(f)}k=null}else k=null;y!==null&&vc(h,p,y,k,!1),v!==null&&N!==null&&vc(h,N,v,k,!0)}}e:{if(p=u?An(u):window,y=p.nodeName&&p.nodeName.toLowerCase(),y==="select"||y==="input"&&p.type==="file")var S=Rp;else if(dc(p))if(xd)S=Up;else{S=Ap;var C=_p}else(y=p.nodeName)&&y.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(S=Fp);if(S&&(S=S(e,u))){pd(h,S,n,m);break e}C&&C(e,p,u),e==="focusout"&&(C=p._wrapperState)&&C.controlled&&p.type==="number"&&Ai(p,"number",p.value)}switch(C=u?An(u):window,e){case"focusin":(dc(C)||C.contentEditable==="true")&&(Rn=C,Gi=u,Ir=null);break;case"focusout":Ir=Gi=Rn=null;break;case"mousedown":Ki=!0;break;case"contextmenu":case"mouseup":case"dragend":Ki=!1,xc(h,n,m);break;case"selectionchange":if(Op)break;case"keydown":case"keyup":xc(h,n,m)}var R;if(Jo)e:{switch(e){case"compositionstart":var M="onCompositionStart";break e;case"compositionend":M="onCompositionEnd";break e;case"compositionupdate":M="onCompositionUpdate";break e}M=void 0}else Ln?fd(e,n)&&(M="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(M="onCompositionStart");M&&(md&&n.locale!=="ko"&&(Ln||M!=="onCompositionStart"?M==="onCompositionEnd"&&Ln&&(R=dd()):(Ht=m,Ko="value"in Ht?Ht.value:Ht.textContent,Ln=!0)),C=nl(u,M),0<C.length&&(M=new oc(M,e,null,n,m),h.push({event:M,listeners:C}),R?M.data=R:(R=hd(n),R!==null&&(M.data=R)))),(R=Mp?Ip(e,n):zp(e,n))&&(u=nl(u,"onBeforeInput"),0<u.length&&(m=new oc("onBeforeInput","beforeinput",null,n,m),h.push({event:m,listeners:u}),m.data=R))}Cd(h,t)})}function Vr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function nl(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=$r(e,n),i!=null&&r.unshift(Vr(e,i,s)),i=$r(e,t),i!=null&&r.push(Vr(e,i,s))),e=e.return}return r}function Tn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function vc(e,t,n,r,s){for(var i=t._reactName,o=[];n!==null&&n!==r;){var a=n,c=a.alternate,u=a.stateNode;if(c!==null&&c===r)break;a.tag===5&&u!==null&&(a=u,s?(c=$r(n,i),c!=null&&o.unshift(Vr(n,c,a))):s||(c=$r(n,i),c!=null&&o.push(Vr(n,c,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var Bp=/\r\n?/g,Vp=/\u0000|\uFFFD/g;function wc(e){return(typeof e=="string"?e:""+e).replace(Bp,`
`).replace(Vp,"")}function ks(e,t,n){if(t=wc(t),wc(e)!==t&&n)throw Error(F(425))}function rl(){}var Yi=null,Xi=null;function Ji(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Zi=typeof setTimeout=="function"?setTimeout:void 0,Qp=typeof clearTimeout=="function"?clearTimeout:void 0,kc=typeof Promise=="function"?Promise:void 0,Gp=typeof queueMicrotask=="function"?queueMicrotask:typeof kc<"u"?function(e){return kc.resolve(null).then(e).catch(Kp)}:Zi;function Kp(e){setTimeout(function(){throw e})}function fi(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),qr(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);qr(t)}function Kt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function jc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var lr=Math.random().toString(36).slice(2),bt="__reactFiber$"+lr,Qr="__reactProps$"+lr,_t="__reactContainer$"+lr,eo="__reactEvents$"+lr,Yp="__reactListeners$"+lr,Xp="__reactHandles$"+lr;function dn(e){var t=e[bt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[_t]||n[bt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=jc(e);e!==null;){if(n=e[bt])return n;e=jc(e)}return t}e=n,n=e.parentNode}return null}function rs(e){return e=e[bt]||e[_t],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function An(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(F(33))}function Ml(e){return e[Qr]||null}var to=[],Fn=-1;function rn(e){return{current:e}}function pe(e){0>Fn||(e.current=to[Fn],to[Fn]=null,Fn--)}function me(e,t){Fn++,to[Fn]=e.current,e.current=t}var tn={},Ue=rn(tn),Ke=rn(!1),vn=tn;function Yn(e,t){var n=e.type.contextTypes;if(!n)return tn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ye(e){return e=e.childContextTypes,e!=null}function sl(){pe(Ke),pe(Ue)}function Nc(e,t,n){if(Ue.current!==tn)throw Error(F(168));me(Ue,t),me(Ke,n)}function Td(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(F(108,_h(e)||"Unknown",s));return ve({},n,r)}function ll(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||tn,vn=Ue.current,me(Ue,e),me(Ke,Ke.current),!0}function bc(e,t,n){var r=e.stateNode;if(!r)throw Error(F(169));n?(e=Td(e,t,vn),r.__reactInternalMemoizedMergedChildContext=e,pe(Ke),pe(Ue),me(Ue,e)):pe(Ke),me(Ke,n)}var It=null,Il=!1,hi=!1;function Md(e){It===null?It=[e]:It.push(e)}function Jp(e){Il=!0,Md(e)}function sn(){if(!hi&&It!==null){hi=!0;var e=0,t=de;try{var n=It;for(de=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}It=null,Il=!1}catch(s){throw It!==null&&(It=It.slice(e+1)),ed(Bo,sn),s}finally{de=t,hi=!1}}return null}var Un=[],$n=0,il=null,ol=0,lt=[],it=0,wn=null,zt=1,Pt="";function cn(e,t){Un[$n++]=ol,Un[$n++]=il,il=e,ol=t}function Id(e,t,n){lt[it++]=zt,lt[it++]=Pt,lt[it++]=wn,wn=e;var r=zt;e=Pt;var s=32-gt(r)-1;r&=~(1<<s),n+=1;var i=32-gt(t)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,zt=1<<32-gt(t)+s|n<<s|r,Pt=i+e}else zt=1<<i|n<<s|r,Pt=e}function ea(e){e.return!==null&&(cn(e,1),Id(e,1,0))}function ta(e){for(;e===il;)il=Un[--$n],Un[$n]=null,ol=Un[--$n],Un[$n]=null;for(;e===wn;)wn=lt[--it],lt[it]=null,Pt=lt[--it],lt[it]=null,zt=lt[--it],lt[it]=null}var et=null,Ze=null,xe=!1,pt=null;function zd(e,t){var n=ot(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Sc(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,et=e,Ze=Kt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,et=e,Ze=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=wn!==null?{id:zt,overflow:Pt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=ot(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,et=e,Ze=null,!0):!1;default:return!1}}function no(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ro(e){if(xe){var t=Ze;if(t){var n=t;if(!Sc(e,t)){if(no(e))throw Error(F(418));t=Kt(n.nextSibling);var r=et;t&&Sc(e,t)?zd(r,n):(e.flags=e.flags&-4097|2,xe=!1,et=e)}}else{if(no(e))throw Error(F(418));e.flags=e.flags&-4097|2,xe=!1,et=e}}}function Cc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;et=e}function js(e){if(e!==et)return!1;if(!xe)return Cc(e),xe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ji(e.type,e.memoizedProps)),t&&(t=Ze)){if(no(e))throw Pd(),Error(F(418));for(;t;)zd(e,t),t=Kt(t.nextSibling)}if(Cc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(F(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ze=Kt(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ze=null}}else Ze=et?Kt(e.stateNode.nextSibling):null;return!0}function Pd(){for(var e=Ze;e;)e=Kt(e.nextSibling)}function Xn(){Ze=et=null,xe=!1}function na(e){pt===null?pt=[e]:pt.push(e)}var Zp=Ut.ReactCurrentBatchConfig;function yr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(F(309));var r=n.stateNode}if(!r)throw Error(F(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(F(284));if(!n._owner)throw Error(F(290,e))}return e}function Ns(e,t){throw e=Object.prototype.toString.call(t),Error(F(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ec(e){var t=e._init;return t(e._payload)}function Ld(e){function t(f,d){if(e){var g=f.deletions;g===null?(f.deletions=[d],f.flags|=16):g.push(d)}}function n(f,d){if(!e)return null;for(;d!==null;)t(f,d),d=d.sibling;return null}function r(f,d){for(f=new Map;d!==null;)d.key!==null?f.set(d.key,d):f.set(d.index,d),d=d.sibling;return f}function s(f,d){return f=Zt(f,d),f.index=0,f.sibling=null,f}function i(f,d,g){return f.index=g,e?(g=f.alternate,g!==null?(g=g.index,g<d?(f.flags|=2,d):g):(f.flags|=2,d)):(f.flags|=1048576,d)}function o(f){return e&&f.alternate===null&&(f.flags|=2),f}function a(f,d,g,w){return d===null||d.tag!==6?(d=ki(g,f.mode,w),d.return=f,d):(d=s(d,g),d.return=f,d)}function c(f,d,g,w){var S=g.type;return S===Pn?m(f,d,g.props.children,w,g.key):d!==null&&(d.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Dt&&Ec(S)===d.type)?(w=s(d,g.props),w.ref=yr(f,d,g),w.return=f,w):(w=Hs(g.type,g.key,g.props,null,f.mode,w),w.ref=yr(f,d,g),w.return=f,w)}function u(f,d,g,w){return d===null||d.tag!==4||d.stateNode.containerInfo!==g.containerInfo||d.stateNode.implementation!==g.implementation?(d=ji(g,f.mode,w),d.return=f,d):(d=s(d,g.children||[]),d.return=f,d)}function m(f,d,g,w,S){return d===null||d.tag!==7?(d=pn(g,f.mode,w,S),d.return=f,d):(d=s(d,g),d.return=f,d)}function h(f,d,g){if(typeof d=="string"&&d!==""||typeof d=="number")return d=ki(""+d,f.mode,g),d.return=f,d;if(typeof d=="object"&&d!==null){switch(d.$$typeof){case ms:return g=Hs(d.type,d.key,d.props,null,f.mode,g),g.ref=yr(f,null,d),g.return=f,g;case zn:return d=ji(d,f.mode,g),d.return=f,d;case Dt:var w=d._init;return h(f,w(d._payload),g)}if(jr(d)||fr(d))return d=pn(d,f.mode,g,null),d.return=f,d;Ns(f,d)}return null}function p(f,d,g,w){var S=d!==null?d.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return S!==null?null:a(f,d,""+g,w);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case ms:return g.key===S?c(f,d,g,w):null;case zn:return g.key===S?u(f,d,g,w):null;case Dt:return S=g._init,p(f,d,S(g._payload),w)}if(jr(g)||fr(g))return S!==null?null:m(f,d,g,w,null);Ns(f,g)}return null}function y(f,d,g,w,S){if(typeof w=="string"&&w!==""||typeof w=="number")return f=f.get(g)||null,a(d,f,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case ms:return f=f.get(w.key===null?g:w.key)||null,c(d,f,w,S);case zn:return f=f.get(w.key===null?g:w.key)||null,u(d,f,w,S);case Dt:var C=w._init;return y(f,d,g,C(w._payload),S)}if(jr(w)||fr(w))return f=f.get(g)||null,m(d,f,w,S,null);Ns(d,w)}return null}function v(f,d,g,w){for(var S=null,C=null,R=d,M=d=0,q=null;R!==null&&M<g.length;M++){R.index>M?(q=R,R=null):q=R.sibling;var P=p(f,R,g[M],w);if(P===null){R===null&&(R=q);break}e&&R&&P.alternate===null&&t(f,R),d=i(P,d,M),C===null?S=P:C.sibling=P,C=P,R=q}if(M===g.length)return n(f,R),xe&&cn(f,M),S;if(R===null){for(;M<g.length;M++)R=h(f,g[M],w),R!==null&&(d=i(R,d,M),C===null?S=R:C.sibling=R,C=R);return xe&&cn(f,M),S}for(R=r(f,R);M<g.length;M++)q=y(R,f,M,g[M],w),q!==null&&(e&&q.alternate!==null&&R.delete(q.key===null?M:q.key),d=i(q,d,M),C===null?S=q:C.sibling=q,C=q);return e&&R.forEach(function(G){return t(f,G)}),xe&&cn(f,M),S}function k(f,d,g,w){var S=fr(g);if(typeof S!="function")throw Error(F(150));if(g=S.call(g),g==null)throw Error(F(151));for(var C=S=null,R=d,M=d=0,q=null,P=g.next();R!==null&&!P.done;M++,P=g.next()){R.index>M?(q=R,R=null):q=R.sibling;var G=p(f,R,P.value,w);if(G===null){R===null&&(R=q);break}e&&R&&G.alternate===null&&t(f,R),d=i(G,d,M),C===null?S=G:C.sibling=G,C=G,R=q}if(P.done)return n(f,R),xe&&cn(f,M),S;if(R===null){for(;!P.done;M++,P=g.next())P=h(f,P.value,w),P!==null&&(d=i(P,d,M),C===null?S=P:C.sibling=P,C=P);return xe&&cn(f,M),S}for(R=r(f,R);!P.done;M++,P=g.next())P=y(R,f,M,P.value,w),P!==null&&(e&&P.alternate!==null&&R.delete(P.key===null?M:P.key),d=i(P,d,M),C===null?S=P:C.sibling=P,C=P);return e&&R.forEach(function(E){return t(f,E)}),xe&&cn(f,M),S}function N(f,d,g,w){if(typeof g=="object"&&g!==null&&g.type===Pn&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case ms:e:{for(var S=g.key,C=d;C!==null;){if(C.key===S){if(S=g.type,S===Pn){if(C.tag===7){n(f,C.sibling),d=s(C,g.props.children),d.return=f,f=d;break e}}else if(C.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Dt&&Ec(S)===C.type){n(f,C.sibling),d=s(C,g.props),d.ref=yr(f,C,g),d.return=f,f=d;break e}n(f,C);break}else t(f,C);C=C.sibling}g.type===Pn?(d=pn(g.props.children,f.mode,w,g.key),d.return=f,f=d):(w=Hs(g.type,g.key,g.props,null,f.mode,w),w.ref=yr(f,d,g),w.return=f,f=w)}return o(f);case zn:e:{for(C=g.key;d!==null;){if(d.key===C)if(d.tag===4&&d.stateNode.containerInfo===g.containerInfo&&d.stateNode.implementation===g.implementation){n(f,d.sibling),d=s(d,g.children||[]),d.return=f,f=d;break e}else{n(f,d);break}else t(f,d);d=d.sibling}d=ji(g,f.mode,w),d.return=f,f=d}return o(f);case Dt:return C=g._init,N(f,d,C(g._payload),w)}if(jr(g))return v(f,d,g,w);if(fr(g))return k(f,d,g,w);Ns(f,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,d!==null&&d.tag===6?(n(f,d.sibling),d=s(d,g),d.return=f,f=d):(n(f,d),d=ki(g,f.mode,w),d.return=f,f=d),o(f)):n(f,d)}return N}var Jn=Ld(!0),Rd=Ld(!1),al=rn(null),cl=null,Dn=null,ra=null;function sa(){ra=Dn=cl=null}function la(e){var t=al.current;pe(al),e._currentValue=t}function so(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Qn(e,t){cl=e,ra=Dn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ge=!0),e.firstContext=null)}function ct(e){var t=e._currentValue;if(ra!==e)if(e={context:e,memoizedValue:t,next:null},Dn===null){if(cl===null)throw Error(F(308));Dn=e,cl.dependencies={lanes:0,firstContext:e}}else Dn=Dn.next=e;return t}var mn=null;function ia(e){mn===null?mn=[e]:mn.push(e)}function _d(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,ia(t)):(n.next=s.next,s.next=n),t.interleaved=n,At(e,r)}function At(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Ot=!1;function oa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ad(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Lt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Yt(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,re&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,At(e,n)}return s=r.interleaved,s===null?(t.next=t,ia(r)):(t.next=s.next,s.next=t),r.interleaved=t,At(e,n)}function Us(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Vo(e,n)}}function Tc(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ul(e,t,n,r){var s=e.updateQueue;Ot=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var c=a,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var m=e.alternate;m!==null&&(m=m.updateQueue,a=m.lastBaseUpdate,a!==o&&(a===null?m.firstBaseUpdate=u:a.next=u,m.lastBaseUpdate=c))}if(i!==null){var h=s.baseState;o=0,m=u=c=null,a=i;do{var p=a.lane,y=a.eventTime;if((r&p)===p){m!==null&&(m=m.next={eventTime:y,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=e,k=a;switch(p=t,y=n,k.tag){case 1:if(v=k.payload,typeof v=="function"){h=v.call(y,h,p);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=k.payload,p=typeof v=="function"?v.call(y,h,p):v,p==null)break e;h=ve({},h,p);break e;case 2:Ot=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,p=s.effects,p===null?s.effects=[a]:p.push(a))}else y={eventTime:y,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},m===null?(u=m=y,c=h):m=m.next=y,o|=p;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;p=a,a=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(m===null&&(c=h),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=m,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);jn|=o,e.lanes=o,e.memoizedState=h}}function Mc(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(F(191,s));s.call(r)}}}var ss={},Ct=rn(ss),Gr=rn(ss),Kr=rn(ss);function fn(e){if(e===ss)throw Error(F(174));return e}function aa(e,t){switch(me(Kr,t),me(Gr,e),me(Ct,ss),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ui(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ui(t,e)}pe(Ct),me(Ct,t)}function Zn(){pe(Ct),pe(Gr),pe(Kr)}function Fd(e){fn(Kr.current);var t=fn(Ct.current),n=Ui(t,e.type);t!==n&&(me(Gr,e),me(Ct,n))}function ca(e){Gr.current===e&&(pe(Ct),pe(Gr))}var ge=rn(0);function dl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var pi=[];function ua(){for(var e=0;e<pi.length;e++)pi[e]._workInProgressVersionPrimary=null;pi.length=0}var $s=Ut.ReactCurrentDispatcher,xi=Ut.ReactCurrentBatchConfig,kn=0,ye=null,Ce=null,Te=null,ml=!1,zr=!1,Yr=0,ex=0;function _e(){throw Error(F(321))}function da(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!vt(e[n],t[n]))return!1;return!0}function ma(e,t,n,r,s,i){if(kn=i,ye=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,$s.current=e===null||e.memoizedState===null?sx:lx,e=n(r,s),zr){i=0;do{if(zr=!1,Yr=0,25<=i)throw Error(F(301));i+=1,Te=Ce=null,t.updateQueue=null,$s.current=ix,e=n(r,s)}while(zr)}if($s.current=fl,t=Ce!==null&&Ce.next!==null,kn=0,Te=Ce=ye=null,ml=!1,t)throw Error(F(300));return e}function fa(){var e=Yr!==0;return Yr=0,e}function Nt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Te===null?ye.memoizedState=Te=e:Te=Te.next=e,Te}function ut(){if(Ce===null){var e=ye.alternate;e=e!==null?e.memoizedState:null}else e=Ce.next;var t=Te===null?ye.memoizedState:Te.next;if(t!==null)Te=t,Ce=e;else{if(e===null)throw Error(F(310));Ce=e,e={memoizedState:Ce.memoizedState,baseState:Ce.baseState,baseQueue:Ce.baseQueue,queue:Ce.queue,next:null},Te===null?ye.memoizedState=Te=e:Te=Te.next=e}return Te}function Xr(e,t){return typeof t=="function"?t(e):t}function gi(e){var t=ut(),n=t.queue;if(n===null)throw Error(F(311));n.lastRenderedReducer=e;var r=Ce,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,c=null,u=i;do{var m=u.lane;if((kn&m)===m)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:m,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(a=c=h,o=r):c=c.next=h,ye.lanes|=m,jn|=m}u=u.next}while(u!==null&&u!==i);c===null?o=r:c.next=a,vt(r,t.memoizedState)||(Ge=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,ye.lanes|=i,jn|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function yi(e){var t=ut(),n=t.queue;if(n===null)throw Error(F(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);vt(i,t.memoizedState)||(Ge=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Ud(){}function $d(e,t){var n=ye,r=ut(),s=t(),i=!vt(r.memoizedState,s);if(i&&(r.memoizedState=s,Ge=!0),r=r.queue,ha(qd.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||Te!==null&&Te.memoizedState.tag&1){if(n.flags|=2048,Jr(9,Od.bind(null,n,r,s,t),void 0,null),Me===null)throw Error(F(349));kn&30||Dd(n,t,s)}return s}function Dd(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ye.updateQueue,t===null?(t={lastEffect:null,stores:null},ye.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Od(e,t,n,r){t.value=n,t.getSnapshot=r,Wd(t)&&Hd(e)}function qd(e,t,n){return n(function(){Wd(t)&&Hd(e)})}function Wd(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!vt(e,n)}catch{return!0}}function Hd(e){var t=At(e,1);t!==null&&yt(t,e,1,-1)}function Ic(e){var t=Nt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Xr,lastRenderedState:e},t.queue=e,e=e.dispatch=rx.bind(null,ye,e),[t.memoizedState,e]}function Jr(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ye.updateQueue,t===null?(t={lastEffect:null,stores:null},ye.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Bd(){return ut().memoizedState}function Ds(e,t,n,r){var s=Nt();ye.flags|=e,s.memoizedState=Jr(1|t,n,void 0,r===void 0?null:r)}function zl(e,t,n,r){var s=ut();r=r===void 0?null:r;var i=void 0;if(Ce!==null){var o=Ce.memoizedState;if(i=o.destroy,r!==null&&da(r,o.deps)){s.memoizedState=Jr(t,n,i,r);return}}ye.flags|=e,s.memoizedState=Jr(1|t,n,i,r)}function zc(e,t){return Ds(8390656,8,e,t)}function ha(e,t){return zl(2048,8,e,t)}function Vd(e,t){return zl(4,2,e,t)}function Qd(e,t){return zl(4,4,e,t)}function Gd(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Kd(e,t,n){return n=n!=null?n.concat([e]):null,zl(4,4,Gd.bind(null,t,e),n)}function pa(){}function Yd(e,t){var n=ut();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&da(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Xd(e,t){var n=ut();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&da(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Jd(e,t,n){return kn&21?(vt(n,t)||(n=rd(),ye.lanes|=n,jn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ge=!0),e.memoizedState=n)}function tx(e,t){var n=de;de=n!==0&&4>n?n:4,e(!0);var r=xi.transition;xi.transition={};try{e(!1),t()}finally{de=n,xi.transition=r}}function Zd(){return ut().memoizedState}function nx(e,t,n){var r=Jt(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},em(e))tm(t,n);else if(n=_d(e,t,n,r),n!==null){var s=We();yt(n,e,r,s),nm(n,t,r)}}function rx(e,t,n){var r=Jt(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(em(e))tm(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,vt(a,o)){var c=t.interleaved;c===null?(s.next=s,ia(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}n=_d(e,t,s,r),n!==null&&(s=We(),yt(n,e,r,s),nm(n,t,r))}}function em(e){var t=e.alternate;return e===ye||t!==null&&t===ye}function tm(e,t){zr=ml=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function nm(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Vo(e,n)}}var fl={readContext:ct,useCallback:_e,useContext:_e,useEffect:_e,useImperativeHandle:_e,useInsertionEffect:_e,useLayoutEffect:_e,useMemo:_e,useReducer:_e,useRef:_e,useState:_e,useDebugValue:_e,useDeferredValue:_e,useTransition:_e,useMutableSource:_e,useSyncExternalStore:_e,useId:_e,unstable_isNewReconciler:!1},sx={readContext:ct,useCallback:function(e,t){return Nt().memoizedState=[e,t===void 0?null:t],e},useContext:ct,useEffect:zc,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Ds(4194308,4,Gd.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ds(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ds(4,2,e,t)},useMemo:function(e,t){var n=Nt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Nt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=nx.bind(null,ye,e),[r.memoizedState,e]},useRef:function(e){var t=Nt();return e={current:e},t.memoizedState=e},useState:Ic,useDebugValue:pa,useDeferredValue:function(e){return Nt().memoizedState=e},useTransition:function(){var e=Ic(!1),t=e[0];return e=tx.bind(null,e[1]),Nt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ye,s=Nt();if(xe){if(n===void 0)throw Error(F(407));n=n()}else{if(n=t(),Me===null)throw Error(F(349));kn&30||Dd(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,zc(qd.bind(null,r,i,e),[e]),r.flags|=2048,Jr(9,Od.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Nt(),t=Me.identifierPrefix;if(xe){var n=Pt,r=zt;n=(r&~(1<<32-gt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Yr++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=ex++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},lx={readContext:ct,useCallback:Yd,useContext:ct,useEffect:ha,useImperativeHandle:Kd,useInsertionEffect:Vd,useLayoutEffect:Qd,useMemo:Xd,useReducer:gi,useRef:Bd,useState:function(){return gi(Xr)},useDebugValue:pa,useDeferredValue:function(e){var t=ut();return Jd(t,Ce.memoizedState,e)},useTransition:function(){var e=gi(Xr)[0],t=ut().memoizedState;return[e,t]},useMutableSource:Ud,useSyncExternalStore:$d,useId:Zd,unstable_isNewReconciler:!1},ix={readContext:ct,useCallback:Yd,useContext:ct,useEffect:ha,useImperativeHandle:Kd,useInsertionEffect:Vd,useLayoutEffect:Qd,useMemo:Xd,useReducer:yi,useRef:Bd,useState:function(){return yi(Xr)},useDebugValue:pa,useDeferredValue:function(e){var t=ut();return Ce===null?t.memoizedState=e:Jd(t,Ce.memoizedState,e)},useTransition:function(){var e=yi(Xr)[0],t=ut().memoizedState;return[e,t]},useMutableSource:Ud,useSyncExternalStore:$d,useId:Zd,unstable_isNewReconciler:!1};function ft(e,t){if(e&&e.defaultProps){t=ve({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function lo(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ve({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Pl={isMounted:function(e){return(e=e._reactInternals)?Sn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=We(),s=Jt(e),i=Lt(r,s);i.payload=t,n!=null&&(i.callback=n),t=Yt(e,i,s),t!==null&&(yt(t,e,s,r),Us(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=We(),s=Jt(e),i=Lt(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Yt(e,i,s),t!==null&&(yt(t,e,s,r),Us(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=We(),r=Jt(e),s=Lt(n,r);s.tag=2,t!=null&&(s.callback=t),t=Yt(e,s,r),t!==null&&(yt(t,e,r,n),Us(t,e,r))}};function Pc(e,t,n,r,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!Hr(n,r)||!Hr(s,i):!0}function rm(e,t,n){var r=!1,s=tn,i=t.contextType;return typeof i=="object"&&i!==null?i=ct(i):(s=Ye(t)?vn:Ue.current,r=t.contextTypes,i=(r=r!=null)?Yn(e,s):tn),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Pl,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function Lc(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Pl.enqueueReplaceState(t,t.state,null)}function io(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},oa(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=ct(i):(i=Ye(t)?vn:Ue.current,s.context=Yn(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(lo(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Pl.enqueueReplaceState(s,s.state,null),ul(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function er(e,t){try{var n="",r=t;do n+=Rh(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function vi(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function oo(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var ox=typeof WeakMap=="function"?WeakMap:Map;function sm(e,t,n){n=Lt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){pl||(pl=!0,yo=r),oo(e,t)},n}function lm(e,t,n){n=Lt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){oo(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){oo(e,t),typeof r!="function"&&(Xt===null?Xt=new Set([this]):Xt.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function Rc(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new ox;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=kx.bind(null,e,t,n),t.then(e,e))}function _c(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Ac(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Lt(-1,1),t.tag=2,Yt(n,t,1))),n.lanes|=1),e)}var ax=Ut.ReactCurrentOwner,Ge=!1;function qe(e,t,n,r){t.child=e===null?Rd(t,null,n,r):Jn(t,e.child,n,r)}function Fc(e,t,n,r,s){n=n.render;var i=t.ref;return Qn(t,s),r=ma(e,t,n,r,i,s),n=fa(),e!==null&&!Ge?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ft(e,t,s)):(xe&&n&&ea(t),t.flags|=1,qe(e,t,r,s),t.child)}function Uc(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!Na(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,im(e,t,i,r,s)):(e=Hs(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Hr,n(o,r)&&e.ref===t.ref)return Ft(e,t,s)}return t.flags|=1,e=Zt(i,r),e.ref=t.ref,e.return=t,t.child=e}function im(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(Hr(i,r)&&e.ref===t.ref)if(Ge=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(Ge=!0);else return t.lanes=e.lanes,Ft(e,t,s)}return ao(e,t,n,r,s)}function om(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},me(qn,Je),Je|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,me(qn,Je),Je|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,me(qn,Je),Je|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,me(qn,Je),Je|=r;return qe(e,t,s,n),t.child}function am(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ao(e,t,n,r,s){var i=Ye(n)?vn:Ue.current;return i=Yn(t,i),Qn(t,s),n=ma(e,t,n,r,i,s),r=fa(),e!==null&&!Ge?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ft(e,t,s)):(xe&&r&&ea(t),t.flags|=1,qe(e,t,n,s),t.child)}function $c(e,t,n,r,s){if(Ye(n)){var i=!0;ll(t)}else i=!1;if(Qn(t,s),t.stateNode===null)Os(e,t),rm(t,n,r),io(t,n,r,s),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=ct(u):(u=Ye(n)?vn:Ue.current,u=Yn(t,u));var m=n.getDerivedStateFromProps,h=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||c!==u)&&Lc(t,o,r,u),Ot=!1;var p=t.memoizedState;o.state=p,ul(t,r,o,s),c=t.memoizedState,a!==r||p!==c||Ke.current||Ot?(typeof m=="function"&&(lo(t,n,m,r),c=t.memoizedState),(a=Ot||Pc(t,n,a,r,p,c,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Ad(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:ft(t.type,a),o.props=u,h=t.pendingProps,p=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=ct(c):(c=Ye(n)?vn:Ue.current,c=Yn(t,c));var y=n.getDerivedStateFromProps;(m=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||p!==c)&&Lc(t,o,r,c),Ot=!1,p=t.memoizedState,o.state=p,ul(t,r,o,s);var v=t.memoizedState;a!==h||p!==v||Ke.current||Ot?(typeof y=="function"&&(lo(t,n,y,r),v=t.memoizedState),(u=Ot||Pc(t,n,u,r,p,v,c)||!1)?(m||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=v),o.props=r,o.state=v,o.context=c,r=u):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return co(e,t,n,r,i,s)}function co(e,t,n,r,s,i){am(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return s&&bc(t,n,!1),Ft(e,t,i);r=t.stateNode,ax.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Jn(t,e.child,null,i),t.child=Jn(t,null,a,i)):qe(e,t,a,i),t.memoizedState=r.state,s&&bc(t,n,!0),t.child}function cm(e){var t=e.stateNode;t.pendingContext?Nc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Nc(e,t.context,!1),aa(e,t.containerInfo)}function Dc(e,t,n,r,s){return Xn(),na(s),t.flags|=256,qe(e,t,n,r),t.child}var uo={dehydrated:null,treeContext:null,retryLane:0};function mo(e){return{baseLanes:e,cachePool:null,transitions:null}}function um(e,t,n){var r=t.pendingProps,s=ge.current,i=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),me(ge,s&1),e===null)return ro(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=_l(o,r,0,null),e=pn(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=mo(n),t.memoizedState=uo,e):xa(t,o));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return cx(e,t,o,r,a,s,n);if(i){i=r.fallback,o=t.mode,s=e.child,a=s.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Zt(s,c),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Zt(a,i):(i=pn(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?mo(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=uo,r}return i=e.child,e=i.sibling,r=Zt(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function xa(e,t){return t=_l({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function bs(e,t,n,r){return r!==null&&na(r),Jn(t,e.child,null,n),e=xa(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function cx(e,t,n,r,s,i,o){if(n)return t.flags&256?(t.flags&=-257,r=vi(Error(F(422))),bs(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=_l({mode:"visible",children:r.children},s,0,null),i=pn(i,s,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&Jn(t,e.child,null,o),t.child.memoizedState=mo(o),t.memoizedState=uo,i);if(!(t.mode&1))return bs(e,t,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(F(419)),r=vi(i,r,void 0),bs(e,t,o,r)}if(a=(o&e.childLanes)!==0,Ge||a){if(r=Me,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,At(e,s),yt(r,e,s,-1))}return ja(),r=vi(Error(F(421))),bs(e,t,o,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=jx.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Ze=Kt(s.nextSibling),et=t,xe=!0,pt=null,e!==null&&(lt[it++]=zt,lt[it++]=Pt,lt[it++]=wn,zt=e.id,Pt=e.overflow,wn=t),t=xa(t,r.children),t.flags|=4096,t)}function Oc(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),so(e.return,t,n)}function wi(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function dm(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(qe(e,t,r.children,n),r=ge.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Oc(e,n,t);else if(e.tag===19)Oc(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(me(ge,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&dl(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),wi(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&dl(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}wi(t,!0,n,null,i);break;case"together":wi(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Os(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ft(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),jn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(F(153));if(t.child!==null){for(e=t.child,n=Zt(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Zt(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function ux(e,t,n){switch(t.tag){case 3:cm(t),Xn();break;case 5:Fd(t);break;case 1:Ye(t.type)&&ll(t);break;case 4:aa(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;me(al,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(me(ge,ge.current&1),t.flags|=128,null):n&t.child.childLanes?um(e,t,n):(me(ge,ge.current&1),e=Ft(e,t,n),e!==null?e.sibling:null);me(ge,ge.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return dm(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),me(ge,ge.current),r)break;return null;case 22:case 23:return t.lanes=0,om(e,t,n)}return Ft(e,t,n)}var mm,fo,fm,hm;mm=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};fo=function(){};fm=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,fn(Ct.current);var i=null;switch(n){case"input":s=Ri(e,s),r=Ri(e,r),i=[];break;case"select":s=ve({},s,{value:void 0}),r=ve({},r,{value:void 0}),i=[];break;case"textarea":s=Fi(e,s),r=Fi(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=rl)}$i(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Fr.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==a&&(c!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&a[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Fr.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&he("scroll",e),i||a===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};hm=function(e,t,n,r){n!==r&&(t.flags|=4)};function vr(e,t){if(!xe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ae(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function dx(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ae(t),null;case 1:return Ye(t.type)&&sl(),Ae(t),null;case 3:return r=t.stateNode,Zn(),pe(Ke),pe(Ue),ua(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(js(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,pt!==null&&(ko(pt),pt=null))),fo(e,t),Ae(t),null;case 5:ca(t);var s=fn(Kr.current);if(n=t.type,e!==null&&t.stateNode!=null)fm(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(F(166));return Ae(t),null}if(e=fn(Ct.current),js(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[bt]=t,r[Qr]=i,e=(t.mode&1)!==0,n){case"dialog":he("cancel",r),he("close",r);break;case"iframe":case"object":case"embed":he("load",r);break;case"video":case"audio":for(s=0;s<br.length;s++)he(br[s],r);break;case"source":he("error",r);break;case"img":case"image":case"link":he("error",r),he("load",r);break;case"details":he("toggle",r);break;case"input":Ya(r,i),he("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},he("invalid",r);break;case"textarea":Ja(r,i),he("invalid",r)}$i(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&ks(r.textContent,a,e),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&ks(r.textContent,a,e),s=["children",""+a]):Fr.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&he("scroll",r)}switch(n){case"input":fs(r),Xa(r,i,!0);break;case"textarea":fs(r),Za(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=rl)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=qu(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[bt]=t,e[Qr]=r,mm(e,t,!1,!1),t.stateNode=e;e:{switch(o=Di(n,r),n){case"dialog":he("cancel",e),he("close",e),s=r;break;case"iframe":case"object":case"embed":he("load",e),s=r;break;case"video":case"audio":for(s=0;s<br.length;s++)he(br[s],e);s=r;break;case"source":he("error",e),s=r;break;case"img":case"image":case"link":he("error",e),he("load",e),s=r;break;case"details":he("toggle",e),s=r;break;case"input":Ya(e,r),s=Ri(e,r),he("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=ve({},r,{value:void 0}),he("invalid",e);break;case"textarea":Ja(e,r),s=Fi(e,r),he("invalid",e);break;default:s=r}$i(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var c=a[i];i==="style"?Bu(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Wu(e,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Ur(e,c):typeof c=="number"&&Ur(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Fr.hasOwnProperty(i)?c!=null&&i==="onScroll"&&he("scroll",e):c!=null&&Do(e,i,c,o))}switch(n){case"input":fs(e),Xa(e,r,!1);break;case"textarea":fs(e),Za(e);break;case"option":r.value!=null&&e.setAttribute("value",""+en(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?Wn(e,!!r.multiple,i,!1):r.defaultValue!=null&&Wn(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=rl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ae(t),null;case 6:if(e&&t.stateNode!=null)hm(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(F(166));if(n=fn(Kr.current),fn(Ct.current),js(t)){if(r=t.stateNode,n=t.memoizedProps,r[bt]=t,(i=r.nodeValue!==n)&&(e=et,e!==null))switch(e.tag){case 3:ks(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ks(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[bt]=t,t.stateNode=r}return Ae(t),null;case 13:if(pe(ge),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(xe&&Ze!==null&&t.mode&1&&!(t.flags&128))Pd(),Xn(),t.flags|=98560,i=!1;else if(i=js(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(F(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(F(317));i[bt]=t}else Xn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ae(t),i=!1}else pt!==null&&(ko(pt),pt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ge.current&1?Ee===0&&(Ee=3):ja())),t.updateQueue!==null&&(t.flags|=4),Ae(t),null);case 4:return Zn(),fo(e,t),e===null&&Br(t.stateNode.containerInfo),Ae(t),null;case 10:return la(t.type._context),Ae(t),null;case 17:return Ye(t.type)&&sl(),Ae(t),null;case 19:if(pe(ge),i=t.memoizedState,i===null)return Ae(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)vr(i,!1);else{if(Ee!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=dl(e),o!==null){for(t.flags|=128,vr(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return me(ge,ge.current&1|2),t.child}e=e.sibling}i.tail!==null&&ke()>tr&&(t.flags|=128,r=!0,vr(i,!1),t.lanes=4194304)}else{if(!r)if(e=dl(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),vr(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!xe)return Ae(t),null}else 2*ke()-i.renderingStartTime>tr&&n!==1073741824&&(t.flags|=128,r=!0,vr(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=ke(),t.sibling=null,n=ge.current,me(ge,r?n&1|2:n&1),t):(Ae(t),null);case 22:case 23:return ka(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Je&1073741824&&(Ae(t),t.subtreeFlags&6&&(t.flags|=8192)):Ae(t),null;case 24:return null;case 25:return null}throw Error(F(156,t.tag))}function mx(e,t){switch(ta(t),t.tag){case 1:return Ye(t.type)&&sl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Zn(),pe(Ke),pe(Ue),ua(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return ca(t),null;case 13:if(pe(ge),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(F(340));Xn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return pe(ge),null;case 4:return Zn(),null;case 10:return la(t.type._context),null;case 22:case 23:return ka(),null;case 24:return null;default:return null}}var Ss=!1,Fe=!1,fx=typeof WeakSet=="function"?WeakSet:Set,B=null;function On(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){we(e,t,r)}else n.current=null}function ho(e,t,n){try{n()}catch(r){we(e,t,r)}}var qc=!1;function hx(e,t){if(Yi=el,e=vd(),Zo(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,c=-1,u=0,m=0,h=e,p=null;t:for(;;){for(var y;h!==n||s!==0&&h.nodeType!==3||(a=o+s),h!==i||r!==0&&h.nodeType!==3||(c=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(y=h.firstChild)!==null;)p=h,h=y;for(;;){if(h===e)break t;if(p===n&&++u===s&&(a=o),p===i&&++m===r&&(c=o),(y=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=y}n=a===-1||c===-1?null:{start:a,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Xi={focusedElem:e,selectionRange:n},el=!1,B=t;B!==null;)if(t=B,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,B=e;else for(;B!==null;){t=B;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var k=v.memoizedProps,N=v.memoizedState,f=t.stateNode,d=f.getSnapshotBeforeUpdate(t.elementType===t.type?k:ft(t.type,k),N);f.__reactInternalSnapshotBeforeUpdate=d}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(F(163))}}catch(w){we(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,B=e;break}B=t.return}return v=qc,qc=!1,v}function Pr(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&ho(t,n,i)}s=s.next}while(s!==r)}}function Ll(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function po(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function pm(e){var t=e.alternate;t!==null&&(e.alternate=null,pm(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[bt],delete t[Qr],delete t[eo],delete t[Yp],delete t[Xp])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function xm(e){return e.tag===5||e.tag===3||e.tag===4}function Wc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||xm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function xo(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=rl));else if(r!==4&&(e=e.child,e!==null))for(xo(e,t,n),e=e.sibling;e!==null;)xo(e,t,n),e=e.sibling}function go(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(go(e,t,n),e=e.sibling;e!==null;)go(e,t,n),e=e.sibling}var Ie=null,ht=!1;function $t(e,t,n){for(n=n.child;n!==null;)gm(e,t,n),n=n.sibling}function gm(e,t,n){if(St&&typeof St.onCommitFiberUnmount=="function")try{St.onCommitFiberUnmount(Sl,n)}catch{}switch(n.tag){case 5:Fe||On(n,t);case 6:var r=Ie,s=ht;Ie=null,$t(e,t,n),Ie=r,ht=s,Ie!==null&&(ht?(e=Ie,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ie.removeChild(n.stateNode));break;case 18:Ie!==null&&(ht?(e=Ie,n=n.stateNode,e.nodeType===8?fi(e.parentNode,n):e.nodeType===1&&fi(e,n),qr(e)):fi(Ie,n.stateNode));break;case 4:r=Ie,s=ht,Ie=n.stateNode.containerInfo,ht=!0,$t(e,t,n),Ie=r,ht=s;break;case 0:case 11:case 14:case 15:if(!Fe&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&ho(n,t,o),s=s.next}while(s!==r)}$t(e,t,n);break;case 1:if(!Fe&&(On(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){we(n,t,a)}$t(e,t,n);break;case 21:$t(e,t,n);break;case 22:n.mode&1?(Fe=(r=Fe)||n.memoizedState!==null,$t(e,t,n),Fe=r):$t(e,t,n);break;default:$t(e,t,n)}}function Hc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new fx),t.forEach(function(r){var s=Nx.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function mt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:Ie=a.stateNode,ht=!1;break e;case 3:Ie=a.stateNode.containerInfo,ht=!0;break e;case 4:Ie=a.stateNode.containerInfo,ht=!0;break e}a=a.return}if(Ie===null)throw Error(F(160));gm(i,o,s),Ie=null,ht=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){we(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)ym(t,e),t=t.sibling}function ym(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(mt(t,e),jt(e),r&4){try{Pr(3,e,e.return),Ll(3,e)}catch(k){we(e,e.return,k)}try{Pr(5,e,e.return)}catch(k){we(e,e.return,k)}}break;case 1:mt(t,e),jt(e),r&512&&n!==null&&On(n,n.return);break;case 5:if(mt(t,e),jt(e),r&512&&n!==null&&On(n,n.return),e.flags&32){var s=e.stateNode;try{Ur(s,"")}catch(k){we(e,e.return,k)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,a=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&Du(s,i),Di(a,o);var u=Di(a,i);for(o=0;o<c.length;o+=2){var m=c[o],h=c[o+1];m==="style"?Bu(s,h):m==="dangerouslySetInnerHTML"?Wu(s,h):m==="children"?Ur(s,h):Do(s,m,h,u)}switch(a){case"input":_i(s,i);break;case"textarea":Ou(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var y=i.value;y!=null?Wn(s,!!i.multiple,y,!1):p!==!!i.multiple&&(i.defaultValue!=null?Wn(s,!!i.multiple,i.defaultValue,!0):Wn(s,!!i.multiple,i.multiple?[]:"",!1))}s[Qr]=i}catch(k){we(e,e.return,k)}}break;case 6:if(mt(t,e),jt(e),r&4){if(e.stateNode===null)throw Error(F(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(k){we(e,e.return,k)}}break;case 3:if(mt(t,e),jt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{qr(t.containerInfo)}catch(k){we(e,e.return,k)}break;case 4:mt(t,e),jt(e);break;case 13:mt(t,e),jt(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(va=ke())),r&4&&Hc(e);break;case 22:if(m=n!==null&&n.memoizedState!==null,e.mode&1?(Fe=(u=Fe)||m,mt(t,e),Fe=u):mt(t,e),jt(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!m&&e.mode&1)for(B=e,m=e.child;m!==null;){for(h=B=m;B!==null;){switch(p=B,y=p.child,p.tag){case 0:case 11:case 14:case 15:Pr(4,p,p.return);break;case 1:On(p,p.return);var v=p.stateNode;if(typeof v.componentWillUnmount=="function"){r=p,n=p.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(k){we(r,n,k)}}break;case 5:On(p,p.return);break;case 22:if(p.memoizedState!==null){Vc(h);continue}}y!==null?(y.return=p,B=y):Vc(h)}m=m.sibling}e:for(m=null,h=e;;){if(h.tag===5){if(m===null){m=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=Hu("display",o))}catch(k){we(e,e.return,k)}}}else if(h.tag===6){if(m===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(k){we(e,e.return,k)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;m===h&&(m=null),h=h.return}m===h&&(m=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:mt(t,e),jt(e),r&4&&Hc(e);break;case 21:break;default:mt(t,e),jt(e)}}function jt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(xm(n)){var r=n;break e}n=n.return}throw Error(F(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Ur(s,""),r.flags&=-33);var i=Wc(e);go(e,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Wc(e);xo(e,a,o);break;default:throw Error(F(161))}}catch(c){we(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function px(e,t,n){B=e,vm(e)}function vm(e,t,n){for(var r=(e.mode&1)!==0;B!==null;){var s=B,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Ss;if(!o){var a=s.alternate,c=a!==null&&a.memoizedState!==null||Fe;a=Ss;var u=Fe;if(Ss=o,(Fe=c)&&!u)for(B=s;B!==null;)o=B,c=o.child,o.tag===22&&o.memoizedState!==null?Qc(s):c!==null?(c.return=o,B=c):Qc(s);for(;i!==null;)B=i,vm(i),i=i.sibling;B=s,Ss=a,Fe=u}Bc(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,B=i):Bc(e)}}function Bc(e){for(;B!==null;){var t=B;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Fe||Ll(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Fe)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:ft(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Mc(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Mc(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var m=u.memoizedState;if(m!==null){var h=m.dehydrated;h!==null&&qr(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(F(163))}Fe||t.flags&512&&po(t)}catch(p){we(t,t.return,p)}}if(t===e){B=null;break}if(n=t.sibling,n!==null){n.return=t.return,B=n;break}B=t.return}}function Vc(e){for(;B!==null;){var t=B;if(t===e){B=null;break}var n=t.sibling;if(n!==null){n.return=t.return,B=n;break}B=t.return}}function Qc(e){for(;B!==null;){var t=B;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Ll(4,t)}catch(c){we(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(c){we(t,s,c)}}var i=t.return;try{po(t)}catch(c){we(t,i,c)}break;case 5:var o=t.return;try{po(t)}catch(c){we(t,o,c)}}}catch(c){we(t,t.return,c)}if(t===e){B=null;break}var a=t.sibling;if(a!==null){a.return=t.return,B=a;break}B=t.return}}var xx=Math.ceil,hl=Ut.ReactCurrentDispatcher,ga=Ut.ReactCurrentOwner,at=Ut.ReactCurrentBatchConfig,re=0,Me=null,Ne=null,Pe=0,Je=0,qn=rn(0),Ee=0,Zr=null,jn=0,Rl=0,ya=0,Lr=null,Qe=null,va=0,tr=1/0,Mt=null,pl=!1,yo=null,Xt=null,Cs=!1,Bt=null,xl=0,Rr=0,vo=null,qs=-1,Ws=0;function We(){return re&6?ke():qs!==-1?qs:qs=ke()}function Jt(e){return e.mode&1?re&2&&Pe!==0?Pe&-Pe:Zp.transition!==null?(Ws===0&&(Ws=rd()),Ws):(e=de,e!==0||(e=window.event,e=e===void 0?16:ud(e.type)),e):1}function yt(e,t,n,r){if(50<Rr)throw Rr=0,vo=null,Error(F(185));ts(e,n,r),(!(re&2)||e!==Me)&&(e===Me&&(!(re&2)&&(Rl|=n),Ee===4&&Wt(e,Pe)),Xe(e,r),n===1&&re===0&&!(t.mode&1)&&(tr=ke()+500,Il&&sn()))}function Xe(e,t){var n=e.callbackNode;Zh(e,t);var r=Zs(e,e===Me?Pe:0);if(r===0)n!==null&&nc(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&nc(n),t===1)e.tag===0?Jp(Gc.bind(null,e)):Md(Gc.bind(null,e)),Gp(function(){!(re&6)&&sn()}),n=null;else{switch(sd(r)){case 1:n=Bo;break;case 4:n=td;break;case 16:n=Js;break;case 536870912:n=nd;break;default:n=Js}n=Em(n,wm.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function wm(e,t){if(qs=-1,Ws=0,re&6)throw Error(F(327));var n=e.callbackNode;if(Gn()&&e.callbackNode!==n)return null;var r=Zs(e,e===Me?Pe:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=gl(e,r);else{t=r;var s=re;re|=2;var i=jm();(Me!==e||Pe!==t)&&(Mt=null,tr=ke()+500,hn(e,t));do try{vx();break}catch(a){km(e,a)}while(!0);sa(),hl.current=i,re=s,Ne!==null?t=0:(Me=null,Pe=0,t=Ee)}if(t!==0){if(t===2&&(s=Bi(e),s!==0&&(r=s,t=wo(e,s))),t===1)throw n=Zr,hn(e,0),Wt(e,r),Xe(e,ke()),n;if(t===6)Wt(e,r);else{if(s=e.current.alternate,!(r&30)&&!gx(s)&&(t=gl(e,r),t===2&&(i=Bi(e),i!==0&&(r=i,t=wo(e,i))),t===1))throw n=Zr,hn(e,0),Wt(e,r),Xe(e,ke()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(F(345));case 2:un(e,Qe,Mt);break;case 3:if(Wt(e,r),(r&130023424)===r&&(t=va+500-ke(),10<t)){if(Zs(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){We(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Zi(un.bind(null,e,Qe,Mt),t);break}un(e,Qe,Mt);break;case 4:if(Wt(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-gt(r);i=1<<o,o=t[o],o>s&&(s=o),r&=~i}if(r=s,r=ke()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*xx(r/1960))-r,10<r){e.timeoutHandle=Zi(un.bind(null,e,Qe,Mt),r);break}un(e,Qe,Mt);break;case 5:un(e,Qe,Mt);break;default:throw Error(F(329))}}}return Xe(e,ke()),e.callbackNode===n?wm.bind(null,e):null}function wo(e,t){var n=Lr;return e.current.memoizedState.isDehydrated&&(hn(e,t).flags|=256),e=gl(e,t),e!==2&&(t=Qe,Qe=n,t!==null&&ko(t)),e}function ko(e){Qe===null?Qe=e:Qe.push.apply(Qe,e)}function gx(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!vt(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Wt(e,t){for(t&=~ya,t&=~Rl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-gt(t),r=1<<n;e[n]=-1,t&=~r}}function Gc(e){if(re&6)throw Error(F(327));Gn();var t=Zs(e,0);if(!(t&1))return Xe(e,ke()),null;var n=gl(e,t);if(e.tag!==0&&n===2){var r=Bi(e);r!==0&&(t=r,n=wo(e,r))}if(n===1)throw n=Zr,hn(e,0),Wt(e,t),Xe(e,ke()),n;if(n===6)throw Error(F(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,un(e,Qe,Mt),Xe(e,ke()),null}function wa(e,t){var n=re;re|=1;try{return e(t)}finally{re=n,re===0&&(tr=ke()+500,Il&&sn())}}function Nn(e){Bt!==null&&Bt.tag===0&&!(re&6)&&Gn();var t=re;re|=1;var n=at.transition,r=de;try{if(at.transition=null,de=1,e)return e()}finally{de=r,at.transition=n,re=t,!(re&6)&&sn()}}function ka(){Je=qn.current,pe(qn)}function hn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Qp(n)),Ne!==null)for(n=Ne.return;n!==null;){var r=n;switch(ta(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&sl();break;case 3:Zn(),pe(Ke),pe(Ue),ua();break;case 5:ca(r);break;case 4:Zn();break;case 13:pe(ge);break;case 19:pe(ge);break;case 10:la(r.type._context);break;case 22:case 23:ka()}n=n.return}if(Me=e,Ne=e=Zt(e.current,null),Pe=Je=t,Ee=0,Zr=null,ya=Rl=jn=0,Qe=Lr=null,mn!==null){for(t=0;t<mn.length;t++)if(n=mn[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}mn=null}return e}function km(e,t){do{var n=Ne;try{if(sa(),$s.current=fl,ml){for(var r=ye.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}ml=!1}if(kn=0,Te=Ce=ye=null,zr=!1,Yr=0,ga.current=null,n===null||n.return===null){Ee=1,Zr=t,Ne=null;break}e:{var i=e,o=n.return,a=n,c=t;if(t=Pe,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,m=a,h=m.tag;if(!(m.mode&1)&&(h===0||h===11||h===15)){var p=m.alternate;p?(m.updateQueue=p.updateQueue,m.memoizedState=p.memoizedState,m.lanes=p.lanes):(m.updateQueue=null,m.memoizedState=null)}var y=_c(o);if(y!==null){y.flags&=-257,Ac(y,o,a,i,t),y.mode&1&&Rc(i,u,t),t=y,c=u;var v=t.updateQueue;if(v===null){var k=new Set;k.add(c),t.updateQueue=k}else v.add(c);break e}else{if(!(t&1)){Rc(i,u,t),ja();break e}c=Error(F(426))}}else if(xe&&a.mode&1){var N=_c(o);if(N!==null){!(N.flags&65536)&&(N.flags|=256),Ac(N,o,a,i,t),na(er(c,a));break e}}i=c=er(c,a),Ee!==4&&(Ee=2),Lr===null?Lr=[i]:Lr.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var f=sm(i,c,t);Tc(i,f);break e;case 1:a=c;var d=i.type,g=i.stateNode;if(!(i.flags&128)&&(typeof d.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Xt===null||!Xt.has(g)))){i.flags|=65536,t&=-t,i.lanes|=t;var w=lm(i,a,t);Tc(i,w);break e}}i=i.return}while(i!==null)}bm(n)}catch(S){t=S,Ne===n&&n!==null&&(Ne=n=n.return);continue}break}while(!0)}function jm(){var e=hl.current;return hl.current=fl,e===null?fl:e}function ja(){(Ee===0||Ee===3||Ee===2)&&(Ee=4),Me===null||!(jn&268435455)&&!(Rl&268435455)||Wt(Me,Pe)}function gl(e,t){var n=re;re|=2;var r=jm();(Me!==e||Pe!==t)&&(Mt=null,hn(e,t));do try{yx();break}catch(s){km(e,s)}while(!0);if(sa(),re=n,hl.current=r,Ne!==null)throw Error(F(261));return Me=null,Pe=0,Ee}function yx(){for(;Ne!==null;)Nm(Ne)}function vx(){for(;Ne!==null&&!Hh();)Nm(Ne)}function Nm(e){var t=Cm(e.alternate,e,Je);e.memoizedProps=e.pendingProps,t===null?bm(e):Ne=t,ga.current=null}function bm(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=mx(n,t),n!==null){n.flags&=32767,Ne=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ee=6,Ne=null;return}}else if(n=dx(n,t,Je),n!==null){Ne=n;return}if(t=t.sibling,t!==null){Ne=t;return}Ne=t=e}while(t!==null);Ee===0&&(Ee=5)}function un(e,t,n){var r=de,s=at.transition;try{at.transition=null,de=1,wx(e,t,n,r)}finally{at.transition=s,de=r}return null}function wx(e,t,n,r){do Gn();while(Bt!==null);if(re&6)throw Error(F(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(F(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(ep(e,i),e===Me&&(Ne=Me=null,Pe=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Cs||(Cs=!0,Em(Js,function(){return Gn(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=at.transition,at.transition=null;var o=de;de=1;var a=re;re|=4,ga.current=null,hx(e,n),ym(n,e),Dp(Xi),el=!!Yi,Xi=Yi=null,e.current=n,px(n),Bh(),re=a,de=o,at.transition=i}else e.current=n;if(Cs&&(Cs=!1,Bt=e,xl=s),i=e.pendingLanes,i===0&&(Xt=null),Gh(n.stateNode),Xe(e,ke()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(pl)throw pl=!1,e=yo,yo=null,e;return xl&1&&e.tag!==0&&Gn(),i=e.pendingLanes,i&1?e===vo?Rr++:(Rr=0,vo=e):Rr=0,sn(),null}function Gn(){if(Bt!==null){var e=sd(xl),t=at.transition,n=de;try{if(at.transition=null,de=16>e?16:e,Bt===null)var r=!1;else{if(e=Bt,Bt=null,xl=0,re&6)throw Error(F(331));var s=re;for(re|=4,B=e.current;B!==null;){var i=B,o=i.child;if(B.flags&16){var a=i.deletions;if(a!==null){for(var c=0;c<a.length;c++){var u=a[c];for(B=u;B!==null;){var m=B;switch(m.tag){case 0:case 11:case 15:Pr(8,m,i)}var h=m.child;if(h!==null)h.return=m,B=h;else for(;B!==null;){m=B;var p=m.sibling,y=m.return;if(pm(m),m===u){B=null;break}if(p!==null){p.return=y,B=p;break}B=y}}}var v=i.alternate;if(v!==null){var k=v.child;if(k!==null){v.child=null;do{var N=k.sibling;k.sibling=null,k=N}while(k!==null)}}B=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,B=o;else e:for(;B!==null;){if(i=B,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Pr(9,i,i.return)}var f=i.sibling;if(f!==null){f.return=i.return,B=f;break e}B=i.return}}var d=e.current;for(B=d;B!==null;){o=B;var g=o.child;if(o.subtreeFlags&2064&&g!==null)g.return=o,B=g;else e:for(o=d;B!==null;){if(a=B,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Ll(9,a)}}catch(S){we(a,a.return,S)}if(a===o){B=null;break e}var w=a.sibling;if(w!==null){w.return=a.return,B=w;break e}B=a.return}}if(re=s,sn(),St&&typeof St.onPostCommitFiberRoot=="function")try{St.onPostCommitFiberRoot(Sl,e)}catch{}r=!0}return r}finally{de=n,at.transition=t}}return!1}function Kc(e,t,n){t=er(n,t),t=sm(e,t,1),e=Yt(e,t,1),t=We(),e!==null&&(ts(e,1,t),Xe(e,t))}function we(e,t,n){if(e.tag===3)Kc(e,e,n);else for(;t!==null;){if(t.tag===3){Kc(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Xt===null||!Xt.has(r))){e=er(n,e),e=lm(t,e,1),t=Yt(t,e,1),e=We(),t!==null&&(ts(t,1,e),Xe(t,e));break}}t=t.return}}function kx(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=We(),e.pingedLanes|=e.suspendedLanes&n,Me===e&&(Pe&n)===n&&(Ee===4||Ee===3&&(Pe&130023424)===Pe&&500>ke()-va?hn(e,0):ya|=n),Xe(e,t)}function Sm(e,t){t===0&&(e.mode&1?(t=xs,xs<<=1,!(xs&130023424)&&(xs=4194304)):t=1);var n=We();e=At(e,t),e!==null&&(ts(e,t,n),Xe(e,n))}function jx(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Sm(e,n)}function Nx(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(F(314))}r!==null&&r.delete(t),Sm(e,n)}var Cm;Cm=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ke.current)Ge=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Ge=!1,ux(e,t,n);Ge=!!(e.flags&131072)}else Ge=!1,xe&&t.flags&1048576&&Id(t,ol,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Os(e,t),e=t.pendingProps;var s=Yn(t,Ue.current);Qn(t,n),s=ma(null,t,r,e,s,n);var i=fa();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ye(r)?(i=!0,ll(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,oa(t),s.updater=Pl,t.stateNode=s,s._reactInternals=t,io(t,r,e,n),t=co(null,t,r,!0,i,n)):(t.tag=0,xe&&i&&ea(t),qe(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Os(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=Sx(r),e=ft(r,e),s){case 0:t=ao(null,t,r,e,n);break e;case 1:t=$c(null,t,r,e,n);break e;case 11:t=Fc(null,t,r,e,n);break e;case 14:t=Uc(null,t,r,ft(r.type,e),n);break e}throw Error(F(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:ft(r,s),ao(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:ft(r,s),$c(e,t,r,s,n);case 3:e:{if(cm(t),e===null)throw Error(F(387));r=t.pendingProps,i=t.memoizedState,s=i.element,Ad(e,t),ul(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=er(Error(F(423)),t),t=Dc(e,t,r,n,s);break e}else if(r!==s){s=er(Error(F(424)),t),t=Dc(e,t,r,n,s);break e}else for(Ze=Kt(t.stateNode.containerInfo.firstChild),et=t,xe=!0,pt=null,n=Rd(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Xn(),r===s){t=Ft(e,t,n);break e}qe(e,t,r,n)}t=t.child}return t;case 5:return Fd(t),e===null&&ro(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,Ji(r,s)?o=null:i!==null&&Ji(r,i)&&(t.flags|=32),am(e,t),qe(e,t,o,n),t.child;case 6:return e===null&&ro(t),null;case 13:return um(e,t,n);case 4:return aa(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Jn(t,null,r,n):qe(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:ft(r,s),Fc(e,t,r,s,n);case 7:return qe(e,t,t.pendingProps,n),t.child;case 8:return qe(e,t,t.pendingProps.children,n),t.child;case 12:return qe(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,me(al,r._currentValue),r._currentValue=o,i!==null)if(vt(i.value,o)){if(i.children===s.children&&!Ke.current){t=Ft(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var c=a.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=Lt(-1,n&-n),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var m=u.pending;m===null?c.next=c:(c.next=m.next,m.next=c),u.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),so(i.return,n,t),a.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(F(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),so(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}qe(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Qn(t,n),s=ct(s),r=r(s),t.flags|=1,qe(e,t,r,n),t.child;case 14:return r=t.type,s=ft(r,t.pendingProps),s=ft(r.type,s),Uc(e,t,r,s,n);case 15:return im(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:ft(r,s),Os(e,t),t.tag=1,Ye(r)?(e=!0,ll(t)):e=!1,Qn(t,n),rm(t,r,s),io(t,r,s,n),co(null,t,r,!0,e,n);case 19:return dm(e,t,n);case 22:return om(e,t,n)}throw Error(F(156,t.tag))};function Em(e,t){return ed(e,t)}function bx(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ot(e,t,n,r){return new bx(e,t,n,r)}function Na(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Sx(e){if(typeof e=="function")return Na(e)?1:0;if(e!=null){if(e=e.$$typeof,e===qo)return 11;if(e===Wo)return 14}return 2}function Zt(e,t){var n=e.alternate;return n===null?(n=ot(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Hs(e,t,n,r,s,i){var o=2;if(r=e,typeof e=="function")Na(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Pn:return pn(n.children,s,i,t);case Oo:o=8,s|=8;break;case Ii:return e=ot(12,n,t,s|2),e.elementType=Ii,e.lanes=i,e;case zi:return e=ot(13,n,t,s),e.elementType=zi,e.lanes=i,e;case Pi:return e=ot(19,n,t,s),e.elementType=Pi,e.lanes=i,e;case Fu:return _l(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case _u:o=10;break e;case Au:o=9;break e;case qo:o=11;break e;case Wo:o=14;break e;case Dt:o=16,r=null;break e}throw Error(F(130,e==null?e:typeof e,""))}return t=ot(o,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function pn(e,t,n,r){return e=ot(7,e,r,t),e.lanes=n,e}function _l(e,t,n,r){return e=ot(22,e,r,t),e.elementType=Fu,e.lanes=n,e.stateNode={isHidden:!1},e}function ki(e,t,n){return e=ot(6,e,null,t),e.lanes=n,e}function ji(e,t,n){return t=ot(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Cx(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ni(0),this.expirationTimes=ni(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ni(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function ba(e,t,n,r,s,i,o,a,c){return e=new Cx(e,t,n,a,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=ot(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},oa(i),e}function Ex(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:zn,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Tm(e){if(!e)return tn;e=e._reactInternals;e:{if(Sn(e)!==e||e.tag!==1)throw Error(F(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ye(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(F(171))}if(e.tag===1){var n=e.type;if(Ye(n))return Td(e,n,t)}return t}function Mm(e,t,n,r,s,i,o,a,c){return e=ba(n,r,!0,e,s,i,o,a,c),e.context=Tm(null),n=e.current,r=We(),s=Jt(n),i=Lt(r,s),i.callback=t??null,Yt(n,i,s),e.current.lanes=s,ts(e,s,r),Xe(e,r),e}function Al(e,t,n,r){var s=t.current,i=We(),o=Jt(s);return n=Tm(n),t.context===null?t.context=n:t.pendingContext=n,t=Lt(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Yt(s,t,o),e!==null&&(yt(e,s,o,i),Us(e,s,o)),o}function yl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Yc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Sa(e,t){Yc(e,t),(e=e.alternate)&&Yc(e,t)}function Tx(){return null}var Im=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ca(e){this._internalRoot=e}Fl.prototype.render=Ca.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(F(409));Al(e,t,null,null)};Fl.prototype.unmount=Ca.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Nn(function(){Al(null,e,null,null)}),t[_t]=null}};function Fl(e){this._internalRoot=e}Fl.prototype.unstable_scheduleHydration=function(e){if(e){var t=od();e={blockedOn:null,target:e,priority:t};for(var n=0;n<qt.length&&t!==0&&t<qt[n].priority;n++);qt.splice(n,0,e),n===0&&cd(e)}};function Ea(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ul(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Xc(){}function Mx(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=yl(o);i.call(u)}}var o=Mm(t,r,e,0,null,!1,!1,"",Xc);return e._reactRootContainer=o,e[_t]=o.current,Br(e.nodeType===8?e.parentNode:e),Nn(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=yl(c);a.call(u)}}var c=ba(e,0,!1,null,null,!1,!1,"",Xc);return e._reactRootContainer=c,e[_t]=c.current,Br(e.nodeType===8?e.parentNode:e),Nn(function(){Al(t,c,n,r)}),c}function $l(e,t,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var c=yl(o);a.call(c)}}Al(t,o,e,s)}else o=Mx(n,t,e,s,r);return yl(o)}ld=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Nr(t.pendingLanes);n!==0&&(Vo(t,n|1),Xe(t,ke()),!(re&6)&&(tr=ke()+500,sn()))}break;case 13:Nn(function(){var r=At(e,1);if(r!==null){var s=We();yt(r,e,1,s)}}),Sa(e,1)}};Qo=function(e){if(e.tag===13){var t=At(e,134217728);if(t!==null){var n=We();yt(t,e,134217728,n)}Sa(e,134217728)}};id=function(e){if(e.tag===13){var t=Jt(e),n=At(e,t);if(n!==null){var r=We();yt(n,e,t,r)}Sa(e,t)}};od=function(){return de};ad=function(e,t){var n=de;try{return de=e,t()}finally{de=n}};qi=function(e,t,n){switch(t){case"input":if(_i(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=Ml(r);if(!s)throw Error(F(90));$u(r),_i(r,s)}}}break;case"textarea":Ou(e,n);break;case"select":t=n.value,t!=null&&Wn(e,!!n.multiple,t,!1)}};Gu=wa;Ku=Nn;var Ix={usingClientEntryPoint:!1,Events:[rs,An,Ml,Vu,Qu,wa]},wr={findFiberByHostInstance:dn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},zx={bundleType:wr.bundleType,version:wr.version,rendererPackageName:wr.rendererPackageName,rendererConfig:wr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ut.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Ju(e),e===null?null:e.stateNode},findFiberByHostInstance:wr.findFiberByHostInstance||Tx,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Es=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Es.isDisabled&&Es.supportsFiber)try{Sl=Es.inject(zx),St=Es}catch{}}nt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ix;nt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ea(t))throw Error(F(200));return Ex(e,t,null,n)};nt.createRoot=function(e,t){if(!Ea(e))throw Error(F(299));var n=!1,r="",s=Im;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=ba(e,1,!1,null,null,n,!1,r,s),e[_t]=t.current,Br(e.nodeType===8?e.parentNode:e),new Ca(t)};nt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(F(188)):(e=Object.keys(e).join(","),Error(F(268,e)));return e=Ju(t),e=e===null?null:e.stateNode,e};nt.flushSync=function(e){return Nn(e)};nt.hydrate=function(e,t,n){if(!Ul(t))throw Error(F(200));return $l(null,e,t,!0,n)};nt.hydrateRoot=function(e,t,n){if(!Ea(e))throw Error(F(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=Im;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=Mm(t,null,e,1,n??null,s,!1,i,o),e[_t]=t.current,Br(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Fl(t)};nt.render=function(e,t,n){if(!Ul(t))throw Error(F(200));return $l(null,e,t,!1,n)};nt.unmountComponentAtNode=function(e){if(!Ul(e))throw Error(F(40));return e._reactRootContainer?(Nn(function(){$l(null,null,e,!1,function(){e._reactRootContainer=null,e[_t]=null})}),!0):!1};nt.unstable_batchedUpdates=wa;nt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Ul(n))throw Error(F(200));if(e==null||e._reactInternals===void 0)throw Error(F(38));return $l(e,t,n,!1,r)};nt.version="18.3.1-next-f1338f8080-20240426";function zm(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(zm)}catch(e){console.error(e)}}zm(),zu.exports=nt;var Re=zu.exports,Jc=Re;Ti.createRoot=Jc.createRoot,Ti.hydrateRoot=Jc.hydrateRoot;/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Px={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lx=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),V=(e,t)=>{const n=x.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:a="",children:c,...u},m)=>x.createElement("svg",{ref:m,...Px,width:s,height:s,stroke:r,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${Lx(e)}`,a].join(" "),...u},[...t.map(([h,p])=>x.createElement(h,p)),...Array.isArray(c)?c:[c]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pm=V("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jo=V("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rx=V("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lm=V("AtSign",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M16 8v5a3 3 0 0 0 6 0v-1a10 10 0 1 0-4 8",key:"7n84p3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _x=V("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ax=V("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fx=V("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ux=V("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $x=V("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dx=V("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _r=V("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rm=V("Cpu",[["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"9",y:"9",width:"6",height:"6",key:"o3kz5p"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dl=V("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xn=V("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gn=V("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ox=V("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vl=V("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _m=V("Hand",[["path",{d:"M18 11V6a2 2 0 0 0-2-2v0a2 2 0 0 0-2 2v0",key:"aigmz7"}],["path",{d:"M14 10V4a2 2 0 0 0-2-2v0a2 2 0 0 0-2 2v2",key:"1n6bmn"}],["path",{d:"M10 10.5V6a2 2 0 0 0-2-2v0a2 2 0 0 0-2 2v8",key:"a9iiix"}],["path",{d:"M18 8a2 2 0 1 1 4 0v6a8 8 0 0 1-8 8h-2c-2.8 0-4.5-.86-5.99-2.34l-3.6-3.6a2 2 0 0 1 2.83-2.82L7 15",key:"1s1gnw"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qx=V("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wx=V("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hx=V("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bx=V("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const je=V("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Am=V("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vx=V("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qx=V("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fm=V("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Um=V("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gx=V("Milk",[["path",{d:"M8 2h8",key:"1ssgc1"}],["path",{d:"M9 2v2.789a4 4 0 0 1-.672 2.219l-.656.984A4 4 0 0 0 7 10.212V20a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2v-9.789a4 4 0 0 0-.672-2.219l-.656-.984A4 4 0 0 1 15 4.788V2",key:"qtp12x"}],["path",{d:"M7 15a6.472 6.472 0 0 1 5 0 6.47 6.47 0 0 0 5 0",key:"ygeh44"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $m=V("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zc=V("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dm=V("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const No=V("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kx=V("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yx=V("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xx=V("Pin",[["line",{x1:"12",x2:"12",y1:"17",y2:"22",key:"1jrz49"}],["path",{d:"M5 17h14v-1.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V6h1a2 2 0 0 0 0-4H8a2 2 0 0 0 0 4h1v4.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24Z",key:"13yl11"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bo=V("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Om=V("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const So=V("Radio",[["path",{d:"M4.9 19.1C1 15.2 1 8.8 4.9 4.9",key:"1vaf9d"}],["path",{d:"M7.8 16.2c-2.3-2.3-2.3-6.1 0-8.5",key:"u1ii0m"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M16.2 7.8c2.3 2.3 2.3 6.1 0 8.5",key:"1j5fej"}],["path",{d:"M19.1 4.9C23 8.8 23 15.1 19.1 19",key:"10b0cb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qm=V("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wm=V("Reply",[["polyline",{points:"9 17 4 12 9 7",key:"hvgpf2"}],["path",{d:"M20 18v-2a4 4 0 0 0-4-4H4",key:"5vmcpk"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ni=V("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hm=V("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wl=V("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Co=V("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jx=V("ShieldOff",[["path",{d:"M19.7 14a6.9 6.9 0 0 0 .3-2V5l-8-3-3.2 1.2",key:"342pvf"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M4.7 4.7 4 5v7c0 6 8 10 8 10a20.3 20.3 0 0 0 5.62-4.38",key:"p0ycf4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ls=V("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zx=V("Sliders",[["line",{x1:"4",x2:"4",y1:"21",y2:"14",key:"1p332r"}],["line",{x1:"4",x2:"4",y1:"10",y2:"3",key:"gb41h5"}],["line",{x1:"12",x2:"12",y1:"21",y2:"12",key:"hf2csr"}],["line",{x1:"12",x2:"12",y1:"8",y2:"3",key:"1kfi7u"}],["line",{x1:"20",x2:"20",y1:"21",y2:"16",key:"1lhrwl"}],["line",{x1:"20",x2:"20",y1:"12",y2:"3",key:"16vvfq"}],["line",{x1:"2",x2:"6",y1:"14",y2:"14",key:"1uebub"}],["line",{x1:"10",x2:"14",y1:"8",y2:"8",key:"1yglbp"}],["line",{x1:"18",x2:"22",y1:"16",y2:"16",key:"1jxqpz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bm=V("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vm=V("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e0=V("Sticker",[["path",{d:"M15.5 3H5a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h14a2 2 0 0 0 2-2V8.5L15.5 3Z",key:"1wis1t"}],["path",{d:"M15 3v6h6",key:"edgan2"}],["path",{d:"M10 16s.8 1 2 1c1.3 0 2-1 2-1",key:"1vvgv3"}],["path",{d:"M8 13h0",key:"jdup5h"}],["path",{d:"M16 13h0",key:"l4i2ga"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qm=V("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bs=V("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Et=V("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t0=V("UserMinus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gm=V("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n0=V("UsersRound",[["path",{d:"M18 21a8 8 0 0 0-16 0",key:"3ypg7q"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M22 20c0-3.37-2-6.5-4-8a5 5 0 0 0-.45-8.3",key:"10s06x"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ol=V("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r0=V("VolumeX",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eu=V("Wifi",[["path",{d:"M5 13a10 10 0 0 1 14 0",key:"6v8j51"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s0=V("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wt=V("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l0=V("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),i0=({message:e,type:t="success",duration:n=3e3,onClose:r})=>{const[s,i]=x.useState(!0);x.useEffect(()=>{const c=setTimeout(()=>{i(!1),setTimeout(r,300)},n);return()=>clearTimeout(c)},[n,r]);const o={success:l.jsx(Ux,{className:"w-5 h-5"}),error:l.jsx(s0,{className:"w-5 h-5"}),warning:l.jsx(Pm,{className:"w-5 h-5"})},a={success:"bg-green-50/90 backdrop-blur-md border-green-200/50 text-green-800",error:"bg-red-50/90 backdrop-blur-md border-red-200/50 text-red-800",warning:"bg-yellow-50/90 backdrop-blur-md border-yellow-200/50 text-yellow-800"};return l.jsxs("div",{className:`fixed top-4 right-4 flex items-center gap-3 px-4 py-3 rounded-2xl border shadow-lg transition-all duration-300 ${a[t]} ${s?"translate-x-0 opacity-100":"translate-x-full opacity-0"}`,style:{minWidth:"300px",maxWidth:"500px",zIndex:99999},children:[l.jsx("div",{className:"flex-shrink-0",children:o[t]}),l.jsx("p",{className:"flex-1 text-sm font-medium",children:e}),l.jsx("button",{onClick:()=>{i(!1),setTimeout(r,300)},className:"flex-shrink-0 hover:opacity-70 transition-opacity",children:l.jsx(wt,{size:18})})]})};let o0=0;const Vs=[];let kl=[];const Km=()=>{Vs.forEach(e=>e([...kl]))},Q=(e,t="success",n=3e3)=>{const r=o0++;kl.push({id:r,message:e,type:t,duration:n}),Km()},tu=()=>{const[e,t]=x.useState([]);x.useEffect(()=>{const s=i=>t(i);return Vs.push(s),()=>{const i=Vs.indexOf(s);i>-1&&Vs.splice(i,1)}},[]);const n=s=>{kl=kl.filter(i=>i.id!==s),Km()},r=l.jsx(l.Fragment,{children:e.map((s,i)=>l.jsx("div",{style:{top:`${1+i*4.5}rem`,zIndex:99999},className:"fixed right-4",children:l.jsx(i0,{message:s.message,type:s.type,duration:s.duration,onClose:()=>n(s.id)})},s.id))});return Re.createPortal(r,document.body)},nu=({children:e})=>{const t=x.useRef(null);return t.current||(t.current=document.createElement("div")),x.useEffect(()=>{const n=document.body,r=t.current;return n.appendChild(r),()=>{n.removeChild(r)}},[]),Re.createPortal(e,t.current)},ru=e=>{let t;const n=new Set,r=(u,m)=>{const h=typeof u=="function"?u(t):u;if(!Object.is(h,t)){const p=t;t=m??(typeof h!="object"||h===null)?h:Object.assign({},t,h),n.forEach(y=>y(t,p))}},s=()=>t,a={setState:r,getState:s,getInitialState:()=>c,subscribe:u=>(n.add(u),()=>n.delete(u))},c=t=e(r,s,a);return a},a0=e=>e?ru(e):ru,c0=e=>e;function u0(e,t=c0){const n=se.useSyncExternalStore(e.subscribe,se.useCallback(()=>t(e.getState()),[e,t]),se.useCallback(()=>t(e.getInitialState()),[e,t]));return se.useDebugValue(n),n}const d0=e=>{const t=a0(e),n=r=>u0(t,r);return Object.assign(n,t),n},Ym=e=>d0;function m0(e,t){let n;try{n=e()}catch{return}return{getItem:s=>{var i;const o=c=>c===null?null:JSON.parse(c,void 0),a=(i=n.getItem(s))!=null?i:null;return a instanceof Promise?a.then(o):o(a)},setItem:(s,i)=>n.setItem(s,JSON.stringify(i,void 0)),removeItem:s=>n.removeItem(s)}}const Eo=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(r){return Eo(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return Eo(r)(n)}}}},f0=(e,t)=>(n,r,s)=>{let i={storage:m0(()=>localStorage),partialize:k=>k,version:0,merge:(k,N)=>({...N,...k}),...t},o=!1;const a=new Set,c=new Set;let u=i.storage;if(!u)return e((...k)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),n(...k)},r,s);const m=()=>{const k=i.partialize({...r()});return u.setItem(i.name,{state:k,version:i.version})},h=s.setState;s.setState=(k,N)=>(h(k,N),m());const p=e((...k)=>(n(...k),m()),r,s);s.getInitialState=()=>p;let y;const v=()=>{var k,N;if(!u)return;o=!1,a.forEach(d=>{var g;return d((g=r())!=null?g:p)});const f=((N=i.onRehydrateStorage)==null?void 0:N.call(i,(k=r())!=null?k:p))||void 0;return Eo(u.getItem.bind(u))(i.name).then(d=>{if(d)if(typeof d.version=="number"&&d.version!==i.version){if(i.migrate){const g=i.migrate(d.state,d.version);return g instanceof Promise?g.then(w=>[!0,w]):[!0,g]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,d.state];return[!1,void 0]}).then(d=>{var g;const[w,S]=d;if(y=i.merge(S,(g=r())!=null?g:p),n(y,!0),w)return m()}).then(()=>{f==null||f(y,void 0),y=r(),o=!0,c.forEach(d=>d(y))}).catch(d=>{f==null||f(void 0,d)})};return s.persist={setOptions:k=>{i={...i,...k},k.storage&&(u=k.storage)},clearStorage:()=>{u==null||u.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>v(),hasHydrated:()=>o,onHydrate:k=>(a.add(k),()=>{a.delete(k)}),onFinishHydration:k=>(c.add(k),()=>{c.delete(k)})},i.skipHydration||v(),y||p},Xm=f0,Jm=()=>window.matchMedia("(prefers-color-scheme: dark)").matches,bi=e=>e==="auto"?Jm():e==="dark",Qs=e=>{e?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},To=Ym()(Xm((e,t)=>({mode:"auto",isDark:Jm(),setMode:n=>{const r=bi(n);Qs(r),e({mode:n,isDark:r})},cycleMode:()=>{const n=t().mode,r=n==="light"?"dark":n==="dark"?"auto":"light",s=bi(r);Qs(s),e({mode:r,isDark:s})}}),{name:"llbot-theme",partialize:e=>({mode:e.mode}),onRehydrateStorage:()=>e=>{if(e){const t=bi(e.mode);Qs(t),e.isDark=t}}}));typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",t=>{To.getState().mode==="auto"&&(Qs(t.matches),To.setState({isDark:t.matches}))});const h0=()=>{const{mode:e,cycleMode:t}=To(),n=()=>{switch(e){case"light":return l.jsx(Qm,{size:18});case"dark":return l.jsx($m,{size:18});case"auto":return l.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("circle",{cx:"12",cy:"12",r:"10"}),l.jsx("path",{d:"M12 2a10 10 0 0 1 0 20z",fill:"currentColor"})]})}},r=()=>{switch(e){case"light":return"";case"dark":return"";case"auto":return" ()"}};return l.jsx("button",{onClick:t,className:`p-2 rounded-lg transition-all duration-200
        text-theme-muted
        hover:bg-theme-item
        hover:text-theme`,title:r(),children:n()})},Si=()=>{const e=x.useRef(null),t=x.useRef([]),n=x.useRef(),r=x.useRef(0),s=x.useRef(null);return x.useEffect(()=>{const i=e.current;if(!i)return;const o=i.getContext("2d",{alpha:!0});if(!o)return;const c=1e3/30,u=()=>{if(s.current)return s.current;const d=Math.max(window.innerWidth,document.documentElement.clientWidth),g=Math.max(window.innerHeight,document.documentElement.clientHeight);return{width:d,height:g}},m=()=>{const d=u();(!s.current||d.width>i.width||d.height>i.height)&&(i.width=d.width,i.height=d.height,s.current||(s.current=d),t.current.forEach(g=>{g.offscreenCanvas=p(g)}))},h=["rgba(139, 92, 246, 0.6)","rgba(59, 130, 246, 0.6)","rgba(236, 72, 153, 0.6)","rgba(16, 185, 129, 0.6)","rgba(245, 158, 11, 0.6)","rgba(168, 85, 247, 0.6)","rgba(14, 165, 233, 0.6)","rgba(251, 113, 133, 0.6)"],p=d=>{const g=Math.ceil(d.baseRadius*2.5),w=document.createElement("canvas");w.width=g,w.height=g;const S=w.getContext("2d");if(!S)return w;const C=g/2,R=g/2,M=d.baseRadius,q=S.createRadialGradient(C,R,0,C,R,M);return q.addColorStop(0,d.color.replace("0.6","0.8")),q.addColorStop(.5,d.color),q.addColorStop(1,d.color.replace("0.6","0")),S.fillStyle=q,S.beginPath(),S.arc(C,R,M,0,Math.PI*2),S.fill(),w},y=()=>{const d=[];for(let w=0;w<8;w++){const S=Math.random()*80+60,C={x:Math.random()*i.width,y:Math.random()*i.height,vx:(Math.random()-.5)*.8,vy:(Math.random()-.5)*.8,radius:S,baseRadius:S,scale:1,scaleSpeed:Math.random()*.002+.001,color:h[Math.floor(Math.random()*h.length)]};C.offscreenCanvas=p(C),d.push(C)}t.current=d},v=(d,g)=>{const w=g.x-d.x,S=g.y-d.y,C=Math.sqrt(w*w+S*S);if(C<d.radius+g.radius){const R=Math.atan2(S,w),M=Math.sin(R),q=Math.cos(R),P=d.vx*q+d.vy*M,G=d.vy*q-d.vx*M,E=g.vx*q+g.vy*M,j=g.vy*q-g.vx*M;d.vx=E*q-G*M,d.vy=G*q+E*M,g.vx=P*q-j*M,g.vy=j*q+P*M;const b=(d.radius+g.radius-C)/2;d.x-=b*q,d.y-=b*M,g.x+=b*q,g.y+=b*M}},k=d=>{n.current=requestAnimationFrame(k);const g=d-r.current;g<c||(r.current=d-g%c,o.clearRect(0,0,i.width,i.height),t.current.forEach((w,S)=>{w.x+=w.vx,w.y+=w.vy,w.scale+=w.scaleSpeed,(w.scale>1.2||w.scale<.8)&&(w.scaleSpeed=-w.scaleSpeed),w.radius=w.baseRadius*w.scale,(w.x-w.radius<0||w.x+w.radius>i.width)&&(w.vx=-w.vx,w.x=Math.max(w.radius,Math.min(i.width-w.radius,w.x))),(w.y-w.radius<0||w.y+w.radius>i.height)&&(w.vy=-w.vy,w.y=Math.max(w.radius,Math.min(i.height-w.radius,w.y)));for(let C=S+1;C<t.current.length;C++)v(w,t.current[C]);if(w.offscreenCanvas){const C=w.offscreenCanvas.width*w.scale;o.drawImage(w.offscreenCanvas,w.x-C/2,w.y-C/2,C,C)}}))};let N=null;const f=()=>{N&&clearTimeout(N),N=setTimeout(m,200)};return m(),window.addEventListener("resize",f),y(),n.current=requestAnimationFrame(k),()=>{window.removeEventListener("resize",f),N&&clearTimeout(N),n.current&&cancelAnimationFrame(n.current)}},[]),l.jsx("canvas",{ref:e,className:"fixed inset-0 w-full h-full pointer-events-none",style:{zIndex:0}})},p0=({activeTab:e,onTabChange:t,accountInfo:n,isOpen:r=!0,onClose:s})=>{const i=[{id:"dashboard",icon:Bx,label:"Dashboard"},{id:"onebot",icon:So,label:"OneBot 11"},{id:"satori",icon:Rm,label:"Satori"},{id:"milky",icon:Gx,label:"Milky"},{id:"logs",icon:Bs,label:""},{id:"other",icon:Zx,label:""},{id:"webqq",icon:Um,label:"WebQQ"},{id:"about",icon:Hx,label:""}],o=a=>{t(a),s&&window.innerWidth<768&&s()};return l.jsxs(l.Fragment,{children:[r&&l.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 md:hidden",onClick:s}),l.jsxs("div",{className:`
        fixed md:sticky top-0 left-0 z-50
        w-64 bg-theme-card backdrop-blur-2xl h-screen flex flex-col shadow-xl border-r border-theme
        transform transition-transform duration-300 ease-in-out
        ${r?"translate-x-0":"-translate-x-full"}
        md:translate-x-0
      `,children:[l.jsx("div",{className:"p-6 border-b border-theme-divider",children:l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"w-12 h-12 rounded-2xl overflow-hidden shadow-lg flex-shrink-0",children:l.jsx("img",{src:"/logo.jpg",alt:"Logo",className:"w-full h-full object-cover"})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("h1",{className:"text-xl font-bold text-theme truncate",children:"LLBot"}),l.jsx("p",{className:"text-xs text-theme-muted",children:"WebUI"})]}),l.jsx("button",{onClick:s,className:"md:hidden p-2 text-theme-muted hover:text-theme hover:bg-theme-item rounded-lg transition-colors",children:l.jsx(wt,{size:20})})]})}),l.jsx("nav",{className:"flex-1 p-4 space-y-1 overflow-y-auto",children:i.map(a=>{const c=a.icon,u=e===a.id;return l.jsxs("button",{onClick:()=>o(a.id),className:`w-full flex items-center space-x-3 px-4 py-3 rounded-2xl transition-all duration-200 ${u?"gradient-primary text-white shadow-lg scale-105":"text-theme hover:bg-theme-item-hover"}`,children:[l.jsx(c,{size:20}),l.jsx("span",{className:"font-medium",children:a.label})]},a.id)})}),l.jsx("div",{className:"p-4 border-t border-theme-divider",children:l.jsxs("div",{className:"flex items-center space-x-3 px-3 py-2",children:[n&&l.jsxs(l.Fragment,{children:[l.jsx("img",{src:`https://thirdqq.qlogo.cn/g?b=qq&nk=${n.uin}&s=640`,alt:"",className:"w-10 h-10 rounded-full object-cover ring-2 ring-white/50 dark:ring-neutral-600",onError:a=>{const c=a.target;c.style.display="none";const u=c.nextElementSibling;u&&(u.style.display="flex")}}),l.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-pink-400 to-rose-500 rounded-full items-center justify-center text-white font-semibold hidden",style:{display:"none"},children:n.nick.charAt(0).toUpperCase()}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-sm font-medium text-theme truncate",children:n.nick}),l.jsx("p",{className:"text-xs text-theme-muted truncate",children:n.uin})]})]}),!n&&l.jsx("div",{className:"flex-1"}),l.jsx(h0,{})]})})]})]})};function x0(e){const t=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],r=new TextEncoder().encode(e),s=r.length*8,i=Math.ceil((s+65)/512)*64,o=new Uint8Array(i);o.set(r),o[r.length]=128;const a=new DataView(o.buffer);a.setUint32(i-4,s&4294967295,!1);let c=1779033703,u=3144134277,m=1013904242,h=2773480762,p=1359893119,y=2600822924,v=528734635,k=1541459225;for(let N=0;N<i;N+=64){const f=new Uint32Array(64);for(let P=0;P<16;P++)f[P]=a.getUint32(N+P*4,!1);for(let P=16;P<64;P++){const G=(f[P-15]>>>7|f[P-15]<<25)^(f[P-15]>>>18|f[P-15]<<14)^f[P-15]>>>3,E=(f[P-2]>>>17|f[P-2]<<15)^(f[P-2]>>>19|f[P-2]<<13)^f[P-2]>>>10;f[P]=f[P-16]+G+f[P-7]+E>>>0}let d=c,g=u,w=m,S=h,C=p,R=y,M=v,q=k;for(let P=0;P<64;P++){const G=(C>>>6|C<<26)^(C>>>11|C<<21)^(C>>>25|C<<7),E=C&R^~C&M,j=q+G+E+t[P]+f[P]>>>0,b=(d>>>2|d<<30)^(d>>>13|d<<19)^(d>>>22|d<<10),L=d&g^d&w^g&w,A=b+L>>>0;q=M,M=R,R=C,C=S+j>>>0,S=w,w=g,g=d,d=j+A>>>0}c=c+d>>>0,u=u+g>>>0,m=m+w>>>0,h=h+S>>>0,p=p+C>>>0,y=y+R>>>0,v=v+M>>>0,k=k+q>>>0}return[c.toString(16).padStart(8,"0"),u.toString(16).padStart(8,"0"),m.toString(16).padStart(8,"0"),h.toString(16).padStart(8,"0"),p.toString(16).padStart(8,"0"),y.toString(16).padStart(8,"0"),v.toString(16).padStart(8,"0"),k.toString(16).padStart(8,"0")].join("")}async function g0(e){try{return x0(e)}catch(t){if(console.error("[PasswordHash] JS SHA-256:",t),typeof crypto<"u"&&crypto.subtle)try{const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n);return Array.from(new Uint8Array(r)).map(i=>i.toString(16).padStart(2,"0")).join("")}catch(n){console.error("[PasswordHash] Web Crypto API:",n)}throw new Error("SHA-256")}}async function su(e){return await g0(e)}function y0(e,t,n=30){const r=new Date;r.setTime(r.getTime()+n*24*60*60*1e3);const s=`expires=${r.toUTCString()}`,o=window.location.protocol==="https:"?"; Secure":"",a=window.location.hostname,u=/^\d+\.\d+\.\d+\.\d+$/.test(a)?"":"; SameSite=Lax",m=`${e}=${t}; ${s}; path=/${u}${o}`;document.cookie=m}function Zm(e){const t=e+"=",n=document.cookie.split(";");for(let r=0;r<n.length;r++){let s=n[r];for(;s.charAt(0)===" ";)s=s.substring(1,s.length);if(s.indexOf(t)===0)return s.substring(t.length,s.length)}return console.log("[Cookie] Cookie:",{name:e,allCookies:document.cookie}),null}const ef="webui_token",v0=30;let Sr=null;function w0(e){Sr=e}function is(){return Zm(ef)}function lu(e){y0(ef,e,v0)}async function ze(e,t={}){const n=async r=>{const s={...t.headers};return r&&(s["x-webui-token"]=r),fetch(e,{...t,headers:s})};try{let r=await n(is());if(r.status===401&&Sr){console.log("401 - Password not set, prompting to set password...");const s=await Sr("");if(!s||!s.trim())throw new Error("");if(!(await fetch("/api/set-token",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:s.trim()})})).ok)throw new Error("");const o=await su(s.trim());lu(o),r=await n(o)}if(r.status===403&&Sr){console.log("403 - Token verification failed, prompting for password...");let s=null;try{s=await r.clone().json()}catch{}s!=null&&s.locked&&Q(s.message||"","error");let i=0;const o=5;for(;r.status===403&&i<o;)try{const a=i>0?"":"",c=await Sr(a);if(!c||!c.trim())throw new Error("");const u=await su(c.trim());if(lu(u),r=await n(u),r.status===200){console.log("Authentication successful!");break}try{if(s=await r.clone().json(),s!=null&&s.locked)throw new Error(s.message||"")}catch{}i++}catch(a){throw console.error("Password prompt error:",a),a}if(r.status===403)throw new Error((s==null?void 0:s.message)||"")}if(!r.ok){const s=await r.text();throw new Error(`HTTP error! status: ${r.status}, message: ${s}`)}return await r.json()}catch(r){throw console.error("API fetch error:",r),r}}const k0=!1,j0=()=>({friendCount:128,groupCount:45,messageReceived:12580,messageSent:3842,startupTime:Math.floor(Date.now()/1e3)-3600*5-1234,lastMessageTime:Math.floor(Date.now()/1e3)-30,bot:{memory:(80+Math.random()*40)*1024*1024,totalMemory:16*1024*1024*1024,memoryPercent:2+Math.random()*3,cpu:3+Math.random()*10},qq:{memory:(200+Math.random()*100)*1024*1024,totalMemory:16*1024*1024*1024,memoryPercent:5+Math.random()*8,cpu:5+Math.random()*15}}),iu=e=>!e||e<=0?"0 MB":e<1024?e+" B":e<1024*1024?(e/1024).toFixed(1)+" KB":e<1024*1024*1024?(e/1024/1024).toFixed(0)+" MB":(e/1024/1024/1024).toFixed(2)+" GB",N0=e=>{const n=Math.floor(Date.now()/1e3)-e,r=Math.floor(n/86400),s=Math.floor(n%86400/3600),i=Math.floor(n%3600/60),o=n%60;return r>0?`${r} ${s} ${i}`:s>0?`${s} ${i} ${o}`:i>0?`${i} ${o}`:`${o}`},b0=e=>e?new Date(e*1e3).toLocaleString("zh-CN"):"",Ts=({icon:e,label:t,value:n,gradient:r})=>l.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-xl bg-theme-item hover:bg-theme-item-hover transition-all duration-200 hover:scale-[1.02]",children:[l.jsx("div",{className:`w-10 h-10 rounded-xl ${r} flex items-center justify-center shadow-md`,children:e}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-xs text-theme-muted",children:t}),l.jsx("p",{className:"text-lg font-bold text-theme truncate",children:n})]})]}),ou=({value:e,size:t=100,strokeWidth:n=8,gradientId:r,gradientColors:s,label:i,displayValue:o,icon:a})=>{const c=(t-n)/2,u=c*2*Math.PI,m=Math.min(Math.max(e,0),100),h=u-m/100*u;return l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsxs("div",{className:"relative",style:{width:t,height:t},children:[l.jsxs("svg",{width:t,height:t,className:"transform -rotate-90",children:[l.jsx("defs",{children:l.jsxs("linearGradient",{id:r,x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[l.jsx("stop",{offset:"0%",stopColor:s[0]}),l.jsx("stop",{offset:"100%",stopColor:s[1]})]})}),l.jsx("circle",{cx:t/2,cy:t/2,r:c,fill:"none",stroke:"rgba(128,128,128,0.15)",strokeWidth:n}),l.jsx("circle",{cx:t/2,cy:t/2,r:c,fill:"none",stroke:`url(#${r})`,strokeWidth:n,strokeDasharray:u,strokeDashoffset:h,strokeLinecap:"round",className:"transition-all duration-1000 ease-out"})]}),l.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[l.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center shadow-md",style:{background:`linear-gradient(135deg, ${s[0]}, ${s[1]})`},children:a}),l.jsxs("span",{className:"text-sm font-bold text-theme mt-1",children:[m.toFixed(1),"%"]})]})]}),l.jsx("p",{className:"text-xs font-semibold text-theme mt-2",children:i}),l.jsx("p",{className:"text-xs text-theme-muted",children:o})]})},au=({title:e,version:t,icon:n,gradient:r,cpu:s,memory:i,totalMemory:o,memoryPercent:a,cpuGradientId:c,memGradientId:u,cpuColors:m,memColors:h})=>l.jsxs("div",{className:"card p-4",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[l.jsx("div",{className:`w-8 h-8 rounded-lg ${r} flex items-center justify-center shadow-md`,children:n}),l.jsx("h4",{className:"text-sm font-semibold text-theme",children:e}),t&&l.jsx("span",{className:"ml-auto text-xs text-theme-muted bg-theme-item px-2 py-0.5 rounded-full",children:t})]}),l.jsxs("div",{className:"flex justify-around",children:[l.jsx(ou,{value:s,gradientId:c,gradientColors:m,label:"CPU",displayValue:`${s.toFixed(1)}%`,icon:l.jsx(Rm,{size:16,className:"text-white"})}),l.jsx(ou,{value:a,gradientId:u,gradientColors:h,label:"",displayValue:`${iu(i)} / ${iu(o)}`,icon:l.jsx(qx,{size:16,className:"text-white"})})]})]}),S0=({llbotVersion:e,qqVersion:t})=>{const[n,r]=x.useState(null),[s,i]=x.useState(!0),[o,a]=x.useState(""),c=x.useRef(),u=async()=>{try{const m=k0?j0():(await ze("/api/dashboard/stats")).data;m&&r(m)}catch(m){console.error("Failed to fetch dashboard stats:",m)}finally{i(!1)}};return x.useEffect(()=>(u(),c.current=window.setInterval(u,5e3),()=>{c.current&&clearInterval(c.current)}),[]),x.useEffect(()=>{if(!(n!=null&&n.startupTime))return;const m=()=>a(N0(n.startupTime));m();const h=setInterval(m,1e3);return()=>clearInterval(h)},[n==null?void 0:n.startupTime]),s?l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsx("div",{className:"w-12 h-12 border-4 border-pink-500 border-t-transparent rounded-full animate-spin"})}):n?l.jsxs("div",{className:"space-y-5",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{className:"card p-4 flex flex-col",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[l.jsx("div",{className:"w-10 h-10 rounded-xl gradient-primary-br flex items-center justify-center shadow-md",children:l.jsx(_r,{size:20,className:"text-white"})}),l.jsx("h3",{className:"text-base font-semibold text-theme",children:""}),l.jsxs("div",{className:"ml-auto flex items-center gap-1 px-2 py-0.5 rounded-full bg-green-500/20 text-green-500 dark:text-green-400 text-xs font-medium",children:[l.jsx(l0,{size:12}),""]})]}),l.jsxs("div",{className:"flex-1 flex flex-col justify-center space-y-2",children:[l.jsxs("div",{className:"p-3 rounded-xl bg-theme-item",children:[l.jsx("p",{className:"text-xs text-theme-muted",children:""}),l.jsx("p",{className:"text-xl font-bold bg-gradient-to-r from-pink-500 to-rose-500 bg-clip-text text-transparent",children:o})]}),l.jsxs("div",{className:"px-3 py-2",children:[l.jsx("p",{className:"text-xs text-theme-muted",children:""}),l.jsx("p",{className:"text-sm font-medium text-theme",children:b0(n.startupTime)})]})]})]}),l.jsxs("div",{className:"card p-4 space-y-3",children:[l.jsx(Ts,{icon:l.jsx(Ol,{size:20,className:"text-white"}),label:"",value:n.friendCount.toLocaleString(),gradient:"bg-gradient-to-br from-sky-500 to-blue-500"}),l.jsx(Ts,{icon:l.jsx(n0,{size:20,className:"text-white"}),label:"",value:n.groupCount.toLocaleString(),gradient:"bg-gradient-to-br from-violet-500 to-purple-500"})]}),l.jsxs("div",{className:"card p-4 space-y-3",children:[l.jsx(Ts,{icon:l.jsx(Um,{size:20,className:"text-white"}),label:"",value:n.messageReceived.toLocaleString(),gradient:"bg-gradient-to-br from-green-500 to-emerald-500"}),l.jsx(Ts,{icon:l.jsx(wl,{size:20,className:"text-white"}),label:"",value:n.messageSent.toLocaleString(),gradient:"bg-gradient-to-br from-orange-500 to-amber-500"})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsx(au,{title:"QQ ",version:t,icon:l.jsx(Fm,{size:16,className:"text-white"}),gradient:"bg-gradient-to-br from-cyan-500 to-teal-500",cpu:n.qq.cpu,memory:n.qq.memory,totalMemory:n.qq.totalMemory,memoryPercent:n.qq.memoryPercent,cpuGradientId:"qqCpuGradient",memGradientId:"qqMemGradient",cpuColors:["#06b6d4","#14b8a6"],memColors:["#0ea5e9","#22d3ee"]}),l.jsx(au,{title:"LLBot ",version:e,icon:l.jsx(Ax,{size:16,className:"text-white"}),gradient:"bg-gradient-to-br from-fuchsia-500 to-pink-500",cpu:n.bot.cpu,memory:n.bot.memory,totalMemory:n.bot.totalMemory,memoryPercent:n.bot.memoryPercent,cpuGradientId:"botCpuGradient",memGradientId:"botMemGradient",cpuColors:["#d946ef","#ec4899"],memColors:["#a855f7","#d946ef"]})]})]}):l.jsx("div",{className:"card p-8 text-center",children:l.jsx("p",{className:"text-theme-muted",children:""})})},Ms=72,Is=1e3,cu=10,C0=()=>{var E;const[e,t]=x.useState([]),[n,r]=x.useState(!1),[s,i]=x.useState(!0),[o,a]=x.useState(""),[c,u]=x.useState("all"),[m,h]=x.useState(!1),[p,y]=x.useState(0),v=x.useRef(null),k=x.useRef([]),N=x.useCallback(()=>{v.current&&s&&(v.current.scrollTop=v.current.scrollHeight)},[s]);x.useEffect(()=>{let j=null,b=!0;return(()=>{const A=Zm("webui_token")||"",$=`/api/logs/stream?token=${encodeURIComponent(A)}`;j=new EventSource($),j.addEventListener("connected",()=>{b&&h(!0)}),j.onmessage=T=>{if(b)try{const U=JSON.parse(T.data);n?k.current.push(U):t(H=>{const Y=[...H,U];return Y.length>Is?Y.slice(-Is):Y})}catch(U){console.error("[LogViewer] Failed to parse log:",U)}},j.onerror=()=>{b&&h(!1)}})(),()=>{b=!1,j&&j.close()}},[n]),x.useEffect(()=>{N()},[e,N]);const f=x.useCallback(j=>{y(j.currentTarget.scrollTop)},[]),d=()=>{r(!1),t(j=>{const b=[...j,...k.current];return k.current=[],b.length>Is?b.slice(-Is):b})},g=()=>{t([]),k.current=[]},w=j=>{switch(j.toLowerCase()){case"error":return{bg:"bg-red-50/50 dark:bg-red-900/20",badge:"text-red-600 dark:text-red-400 bg-red-100/70 dark:bg-red-900/50"};case"warn":return{bg:"bg-amber-50/50 dark:bg-amber-900/20",badge:"text-amber-600 dark:text-amber-400 bg-amber-100/70 dark:bg-amber-900/50"};case"info":return{bg:"bg-blue-50/50 dark:bg-blue-900/20",badge:"text-pink-500 dark:text-pink-400 bg-pink-100/70 dark:bg-pink-900/50"};case"debug":return{bg:"bg-gray-50/50 dark:bg-neutral-700/50",badge:"text-gray-500 dark:text-neutral-400 bg-gray-100/70 dark:bg-neutral-600/50"};default:return{bg:"bg-green-50/50 dark:bg-green-900/20",badge:"text-green-600 dark:text-green-400 bg-green-100/70 dark:bg-green-900/50"}}},S=x.useMemo(()=>{let j=e;if(c!=="all"&&(j=j.filter(b=>b.type.toLowerCase()===c)),o){const b=o.toLowerCase();j=j.filter(L=>L.content.toLowerCase().includes(b)||L.type.toLowerCase().includes(b))}return j},[e,o,c]),C=((E=v.current)==null?void 0:E.clientHeight)||500,R=S.length*Ms,M=Math.max(0,Math.floor(p/Ms)-cu),q=Math.min(S.length,Math.ceil((p+C)/Ms)+cu),P=S.slice(M,q),G=M*Ms;return l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"card p-4",children:[l.jsxs("div",{className:"hidden md:flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-emerald-500 to-teal-600 flex items-center justify-center shadow-md",children:l.jsx(Bs,{size:20,className:"text-white"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-base font-semibold text-theme",children:""}),l.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[l.jsxs("span",{className:`flex items-center gap-1 px-2 py-0.5 rounded-full ${m?"bg-green-100 dark:bg-green-900/50 text-green-600 dark:text-green-400":"bg-red-100 dark:bg-red-900/50 text-red-600 dark:text-red-400"}`,children:[l.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${m?"bg-green-500":"bg-red-500"}`}),m?"":""]}),l.jsx("span",{className:"text-theme-muted",children:n?` (${k.current.length} )`:`${e.length} `})]})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"flex rounded-lg overflow-hidden border border-gray-200 dark:border-neutral-600",children:[{value:"all",label:""},{value:"info",label:"Info"},{value:"warn",label:"Warn"},{value:"error",label:"Error"}].map(j=>l.jsx("button",{onClick:()=>u(j.value),className:`px-3 py-1.5 text-xs font-medium transition-all ${c===j.value?"gradient-primary-br text-white":"bg-theme-input text-theme-secondary hover:bg-theme-item-hover"}`,children:j.label},j.value))}),l.jsx("input",{type:"text",placeholder:"...",value:o,onChange:j=>a(j.target.value),className:"px-3 py-1.5 text-sm bg-theme-input border border-theme-input rounded-lg focus:ring-2 focus:ring-pink-500 focus:border-transparent w-40 text-theme placeholder:text-theme-hint"}),l.jsx("button",{onClick:()=>i(!s),className:`p-2 rounded-lg transition-all ${s?"gradient-primary text-white shadow-md":"bg-theme-input text-theme-secondary hover:bg-theme-item-hover"}`,title:s?"":"",children:l.jsx(jo,{size:18})}),l.jsx("button",{onClick:n?d:()=>r(!0),className:`p-2 rounded-lg transition-all ${n?"bg-gradient-to-br from-green-500 to-emerald-500 text-white shadow-md":"bg-gradient-to-br from-amber-500 to-orange-500 text-white shadow-md"}`,title:n?"":"",children:n?l.jsx(bo,{size:18}):l.jsx(No,{size:18})}),l.jsx("button",{onClick:g,className:"p-2 bg-gradient-to-br from-red-500 to-pink-500 text-white rounded-lg shadow-md hover:shadow-lg transition-all",title:"",children:l.jsx(Et,{size:18})})]})]}),l.jsxs("div",{className:"md:hidden space-y-3",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-emerald-500 to-teal-600 flex items-center justify-center shadow-md flex-shrink-0",children:l.jsx(Bs,{size:20,className:"text-white"})}),l.jsxs("div",{className:"min-w-0",children:[l.jsx("h3",{className:"text-base font-semibold text-theme",children:""}),l.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[l.jsxs("span",{className:`flex items-center gap-1 px-2 py-0.5 rounded-full flex-shrink-0 ${m?"bg-green-100 dark:bg-green-900/50 text-green-600 dark:text-green-400":"bg-red-100 dark:bg-red-900/50 text-red-600 dark:text-red-400"}`,children:[l.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${m?"bg-green-500":"bg-red-500"}`}),m?"":""]}),l.jsx("span",{className:"text-theme-muted truncate",children:n?` (${k.current.length} )`:`${e.length} `})]})]})]}),l.jsx("input",{type:"text",placeholder:"...",value:o,onChange:j=>a(j.target.value),className:"w-full px-3 py-2 text-sm bg-theme-input border border-theme-input rounded-lg focus:ring-2 focus:ring-pink-500 focus:border-transparent text-theme placeholder:text-theme-hint"}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("div",{className:"flex rounded-lg overflow-hidden border border-gray-200 dark:border-neutral-600",children:[{value:"all",label:""},{value:"info",label:"Info"},{value:"warn",label:"Warn"},{value:"error",label:"Error"}].map(j=>l.jsx("button",{onClick:()=>u(j.value),className:`px-2 py-1.5 text-xs font-medium transition-all ${c===j.value?"gradient-primary-br text-white":"bg-theme-input text-theme-secondary hover:bg-theme-item-hover"}`,children:j.label},j.value))}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("button",{onClick:()=>i(!s),className:`p-1.5 rounded-lg transition-all ${s?"gradient-primary text-white shadow-md":"bg-theme-input text-theme-secondary hover:bg-theme-item-hover"}`,title:s?"":"",children:l.jsx(jo,{size:16})}),l.jsx("button",{onClick:n?d:()=>r(!0),className:`p-1.5 rounded-lg transition-all ${n?"bg-gradient-to-br from-green-500 to-emerald-500 text-white shadow-md":"bg-gradient-to-br from-amber-500 to-orange-500 text-white shadow-md"}`,title:n?"":"",children:n?l.jsx(bo,{size:16}):l.jsx(No,{size:16})}),l.jsx("button",{onClick:g,className:"p-1.5 bg-gradient-to-br from-red-500 to-pink-500 text-white rounded-lg shadow-md hover:shadow-lg transition-all",title:"",children:l.jsx(Et,{size:16})})]})]})]})]}),l.jsx("div",{className:"card p-4",children:l.jsx("div",{ref:v,onScroll:f,className:"h-[calc(100vh-240px)] overflow-auto pr-2",children:S.length===0?l.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-theme-hint",children:[l.jsx(Bs,{size:48,className:"mb-3 opacity-50"}),l.jsx("p",{className:"text-sm",children:"..."})]}):l.jsx("div",{style:{height:R,position:"relative"},children:l.jsx("div",{style:{transform:`translateY(${G}px)`},className:"space-y-1.5",children:P.map((j,b)=>{const L=w(j.type);return l.jsx("div",{className:`p-2.5 rounded-lg ${L.bg} hover:shadow-sm transition-shadow`,children:l.jsx("div",{className:"flex items-start gap-2",children:l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-0.5",children:[l.jsx("span",{className:"text-xs text-theme-hint font-mono",children:j.dateTimeStr}),l.jsx("span",{className:`text-xs font-medium px-1.5 py-0.5 rounded ${L.badge}`,children:j.type.toUpperCase()})]}),l.jsx("p",{className:"text-sm text-theme-secondary whitespace-pre-wrap break-all font-mono",children:j.content})]})})},`${j.timestamp}-${M+b}`)})})})})})]})},E0=({config:e,onChange:t,onSave:n,globalConfig:r})=>{const[s,i]=x.useState(null),[o,a]=x.useState(-1),[c,u]=x.useState(!1),[m,h]=x.useState(!1),[p,y]=x.useState(!1),[v,k]=x.useState(!1),[N,f]=x.useState(""),[d,g]=x.useState(!1),w={ws:{icon:So,name:"WebSocket",desc:"WebSocket"},"ws-reverse":{icon:eu,name:"WebSocket",desc:"WebSocket"},http:{icon:vl,name:"HTTP",desc:"HTTP API"},"http-post":{icon:wl,name:"HTTP",desc:"HTTP"}},S=(j,b)=>{i(j),a(b),y(!1),k(!1),f(j.name||""),g(!1),u(!0)},C=j=>{j.stopPropagation(),k(!0)},R=()=>{if(!s)return;const j={...s,name:N.trim()};i(j),k(!1)},M=()=>{f((s==null?void 0:s.name)||""),k(!1)},q=()=>{var A;if(!s)return;if((s.type==="ws"||s.type==="http")&&!r.onlyLocalhost&&!((A=s.token)!=null&&A.trim())){Q('"" Token',"error");return}let b;if(p)b=[...e.connect,s];else{if(o<0)return;b=[...e.connect],b[o]=s}const L={...e,connect:b};t(L),u(!1),y(!1),n(L)},P=()=>{if(p){u(!1),y(!1);return}if(o<0)return;const j=e.connect.filter((L,A)=>A!==o),b={...e,connect:j};t(b),u(!1),n(b)},G=j=>{const b={enable:!0,token:"",messageFormat:"array",reportSelfMessage:!1,reportOfflineMessage:!1,debug:!1};let L;switch(j){case"ws":L={...b,type:"ws",port:3001,heartInterval:6e4};break;case"ws-reverse":L={...b,type:"ws-reverse",url:"",heartInterval:6e4};break;case"http":L={...b,type:"http",port:3e3};break;case"http-post":L={...b,type:"http-post",url:"",enableHeart:!1,heartInterval:6e4};break}h(!1),i(L),a(-1),y(!0),g(!1),u(!0)},E=(j,b)=>{s&&i({...s,[j]:b})};return l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"card p-6",children:l.jsxs("label",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-theme",children:"OneBot 11 "}),l.jsx("p",{className:"text-sm text-theme-secondary mt-1",children:" OneBot 11 "})]}),l.jsx("input",{type:"checkbox",checked:e.enable,onChange:j=>{const b={...e,enable:j.target.checked};t(b),n(b)},className:"switch-toggle-lg"})]})}),e.enable&&e.connect&&Array.isArray(e.connect)&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:e.connect.map((j,b)=>{const L=w[j.type],A=L.icon;return l.jsxs("div",{className:`card p-6 cursor-pointer hover:scale-105 transition-all ${j.enable?"ring-2 ring-pink-500":""}`,onClick:()=>S(j,b),children:[l.jsxs("div",{className:"flex items-start justify-between mb-4",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:`w-12 h-12 rounded-2xl flex items-center justify-center ${j.enable?"gradient-primary-br text-white":"bg-gray-200 dark:bg-neutral-600 text-theme-secondary"}`,children:l.jsx(A,{size:24})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h4",{className:"text-lg font-semibold text-theme",children:j.name||L.name}),l.jsx("p",{className:"text-sm text-theme-secondary",children:L.desc})]})]}),l.jsx(Co,{size:20,className:"text-theme-hint"})]}),l.jsxs("div",{className:"flex items-center justify-between mt-4 pt-4 border-t border-theme-divider",children:[l.jsx("span",{className:`text-xs font-medium px-3 py-1 rounded-full ${j.enable?"bg-green-100 dark:bg-green-900/50 text-green-800 dark:text-green-400":"bg-gray-100 dark:bg-neutral-700 text-gray-600 dark:text-neutral-400"}`,children:j.enable?"":""}),j.enable&&l.jsxs(l.Fragment,{children:[(j.type==="ws"||j.type==="http")&&l.jsxs("span",{className:"text-sm text-theme-secondary",children:[": ",j.port]}),(j.type==="ws-reverse"||j.type==="http-post")&&l.jsxs("span",{className:"text-sm text-theme-secondary truncate max-w-[180px]",title:j.url||"",children:["URL: ",j.url||""]})]})]})]},b)})}),l.jsx("div",{className:"flex justify-center mt-6",children:l.jsxs("button",{onClick:()=>h(!0),className:"btn-primary flex items-center gap-2",children:[l.jsx(Om,{size:20}),""]})})]}),c&&s&&l.jsx(nu,{children:l.jsx("div",{className:"fixed inset-0 bg-black/30 dark:bg-black/50 backdrop-blur-sm flex items-center justify-center p-4",style:{zIndex:9e3},children:l.jsxs("div",{className:"bg-white/60 dark:bg-neutral-800/90 backdrop-blur-xl rounded-3xl shadow-2xl w-full max-w-2xl max-h-[80vh] flex flex-col border border-white/50 dark:border-neutral-700/50",children:[l.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-white/20 dark:border-neutral-700/50",children:[l.jsx("div",{className:"flex items-center gap-3 flex-1",children:v?l.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[l.jsx("input",{type:"text",value:N,onChange:j=>f(j.target.value),onKeyDown:j=>{j.key==="Enter"&&R(),j.key==="Escape"&&M()},placeholder:"",className:"flex-1 px-3 py-2 border border-theme-input rounded-xl focus:outline-none focus:ring-2 focus:ring-pink-500 bg-theme-input text-theme",autoFocus:!0}),l.jsx("button",{onClick:R,className:"px-4 py-2 bg-pink-500 text-white rounded-xl hover:bg-pink-600 transition-colors",children:""}),l.jsx("button",{onClick:M,className:"px-4 py-2 bg-theme-item text-theme-secondary rounded-xl hover:bg-theme-item-hover transition-colors",children:""})]}):l.jsxs(l.Fragment,{children:[l.jsxs("h3",{className:"text-xl font-semibold text-theme",children:[p?" - ":"",s.name||w[s.type].name]}),l.jsx("button",{onClick:C,className:"p-2 text-theme-hint hover:text-pink-500 hover:bg-pink-50 dark:hover:bg-pink-900/30 rounded-lg transition-colors",title:"",children:l.jsx(Yx,{size:18})})]})}),l.jsx("button",{onClick:()=>{u(!1),y(!1),k(!1)},className:"text-theme-hint hover:text-theme",children:l.jsx(wt,{size:24})})]}),l.jsxs("div",{className:"p-6 space-y-6 overflow-y-auto flex-1",children:[l.jsx("div",{children:l.jsxs("label",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-sm font-medium text-theme-secondary",children:""}),l.jsx("input",{type:"checkbox",checked:s.enable,onChange:j=>E("enable",j.target.checked),className:"switch-toggle"})]})}),s.type==="ws"&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-theme-secondary mb-2",children:""}),l.jsx("input",{type:"number",value:s.port,onChange:j=>E("port",parseInt(j.target.value)),className:"input-field"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-theme-secondary mb-2",children:" (ms)"}),l.jsx("input",{type:"number",value:s.heartInterval,onChange:j=>E("heartInterval",parseInt(j.target.value)),className:"input-field"})]})]}),s.type==="ws-reverse"&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-theme-secondary mb-2",children:""}),l.jsx("input",{type:"text",value:s.url,onChange:j=>E("url",j.target.value),placeholder:"ws://example.com:8080",className:"input-field"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-theme-secondary mb-2",children:" (ms)"}),l.jsx("input",{type:"number",value:s.heartInterval,onChange:j=>E("heartInterval",parseInt(j.target.value)),className:"input-field"})]})]}),s.type==="http"&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-theme-secondary mb-2",children:""}),l.jsx("input",{type:"number",value:s.port,onChange:j=>E("port",parseInt(j.target.value)),className:"input-field"})]}),s.type==="http-post"&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-theme-secondary mb-2",children:""}),l.jsx("input",{type:"text",value:s.url,onChange:j=>E("url",j.target.value),placeholder:"http://example.com:8080/webhook",className:"input-field"})]}),l.jsx("div",{children:l.jsxs("label",{className:"flex items-center justify-between mb-2",children:[l.jsx("span",{className:"text-sm font-medium text-theme-secondary",children:""}),l.jsx("input",{type:"checkbox",checked:s.enableHeart,onChange:j=>E("enableHeart",j.target.checked),className:"switch-toggle"})]})}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-theme-secondary mb-2",children:" (ms)"}),l.jsx("input",{type:"number",value:s.heartInterval,onChange:j=>E("heartInterval",parseInt(j.target.value)),className:"input-field"})]})]}),l.jsxs("div",{className:"border-t border-theme-divider pt-6",children:[l.jsx("h4",{className:"text-md font-semibold text-theme mb-4",children:""}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-theme-secondary mb-2",children:"Token"}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:d?"text":"password",value:s.token,onChange:j=>E("token",j.target.value),placeholder:"",className:"input-field pr-12"}),l.jsx("button",{type:"button",onClick:()=>g(!d),className:"absolute right-3 top-1/2 -translate-y-1/2 text-theme-hint hover:text-theme transition-colors p-1",children:d?l.jsx(xn,{size:20}):l.jsx(gn,{size:20})})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-theme-secondary mb-2",children:""}),l.jsxs("div",{className:"flex gap-4 text-theme-secondary",children:[l.jsxs("label",{className:"flex items-center",children:[l.jsx("input",{type:"radio",value:"array",checked:s.messageFormat==="array",onChange:j=>E("messageFormat",j.target.value),className:"mr-2"})," (array)"]}),l.jsxs("label",{className:"flex items-center",children:[l.jsx("input",{type:"radio",value:"string",checked:s.messageFormat==="string",onChange:j=>E("messageFormat",j.target.value),className:"mr-2"}),"CQ (string)"]})]})]}),l.jsx("div",{children:l.jsxs("label",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-sm font-medium text-theme-secondary",children:""}),l.jsx("input",{type:"checkbox",checked:s.reportSelfMessage,onChange:j=>E("reportSelfMessage",j.target.checked),className:"switch-toggle"})]})}),l.jsx("div",{children:l.jsxs("label",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-sm font-medium text-theme-secondary",children:""}),l.jsx("input",{type:"checkbox",checked:s.reportOfflineMessage,onChange:j=>E("reportOfflineMessage",j.target.checked),className:"switch-toggle"})]})}),l.jsx("div",{children:l.jsxs("label",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-sm font-medium text-theme-secondary",children:""}),l.jsx("input",{type:"checkbox",checked:s.debug,onChange:j=>E("debug",j.target.checked),className:"switch-toggle"})]})})]})]})]}),l.jsxs("div",{className:"flex items-center justify-between p-6 border-t border-white/20 dark:border-neutral-700/50",children:[!p&&l.jsxs("button",{onClick:P,className:"px-6 py-2.5 bg-red-500 hover:bg-red-600 text-white rounded-xl font-medium transition-colors flex items-center gap-2",children:[l.jsx(Et,{size:18}),""]}),p&&l.jsx("div",{}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("button",{onClick:()=>u(!1),className:"px-6 py-2.5 text-theme-secondary hover:bg-theme-item rounded-xl font-medium transition-colors",children:""}),l.jsx("button",{onClick:q,className:"btn-primary",children:""})]})]})]})})}),m&&l.jsx(nu,{children:l.jsx("div",{className:"fixed inset-0 bg-black/30 dark:bg-black/50 backdrop-blur-sm flex items-center justify-center p-4",style:{zIndex:9e3},children:l.jsxs("div",{className:"bg-white/60 dark:bg-neutral-800/90 backdrop-blur-xl rounded-3xl shadow-2xl w-full max-w-md border border-white/50 dark:border-neutral-700/50",children:[l.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-white/20 dark:border-neutral-700/50",children:[l.jsx("h3",{className:"text-xl font-semibold text-theme",children:""}),l.jsx("button",{onClick:()=>h(!1),className:"text-theme-hint hover:text-theme",children:l.jsx(wt,{size:24})})]}),l.jsxs("div",{className:"p-6 space-y-3",children:[l.jsxs("button",{onClick:()=>G("ws"),className:"w-full p-4 rounded-2xl bg-gradient-to-br from-pink-50 to-rose-50 dark:from-pink-900/30 dark:to-rose-900/30 hover:from-pink-100 hover:to-rose-100 dark:hover:from-pink-900/50 dark:hover:to-rose-900/50 transition-all flex items-center gap-4 group",children:[l.jsx("div",{className:"w-12 h-12 rounded-xl gradient-primary-br text-white flex items-center justify-center group-hover:scale-110 transition-transform",children:l.jsx(So,{size:24})}),l.jsxs("div",{className:"text-left",children:[l.jsx("h4",{className:"text-lg font-semibold text-theme",children:"WebSocket"}),l.jsx("p",{className:"text-sm text-theme-secondary",children:"WebSocket"})]})]}),l.jsxs("button",{onClick:()=>G("ws-reverse"),className:"w-full p-4 rounded-2xl bg-gradient-to-br from-green-50 to-teal-50 dark:from-green-900/30 dark:to-teal-900/30 hover:from-green-100 hover:to-teal-100 dark:hover:from-green-900/50 dark:hover:to-teal-900/50 transition-all flex items-center gap-4 group",children:[l.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-green-500 to-teal-600 text-white flex items-center justify-center group-hover:scale-110 transition-transform",children:l.jsx(eu,{size:24})}),l.jsxs("div",{className:"text-left",children:[l.jsx("h4",{className:"text-lg font-semibold text-theme",children:"WebSocket"}),l.jsx("p",{className:"text-sm text-theme-secondary",children:"WebSocket"})]})]}),l.jsxs("button",{onClick:()=>G("http"),className:"w-full p-4 rounded-2xl bg-gradient-to-br from-orange-50 to-red-50 dark:from-orange-900/30 dark:to-red-900/30 hover:from-orange-100 hover:to-red-100 dark:hover:from-orange-900/50 dark:hover:to-red-900/50 transition-all flex items-center gap-4 group",children:[l.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-orange-500 to-red-600 text-white flex items-center justify-center group-hover:scale-110 transition-transform",children:l.jsx(vl,{size:24})}),l.jsxs("div",{className:"text-left",children:[l.jsx("h4",{className:"text-lg font-semibold text-theme",children:"HTTP"}),l.jsx("p",{className:"text-sm text-theme-secondary",children:"HTTP API"})]})]}),l.jsxs("button",{onClick:()=>G("http-post"),className:"w-full p-4 rounded-2xl bg-gradient-to-br from-pink-50 to-rose-50 dark:from-pink-900/30 dark:to-rose-900/30 hover:from-pink-100 hover:to-rose-100 dark:hover:from-pink-900/50 dark:hover:to-rose-900/50 transition-all flex items-center gap-4 group",children:[l.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-pink-500 to-rose-600 text-white flex items-center justify-center group-hover:scale-110 transition-transform",children:l.jsx(wl,{size:24})}),l.jsxs("div",{className:"text-left",children:[l.jsx("h4",{className:"text-lg font-semibold text-theme",children:"HTTP"}),l.jsx("p",{className:"text-sm text-theme-secondary",children:"HTTP"})]})]})]}),l.jsx("div",{className:"flex justify-end p-6 border-t border-white/20 dark:border-neutral-700/50",children:l.jsx("button",{onClick:()=>h(!1),className:"px-6 py-2.5 text-theme-secondary hover:bg-theme-item rounded-xl font-medium transition-colors",children:""})})]})})})]})},T0=({config:e,onChange:t,onOpenChangePassword:n})=>{const r=(s,i)=>{t({...e,[s]:i})};return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"card p-6",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[l.jsx("div",{className:"w-10 h-10 rounded-xl gradient-primary-br flex items-center justify-center",children:l.jsx(vl,{size:20,className:"text-white"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-theme",children:""}),l.jsx("p",{className:"text-sm text-theme-secondary",children:""})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between p-4 bg-theme-item rounded-xl bg-item-hover transition-colors",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(Ox,{size:20,className:"text-green-600"}),l.jsxs("div",{children:[l.jsx("div",{className:"text-sm font-medium text-theme",children:""}),l.jsx("div",{className:"text-xs text-theme-muted mt-0.5",children:""})]})]}),l.jsx("input",{type:"checkbox",checked:e.log,onChange:s=>r("log",s.target.checked),className:"switch-toggle"})]}),l.jsxs("div",{className:"flex items-center justify-between p-4 bg-theme-item rounded-xl bg-item-hover transition-colors",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(vl,{size:20,className:"text-pink-500"}),l.jsxs("div",{children:[l.jsx("div",{className:"text-sm font-medium text-theme",children:""}),l.jsx("div",{className:"text-xs text-theme-muted mt-0.5",children:""})]})]}),l.jsx("input",{type:"checkbox",checked:e.onlyLocalhost,onChange:s=>r("onlyLocalhost",s.target.checked),className:"switch-toggle"})]}),l.jsxs("div",{className:"flex items-center justify-between p-4 bg-theme-item rounded-xl bg-item-hover transition-colors",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(Dm,{size:20,className:"text-pink-500"}),l.jsxs("div",{children:[l.jsx("div",{className:"text-sm font-medium text-theme",children:"URL"}),l.jsx("div",{className:"text-xs text-theme-muted mt-0.5",children:"URL"})]})]}),l.jsx("input",{type:"checkbox",checked:e.enableLocalFile2Url,onChange:s=>r("enableLocalFile2Url",s.target.checked),className:"switch-toggle"})]})]})]}),l.jsxs("div",{className:"card p-6",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[l.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-orange-500 to-red-600 flex items-center justify-center",children:l.jsx(Et,{size:20,className:"text-white"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-theme",children:""}),l.jsx("p",{className:"text-sm text-theme-secondary",children:""})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between p-4 bg-theme-item rounded-xl bg-item-hover transition-colors",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(Et,{size:20,className:"text-red-600"}),l.jsxs("div",{children:[l.jsx("div",{className:"text-sm font-medium text-theme",children:""}),l.jsx("div",{className:"text-xs text-theme-muted mt-0.5",children:""})]})]}),l.jsx("input",{type:"checkbox",checked:e.autoDeleteFile,onChange:s=>r("autoDeleteFile",s.target.checked),className:"switch-toggle"})]}),e.autoDeleteFile&&l.jsx("div",{className:"pl-4",children:l.jsxs("label",{className:"block",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(_r,{size:16,className:"text-theme-secondary"}),l.jsx("span",{className:"text-sm font-medium text-theme-secondary",children:""})]}),l.jsx("input",{type:"number",value:e.autoDeleteFileSecond,onChange:s=>r("autoDeleteFileSecond",parseInt(s.target.value)),min:"1",max:"3600",className:"input-field",placeholder:"60"}),l.jsx("p",{className:"text-xs text-theme-muted mt-1",children:"1-3600"})]})})]})]}),l.jsxs("div",{className:"card p-6",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[l.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-pink-400 to-rose-500 flex items-center justify-center",children:l.jsx(_r,{size:20,className:"text-white"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-theme",children:""}),l.jsx("p",{className:"text-sm text-theme-secondary",children:""})]})]}),l.jsxs("label",{className:"block",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(_r,{size:16,className:"text-pink-500"}),l.jsx("span",{className:"text-sm font-medium text-theme-secondary",children:""})]}),l.jsx("input",{type:"number",value:e.msgCacheExpire,onChange:s=>r("msgCacheExpire",parseInt(s.target.value)),min:"1",max:"86400",className:"input-field",placeholder:"3600"}),l.jsx("p",{className:"text-xs text-theme-muted mt-1",children:"1-86400"})]})]}),l.jsxs("div",{className:"card p-6",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[l.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-green-500 to-teal-600 flex items-center justify-center",children:l.jsx(Zc,{size:20,className:"text-white"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-theme",children:""}),l.jsx("p",{className:"text-sm text-theme-secondary",children:""})]})]}),l.jsxs("label",{className:"block",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(Zc,{size:16,className:"text-green-600"}),l.jsx("span",{className:"text-sm font-medium text-theme-secondary",children:""})]}),l.jsx("input",{type:"text",value:e.musicSignUrl,onChange:s=>r("musicSignUrl",s.target.value),placeholder:"https://example.com/sign",className:"input-field"}),l.jsx("p",{className:"text-xs text-theme-muted mt-1",children:""})]})]}),l.jsxs("div",{className:"card p-6",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[l.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-red-500 to-pink-600 flex items-center justify-center",children:l.jsx(ls,{size:20,className:"text-white"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-theme",children:""}),l.jsx("p",{className:"text-sm text-theme-secondary",children:"WebUI "})]})]}),l.jsxs("div",{className:"flex items-center justify-between p-4 bg-theme-item rounded-xl bg-item-hover transition-colors",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(Am,{size:20,className:"text-red-600"}),l.jsxs("div",{children:[l.jsx("div",{className:"text-sm font-medium text-theme",children:"WebUI "}),l.jsx("div",{className:"text-xs text-theme-muted mt-0.5",children:" WebUI "})]})]}),l.jsxs("button",{onClick:n,className:"px-4 py-2 gradient-primary text-white rounded-lg text-sm font-medium hover:shadow-lg transition-all flex items-center gap-2",children:[l.jsx(Kx,{size:16}),""]})]})]})]})};function tf(e,t){const n=e.trim();return n?t!==void 0&&n.length<t?{isValid:!1,error:`${t}`}:/[\r\n]/.test(n)?{isValid:!1,error:""}:/[^\x20-\x7E\t]/.test(n)?{isValid:!1,error:""}:/[\x00-\x08\x0A-\x1F\x7F]/.test(n)?{isValid:!1,error:""}:{isValid:!0}:{isValid:!1,error:""}}const M0=({visible:e,onClose:t,onSuccess:n})=>{const[r,s]=x.useState(""),[i,o]=x.useState(""),[a,c]=x.useState(!1),[u,m]=x.useState(!1),[h,p]=x.useState(!1),[y,v]=x.useState(""),k=x.useRef(null);x.useEffect(()=>{e&&k.current&&setTimeout(()=>{var d;return(d=k.current)==null?void 0:d.focus()},100)},[e]),x.useEffect(()=>{e&&(s(""),o(""),c(!1),m(!1),v(""))},[e]);const N=async()=>{const d=tf(r,6);if(!d.isValid){v(d.error||"");return}if(r!==i){v("");return}p(!0),v("");try{const g=await ze("/api/set-token",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:r})});g.success?(Q("","success"),n(),t()):v(g.message||"")}catch(g){v(g.message||"")}finally{p(!1)}},f=d=>{d.key==="Enter"&&N()};return e?l.jsx(l.Fragment,{children:l.jsx("div",{className:"fixed inset-0 bg-black/30 backdrop-blur-sm flex items-center justify-center p-4",style:{zIndex:9e3},onClick:d=>d.target===d.currentTarget&&t(),children:l.jsxs("div",{className:"bg-white/90 dark:bg-neutral-800/90 backdrop-blur-xl rounded-3xl shadow-2xl w-full max-w-md transform transition-all",children:[l.jsxs("div",{className:"flex items-center gap-3 p-6 border-b border-white/20 dark:border-neutral-700/50",children:[l.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-red-500 to-pink-600 flex items-center justify-center",children:l.jsx(Am,{size:20,className:"text-white"})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"text-xl font-semibold text-theme",children:" WebUI "}),l.jsx("p",{className:"text-sm text-theme-secondary mt-0.5",children:""})]}),l.jsx("button",{onClick:t,className:"text-theme-hint hover:text-theme transition-colors",children:l.jsx(wt,{size:24})})]}),l.jsxs("div",{className:"p-6 space-y-4",children:[y&&l.jsx("div",{className:"p-3 bg-red-50 dark:bg-red-900/30 border border-red-200 dark:border-red-800 rounded-xl text-red-600 dark:text-red-400 text-sm",children:y}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-theme-secondary mb-2",children:""}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{ref:k,type:a?"text":"password",value:r,onChange:d=>{s(d.target.value),v("")},onKeyPress:f,placeholder:"",className:"input-field pr-12",autoComplete:"new-password"}),l.jsx("button",{type:"button",onClick:()=>c(!a),className:"absolute right-3 top-1/2 -translate-y-1/2 text-theme-hint hover:text-theme transition-colors",children:a?l.jsx(xn,{size:20}):l.jsx(gn,{size:20})})]}),l.jsx("p",{className:"text-xs text-theme-muted mt-1",children:"6"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-theme-secondary mb-2",children:""}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:u?"text":"password",value:i,onChange:d=>{o(d.target.value),v("")},onKeyPress:f,placeholder:"",className:"input-field pr-12",autoComplete:"new-password"}),l.jsx("button",{type:"button",onClick:()=>m(!u),className:"absolute right-3 top-1/2 -translate-y-1/2 text-theme-hint hover:text-theme transition-colors",children:u?l.jsx(xn,{size:20}):l.jsx(gn,{size:20})})]})]})]}),l.jsxs("div",{className:"flex items-center justify-end gap-3 p-6 border-t border-white/20 dark:border-neutral-700/50",children:[l.jsx("button",{onClick:t,disabled:h,className:"px-6 py-2.5 text-theme-secondary hover:bg-theme-item rounded-lg font-medium transition-colors disabled:opacity-50",children:""}),l.jsx("button",{onClick:N,disabled:h||!r.trim()||!i.trim(),className:"px-6 py-2.5 gradient-primary text-white rounded-lg font-medium hover:shadow-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:shadow-none",children:h?"...":""})]})]})})}):null},Ci=({visible:e,onConfirm:t,onClose:n,error:r})=>{const[s,i]=x.useState(""),[o,a]=x.useState(!1),[c,u]=x.useState(""),m=x.useRef(null);x.useEffect(()=>{e&&m.current&&setTimeout(()=>{var y;return(y=m.current)==null?void 0:y.focus()},100)},[e]),x.useEffect(()=>{e&&(i(""),a(!1),u(""))},[e]);const h=()=>{const y=tf(s);if(!y.isValid){u(y.error||"");return}u(""),t(s.trim())},p=y=>{y.key==="Enter"&&h()};return x.useEffect(()=>{if(!e)return;const y=v=>{v.key==="Escape"&&(v.preventDefault(),v.stopPropagation())};return window.addEventListener("keydown",y),()=>window.removeEventListener("keydown",y)},[e]),e?l.jsx(l.Fragment,{children:l.jsx("div",{className:"fixed inset-0 bg-black/30 dark:bg-black/50 backdrop-blur-sm flex items-center justify-center p-4",style:{zIndex:9e3},onClick:y=>y.target===y.currentTarget&&(n==null?void 0:n()),children:l.jsxs("div",{className:"bg-white/90 dark:bg-neutral-800/90 backdrop-blur-xl rounded-3xl shadow-2xl w-full max-w-md transform transition-all",children:[l.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-white/20 dark:border-neutral-700/50",children:[l.jsx("h3",{className:"text-xl font-semibold text-theme",children:r||"WebUI "}),n&&l.jsx("button",{onClick:n,className:"text-theme-hint hover:text-theme transition-colors",children:l.jsx(wt,{size:24})})]}),l.jsx("div",{className:"p-6",children:l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"relative",children:[l.jsx("input",{ref:m,type:o?"text":"password",value:s,onChange:y=>{i(y.target.value),c&&u("")},onKeyPress:p,placeholder:"",className:`w-full px-4 py-3 pr-12 border rounded-xl focus:outline-none focus:ring-2 transition-all bg-theme-input backdrop-blur-sm text-theme placeholder:text-theme-hint ${c?"border-red-300 focus:ring-red-500 focus:border-red-500":"border-theme-input focus:ring-pink-500 focus:border-transparent"}`,autoComplete:"off"}),l.jsx("button",{type:"button",onClick:()=>a(!o),className:"absolute right-3 top-1/2 -translate-y-1/2 text-theme-hint hover:text-theme transition-colors",children:o?l.jsx(xn,{size:20}):l.jsx(gn,{size:20})})]}),c&&l.jsx("p",{className:"text-sm text-red-500 px-1",children:c})]})}),l.jsxs("div",{className:"flex items-center justify-end gap-3 p-6 border-t border-white/20 dark:border-neutral-700/50",children:[n&&l.jsx("button",{onClick:n,className:"px-6 py-2.5 text-theme-secondary hover:bg-theme-item rounded-lg font-medium transition-colors",children:""}),l.jsx("button",{onClick:h,disabled:!s.trim(),className:"px-6 py-2.5 gradient-primary text-white rounded-lg font-medium hover:shadow-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:shadow-none",children:""})]})]})})}):null},I0=({onLoginSuccess:e})=>{const[t,n]=x.useState("quick"),[r,s]=x.useState(!1),[i,o]=x.useState(!1),[a,c]=x.useState(!1),[u,m]=x.useState(""),[h,p]=x.useState([]),[y,v]=x.useState(null),k=x.useRef(null),N=x.useRef(null),f=x.useRef(null),d=x.useRef(!1),g=x.useRef(!1),w={scanning:"",success:"",expired:"",error:"","":""},S=x.useCallback(()=>{d.current=!1,f.current&&(clearTimeout(f.current),f.current=null)},[]),C=x.useCallback(async()=>{if(d.current)return;d.current=!0;const b=60;let L=0;const A=async()=>{if(L>=b){S(),Q("","error"),t==="qr"&&m("error");return}L++;try{const $=await ze("/api/login-info");if($.success&&$.data.online===!0){S(),Q("...","success"),t==="qr"&&m("success"),setTimeout(()=>e(),1e3);return}f.current=setTimeout(A,3e3)}catch{f.current=setTimeout(A,3e3)}};await A()},[t,e,S]),R=x.useCallback(b=>{if(!k.current)return;const A=k.current.getContext("2d");if(!A)return;const $=new Image;$.onload=()=>{A.clearRect(0,0,200,200),A.drawImage($,0,0,200,200)},$.src=b},[]),M=x.useCallback(async()=>{if(k.current)try{const b=await ze("/api/login-qrcode");if(b.success&&b.data){R(b.data.pngBase64QrcodeData);const L=b.data.expireTime*1e3;N.current&&clearInterval(N.current),N.current=setTimeout(()=>{c(!0),m("expired"),S()},L),c(!1),m(""),Q("QQ","warning"),await C()}else throw new Error(b.message||"")}catch(b){Q(b.message||"","error")}},[R,C,S]),q=x.useCallback(async()=>{await M(),Q("","success")},[M]),P=x.useCallback(async()=>{if(!g.current){g.current=!0;try{const b=await ze("/api/quick-login-list");if(b.success&&b.data&&b.data.LocalLoginInfoList){const L=b.data.LocalLoginInfoList.filter(A=>A.isQuickLogin&&!A.isUserLogin);p(L),L.length>0?v(A=>A??L[0]):n("qr")}else p([])}catch{Q("","error"),p([])}}},[]),G=x.useCallback(async()=>{if(y){o(!0);try{const L=(await ze("/api/quick-login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({uin:y.uin})})).data;if(L.result==="0")Q(` ${y.nickName}...`,"success"),await C();else throw new Error(L.loginErrorInfo.errMsg||"")}catch(b){Q(b.message,"error"),n("qr")}finally{o(!1)}}},[y,C]),E=()=>s(!r),j=b=>{v(b),s(!1)};return x.useEffect(()=>(g.current||P(),()=>{N.current&&clearInterval(N.current),S()}),[]),x.useEffect(()=>{t==="qr"?setTimeout(()=>M(),100):N.current&&clearInterval(N.current),t==="quick"&&h.length===0&&!g.current&&P()},[t,h.length,M]),l.jsx("div",{className:"relative min-h-screen flex flex-col items-center justify-center p-5",children:l.jsxs("div",{className:"bg-white/50 dark:bg-neutral-800/70 backdrop-blur-2xl rounded-3xl p-10 shadow-xl border border-white/30 dark:border-neutral-700/50 min-w-[320px] text-center relative z-10",children:[t==="quick"&&l.jsxs("div",{className:"flex flex-col items-center gap-6",children:[!r&&y&&l.jsxs("div",{className:"flex flex-col items-center cursor-pointer p-4 rounded-2xl transition-colors hover:bg-pink-50 dark:hover:bg-pink-900/30",onClick:E,children:[l.jsx("div",{className:"w-20 h-20 rounded-full overflow-hidden mb-3 shadow-lg",children:l.jsx("img",{src:y.faceUrl,alt:y.nickName,className:"w-full h-full object-cover"})}),l.jsx("div",{className:"text-base text-theme mb-2",children:y.nickName})]}),r&&l.jsx("div",{className:"grid grid-cols-2 gap-4 my-5 w-full max-w-md",children:h.map(b=>l.jsxs("div",{className:"flex flex-col items-center p-4 rounded-2xl cursor-pointer transition-all border-2 border-transparent hover:bg-pink-50 dark:hover:bg-pink-900/30 hover:border-pink-500",onClick:()=>j(b),children:[l.jsx("div",{className:"w-[60px] h-[60px] rounded-full overflow-hidden mb-2 shadow-md",children:l.jsx("img",{src:b.faceUrl,alt:b.nickName,className:"w-full h-full object-cover"})}),l.jsx("div",{className:"text-sm text-theme text-center truncate w-full px-1",children:b.nickName})]},b.uin))}),!r&&l.jsx("button",{onClick:G,disabled:!y||i,className:"w-[280px] h-11 gradient-primary text-white rounded-full font-medium text-base disabled:opacity-50 disabled:cursor-not-allowed hover:shadow-lg transition-all flex items-center justify-center gap-2",children:i?l.jsxs(l.Fragment,{children:[l.jsx(je,{size:20,className:"animate-spin"}),"..."]}):""}),l.jsxs("div",{className:"flex gap-6 justify-center",children:[!r&&l.jsx("button",{onClick:E,className:"text-pink-500 text-sm hover:underline",children:""}),l.jsx("button",{onClick:()=>n("qr"),className:"text-pink-500 text-sm hover:underline",children:""})]})]}),t==="qr"&&l.jsxs("div",{className:"flex flex-col items-center gap-5",children:[l.jsx("div",{className:"relative inline-block",children:l.jsxs("div",{className:"relative p-5 bg-white rounded-2xl shadow-lg",children:[l.jsx("canvas",{ref:k,width:"200",height:"200",className:"block rounded-lg"}),a&&l.jsxs("div",{className:"absolute inset-0 bg-black/70 flex flex-col items-center justify-center text-white cursor-pointer rounded-2xl transition-opacity hover:opacity-90",onClick:q,children:[l.jsx(qm,{size:32,className:"mb-2"}),l.jsx("div",{children:""})]})]})}),l.jsx("div",{className:"text-theme-secondary",children:"QQ"}),u&&l.jsx("div",{className:`text-sm px-4 py-2 rounded-lg ${u==="success"?"bg-green-100 text-green-800":u==="error"||u==="expired"?"bg-red-100 text-red-800":"bg-blue-100 text-blue-800"}`,children:w[u]})]}),l.jsx("div",{className:"mt-6",children:t==="qr"&&h.length>0&&l.jsx("button",{onClick:()=>n("quick"),className:"text-pink-500 text-sm hover:underline",children:""})})]})})};let nf=null,rf=null;function sf(e,t){nf=e,rf=t}function ir(){return nf}function Ta(){return rf}function Ma(e){return`https://q1.qlogo.cn/g?b=qq&nk=${e}&s=640`}function ql(e){return`https://p.qlogo.cn/gh/${e}/${e}/640/`}async function lf(){const e=await ze("/api/login-info");if(!e.success)throw new Error(e.message||"");const t=e.data;return sf(t.uid,t.uin),t}async function Mo(){const e=await le("ntFriendApi","getBuddyV2",[!0]),t=await le("ntFriendApi","getBuddyList",[]),n=new Map;for(const s of t)n.set(s.uid,s);const r=(e.data||[]).map(s=>{const i=(s.buddyUids||[]).map(o=>n.get(o)).filter(o=>o).map(o=>{var a,c,u;return{uid:o.uid,uin:o.uin,nickname:((a=o.coreInfo)==null?void 0:a.nick)||"",remark:((c=o.coreInfo)==null?void 0:c.remark)||"",avatar:Ma(o.uin),online:((u=o.status)==null?void 0:u.status)===10||!1}});return{categoryId:s.categoryId,categoryName:s.categroyName||"",categorySort:s.categorySortId,onlineCount:s.onlineCount||0,memberCount:s.categroyMbCount||i.length,friends:i}});return r.sort((s,i)=>s.categorySort-i.categorySort),r}async function Io(){return(await le("ntGroupApi","getGroups",[!1])).map(t=>({groupCode:t.groupCode,groupName:t.groupName,remarkName:t.remarkName||"",avatar:ql(t.groupCode),memberCount:t.memberCount}))}async function zo(){return(await le("ntUserApi","getRecentContactListSnapShot",[50])).info.changedList.filter(t=>{const n=t.peerUin||t.peerUid;return n&&n!=="0"&&n!==""}).map(t=>{const n=t.chatType,r=n===2,s=r?t.peerUin||t.peerUid:t.peerUin;return{chatType:n,peerId:s,peerName:t.peerName||t.remark||t.peerUin,peerAvatar:r?ql(s):Ma(t.peerUin),lastMessage:z0(t.abstractContent),lastTime:parseInt(t.msgTime)*1e3,unreadCount:parseInt(t.unreadCnt)||0}}).sort((t,n)=>n.lastTime-t.lastTime)}function z0(e){return!e||!Array.isArray(e)?"":e.map(t=>t.type===1?t.content||"":t.type===2?"[]":t.type===3?"[]":t.type===6?"[]":"").join("")}async function Gs(e,t,n,r=20,s){const i=new URLSearchParams({chatType:String(e),peerId:t,limit:r.toString()});n&&i.append("beforeMsgSeq",n),s&&i.append("afterMsgSeq",s);const o=await ze(`/api/webqq/messages?${i}`);if(!o.success)throw new Error(o.message||"");return o.data||{messages:[],hasMore:!1}}async function Po(e){const t=await ze("/api/webqq/messages",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.success)throw new Error(t.message||"");return t.data||{msgId:""}}async function of(e){const t=new FormData;t.append("image",e);const n=await ze("/api/webqq/upload",{method:"POST",body:t});if(!n.success)throw new Error(n.message||"");return n.data}async function af(e){const t=await ze("/api/webqq/upload",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({imageUrl:e})});if(!t.success)throw new Error(t.message||"");return t.data}async function cf(e){const t=new FormData;t.append("file",e);const n=await ze("/api/webqq/upload-file",{method:"POST",body:t});if(!n.success)throw new Error(n.message||"");return n.data}async function P0(e){const t=await ze(`/api/webqq/members?groupCode=${e}`);if(!t.success)throw new Error(t.message||"");return t.data||[]}async function le(e,t,n=[]){const r=await ze(`/api/ntcall/${e}/${t}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({args:n})});if(!r.success)throw new Error(r.message||"NT API ");return r.data}async function uf(e,t,n,r){return await le("ntFileApi","getVideoUrl",[{chatType:e,peerUid:t,guildId:""},n,r])}async function df(e,t,n){await le("ntMsgApi","recallMsg",[{chatType:e,peerUid:t,guildId:""},[n]])}async function mf(e,t){var n,r;try{if(t){const i=await le("ntGroupApi","getGroupMember",[t,e,!1]);if(i)return i.cardName||i.nick||""}const s=await le("ntUserApi","getUserSimpleInfo",[e,!1]);return((n=s==null?void 0:s.coreInfo)==null?void 0:n.remark)||((r=s==null?void 0:s.coreInfo)==null?void 0:r.nick)||""}catch{return""}}async function jl(e,t,n){e===2&&n?await le("pmhq","sendGroupPoke",[Number(n),Number(t)]):await le("pmhq","sendFriendPoke",[Number(t)])}async function ff(e,t,n,r){return await le("ntMsgApi","translatePtt2Text",[e,{chatType:t,peerUid:n,guildId:""},r])||""}async function hf(e,t,n=!1){const r=await le("ntGroupApi","kickMember",[e,[t],n,""]);if((r==null?void 0:r.errCode)!==0)throw new Error((r==null?void 0:r.errMsg)||"")}async function pf(e,t,n){await le("ntGroupApi","banMember",[e,[{uid:t,timeStamp:n}]])}async function xf(e,t,n){await le("pmhq","setSpecialTitle",[parseInt(e),t,n])}function gf(e,t,n){const r=is();let s=`/api/webqq/audio-proxy?fileUuid=${encodeURIComponent(e)}&isGroup=${t}&token=${encodeURIComponent(r||"")}`;return n&&(s+=`&filePath=${encodeURIComponent(n)}`),s}async function yf(e){const t=await le("ntGroupApi","quitGroup",[e]);if((t==null?void 0:t.result)!==0)throw new Error((t==null?void 0:t.errMsg)||"")}async function Nl(e,t,n){var y;let r=e;if(!r&&t&&(r=await le("ntUserApi","getUidByUin",[t])),!r)throw new Error("");const i=(await le("ntUserApi","fetchUserDetailInfo",[r])).detail[r];if(!i)throw new Error("");let o=t||i.uin;o||(o=await le("ntUserApi","getUinByUid",[r]));const a=i.simpleInfo,c=a==null?void 0:a.coreInfo,u=a==null?void 0:a.baseInfo,m=i.commonExt;let h=((y=m==null?void 0:m.qqLevel)==null?void 0:y.level)||0;if(h===0&&o)try{h=await le("pmhq","fetchUserLevel",[parseInt(o)])}catch{}const p={uid:r,uin:o||"",nickname:(c==null?void 0:c.nick)||"",remark:(c==null?void 0:c.remark)||"",signature:(u==null?void 0:u.longNick)||"",sex:(u==null?void 0:u.sex)??0,birthday:u!=null&&u.birthday_year?`${u.birthday_year}-${u.birthday_month}-${u.birthday_day}`:"",location:"",qid:(u==null?void 0:u.qid)||"",level:h,regTime:(m==null?void 0:m.regTime)||void 0,avatar:`https://q1.qlogo.cn/g?b=qq&nk=${o}&s=640`};if(n)try{const v=await le("ntGroupApi","getGroupMember",[n,r,!1]);v&&(p.groupCard=v.cardName||"",p.groupRole=v.role===4?"owner":v.role===3?"admin":"member",p.groupTitle=v.memberSpecialTitle||"",p.groupLevel=v.memberRealLevel||v.memberLevel||0,p.joinTime=v.joinTime,p.lastSpeakTime=v.lastSpeakTime)}catch{}return p}function vf(e,t,n){const r=is(),s=r?`/api/webqq/events?token=${encodeURIComponent(r)}`:"/api/webqq/events";let i,o=0,a=null,c=!1;const u=()=>(i=new EventSource(s),i.addEventListener("message",h=>{try{const p=JSON.parse(h.data);e(p)}catch(p){console.error(" SSE :",p)}}),i.addEventListener("connected",()=>{console.log("[SSE] "),o=0}),i.onopen=()=>{console.log("[SSE] "),o>0&&(console.log("[SSE] "),n==null||n()),o=0},i.onerror=h=>{if(console.error("[SSE] :",h),c)return;i.close();const p=Math.min(1e3*Math.pow(2,o),3e4);o++,console.log(`[SSE]  ${p}ms  ${o} ...`),a=setTimeout(()=>{c||(console.log("[SSE] ..."),u())},p),t==null||t(h)},i);return i=u(),{close:()=>{c=!0,a&&(clearTimeout(a),a=null),i.close(),console.log("[SSE] ")},get readyState(){return i.readyState},get url(){return i.url},addEventListener:i.addEventListener.bind(i),removeEventListener:i.removeEventListener.bind(i),dispatchEvent:i.dispatchEvent.bind(i),onerror:i.onerror,onmessage:i.onmessage,onopen:i.onopen,CONNECTING:EventSource.CONNECTING,OPEN:EventSource.OPEN,CLOSED:EventSource.CLOSED,withCredentials:i.withCredentials}}function wf(e,t){if(!t.trim())return e;const n=t.toLowerCase();return e.filter(r=>r.groupName.toLowerCase().includes(n)||r.groupCode.includes(t))}function kf(e,t){if(!t.trim())return e;const n=t.toLowerCase();return e.filter(r=>r.nickname.toLowerCase().includes(n)||r.card.toLowerCase().includes(n)||r.uin.includes(t))}function jf(e){const t=e.toLowerCase().split(".").pop()||"";return["jpg","jpeg","png","gif"].includes(t)}async function Nf(e){var r,s,i;const t=await le("ntGroupApi","getGroupAllInfo",[e]);console.log("[WebQQ] :",{groupCode:t.groupCode,groupName:t.groupName,fingerMemo:t.fingerMemo,fingerMemoLength:(r=t.fingerMemo)==null?void 0:r.length,groupMemo:t.groupMemo,groupMemoLength:(s=t.groupMemo)==null?void 0:s.length,richFingerMemo:t.richFingerMemo});let n="";if(t.ownerUid)try{const o=await le("ntUserApi","getUinByUid",[t.ownerUid]),a=await le("ntUserApi","getUserSimpleInfo",[t.ownerUid,!1]);n=((i=a==null?void 0:a.coreInfo)==null?void 0:i.nick)||o||""}catch{}return{groupCode:t.groupCode,groupName:t.groupName,remarkName:t.remarkName||"",avatar:ql(t.groupCode),memberCount:t.memberNum,maxMemberCount:t.maxMemberNum,ownerUin:t.ownerUid?await le("ntUserApi","getUinByUid",[t.ownerUid]).catch(()=>""):"",ownerName:n,createTime:t.cmdUinJoinTime||void 0,description:t.richFingerMemo||t.fingerMemo||"",announcement:t.groupMemo||""}}function Wl(e){const t=new Date(e),n=new Date;if(t.toDateString()===n.toDateString())return t.toLocaleTimeString("zh-CN",{hour:"2-digit",minute:"2-digit"});const s=new Date(n);return s.setDate(s.getDate()-1),t.toDateString()===s.toDateString()?` ${t.toLocaleTimeString("zh-CN",{hour:"2-digit",minute:"2-digit"})}`:t.toLocaleDateString("zh-CN",{month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})}async function bf(e){const t=await le("ntFriendApi","delBuddy",[e]);if((t==null?void 0:t.result)!==0)throw new Error((t==null?void 0:t.errMsg)||"")}const L0=Object.freeze(Object.defineProperty({__proto__:null,createEventSource:vf,deleteFriend:bf,filterGroups:wf,filterMembers:kf,formatMessageTime:Wl,getAudioProxyUrl:gf,getFriends:Mo,getGroupAvatar:ql,getGroupMembers:P0,getGroupProfile:Nf,getGroups:Io,getLoginInfo:lf,getMessages:Gs,getRecentChats:zo,getSelfUid:ir,getSelfUin:Ta,getUserAvatar:Ma,getUserDisplayName:mf,getUserProfile:Nl,getVideoUrl:uf,isValidImageFormat:jf,kickGroupMember:hf,muteGroupMember:pf,ntCall:le,quitGroup:yf,recallMessage:df,sendMessage:Po,sendPoke:jl,setMemberTitle:xf,setSelfInfo:sf,translatePttToText:ff,uploadFile:cf,uploadImage:of,uploadImageByUrl:af},Symbol.toStringTag,{value:"Module"})),R0="modulepreload",_0=function(e){return"/"+e},uu={},A0=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(c=>{if(c=_0(c),c in uu)return;uu[c]=!0;const u=c.endsWith(".css"),m=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${m}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":R0,u||(h.as="script"),h.crossOrigin="",h.href=c,a&&h.setAttribute("nonce",a),document.head.appendChild(h),u)return new Promise((p,y)=>{h.addEventListener("load",p),h.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return t().catch(i)})},F0=60*60*1e3,du=30*60*1e3,zs=new Map;let Ia=new Set,za=new Set;const mu=()=>{Ia=new Set,za=new Set},Pa=(e,t)=>Ia.has(`${e}_${t}`),U0=(e,t)=>{Ia.add(`${e}_${t}`)},$0=e=>za.has(e),D0=e=>{za.add(e)},xt=Ym()(Xm((e,t)=>({friendCategories:[],groups:[],recentChats:[],contactsLoading:!1,contactsError:null,currentChat:null,activeTab:"recent",unreadCounts:{},expandedCategories:[],membersCache:{},showMemberPanel:!1,scrollPositions:{},contactsCacheTimestamp:0,setFriendCategories:n=>e({friendCategories:n}),setGroups:n=>e({groups:n}),setRecentChats:n=>e({recentChats:n}),setContactsLoading:n=>e({contactsLoading:n}),setContactsError:n=>e({contactsError:n}),setCurrentChat:n=>e({currentChat:n}),setActiveTab:n=>e({activeTab:n}),setUnreadCount:(n,r)=>e(s=>({unreadCounts:{...s.unreadCounts,[n]:r}})),incrementUnreadCount:n=>e(r=>({unreadCounts:{...r.unreadCounts,[n]:(r.unreadCounts[n]||0)+1}})),clearUnreadCount:n=>e(r=>{const{[n]:s,...i}=r.unreadCounts;return{unreadCounts:i}}),initUnreadCounts:n=>{const r={};n.forEach(s=>{s.unreadCount>0&&(r[`${s.chatType}_${s.peerId}`]=s.unreadCount)}),e({unreadCounts:r})},toggleCategory:n=>e(r=>{const s=new Set(r.expandedCategories);return s.has(n)?s.delete(n):s.add(n),{expandedCategories:Array.from(s)}}),setExpandedCategories:n=>e({expandedCategories:n}),getCachedMembers:n=>{const s=t().membersCache[n];return s&&Date.now()-s.timestamp<du?s.members:null},setCachedMembers:(n,r)=>e(s=>{const i=Date.now(),o={};for(const[a,c]of Object.entries(s.membersCache))i-c.timestamp<du&&(o[a]=c);return{membersCache:{...o,[n]:{members:r,timestamp:i}}}}),fetchGroupMembers:async(n,r=!1)=>{const s=t();if(console.log("[Store] fetchGroupMembers called:",n,"forceRefresh:",r),!r){const a=s.getCachedMembers(n);if(a)return console.log("[Store] Cache hit, returning cached members"),a}const i=zs.get(n);if(i)return console.log("[Store] Already loading, returning existing promise"),i;console.log("[Store] Fetching from API");const o=(async()=>{const{getGroupMembers:a}=await A0(async()=>{const{getGroupMembers:u}=await Promise.resolve().then(()=>L0);return{getGroupMembers:u}},void 0),c=await a(n);return console.log("[Store] API success, caching members"),t().setCachedMembers(n,c),zs.delete(n),c})().catch(a=>{throw console.log("[Store] API error:",a.message),zs.delete(n),a});return zs.set(n,o),o},setShowMemberPanel:n=>e({showMemberPanel:n}),getScrollPosition:(n,r)=>{const s=t(),i=`${n}_${r}`;return s.scrollPositions[i]||null},setScrollPosition:(n,r,s)=>e(i=>({scrollPositions:{...i.scrollPositions,[`${n}_${r}`]:s}})),clearScrollPosition:(n,r)=>e(s=>{const{[`${n}_${r}`]:i,...o}=s.scrollPositions;return{scrollPositions:o}}),isContactsCacheValid:()=>{const n=t();return n.contactsCacheTimestamp>0&&Date.now()-n.contactsCacheTimestamp<F0&&(n.friendCategories.length>0||n.groups.length>0)},loadContacts:async()=>{const n=t();if(n.isContactsCacheValid()){n.refreshContacts();return}e({contactsLoading:!0,contactsError:null});try{const[r,s,i]=await Promise.all([Mo(),Io(),zo()]),o=i.filter(h=>h.peerId&&h.peerId!=="0"&&h.peerId!==""),a=new Map;n.recentChats.forEach(h=>{h.peerId&&h.peerId!=="0"&&h.peerId!==""&&a.set(`${h.chatType}_${h.peerId}`,h)}),o.forEach(h=>{const p=`${h.chatType}_${h.peerId}`,y=a.get(p);y?h.lastTime>y.lastTime&&a.set(p,h):a.set(p,h)});const c=Array.from(a.values()).sort((h,p)=>p.lastTime-h.lastTime);e({friendCategories:r,groups:s,recentChats:c,contactsCacheTimestamp:Date.now(),contactsLoading:!1});const m={...t().unreadCounts};o.forEach(h=>{const p=`${h.chatType}_${h.peerId}`;!(p in m)&&h.unreadCount>0&&(m[p]=h.unreadCount)}),e({unreadCounts:m})}catch(r){e({contactsError:r.message||"",contactsLoading:!1})}},refreshContacts:async()=>{try{const[n,r,s]=await Promise.all([Mo(),Io(),zo()]),i=s.filter(h=>h.peerId&&h.peerId!=="0"&&h.peerId!==""),o=t(),a=new Map;o.recentChats.forEach(h=>{h.peerId&&h.peerId!=="0"&&h.peerId!==""&&a.set(`${h.chatType}_${h.peerId}`,h)}),i.forEach(h=>{const p=`${h.chatType}_${h.peerId}`,y=a.get(p);y?h.lastTime>y.lastTime&&a.set(p,h):a.set(p,h)});const c=Array.from(a.values()).sort((h,p)=>p.lastTime-h.lastTime);e({friendCategories:n,groups:r,recentChats:c,contactsCacheTimestamp:Date.now()});const m={...t().unreadCounts};i.forEach(h=>{const p=`${h.chatType}_${h.peerId}`;!(p in m)&&h.unreadCount>0&&(m[p]=h.unreadCount)}),e({unreadCounts:m})}catch(n){console.error("Failed to refresh contacts:",n)}},updateRecentChat:(n,r,s,i,o,a)=>e(c=>{const u=c.recentChats.filter((y,v,k)=>k.findIndex(N=>N.chatType===y.chatType&&N.peerId===y.peerId)===v),m=u.find(y=>y.chatType===n&&y.peerId===r),h=c.currentChat,p=(h==null?void 0:h.chatType)===n&&(h==null?void 0:h.peerId)===r;if(m){const y=u.filter(f=>!(f.chatType===n&&f.peerId===r)),v={...m,lastMessage:s,lastTime:i,unreadCount:p?0:m.unreadCount+1};if(m.pinned){const f=y.filter(g=>g.pinned),d=y.filter(g=>!g.pinned);return{recentChats:[v,...f,...d]}}const k=y.filter(f=>f.pinned),N=y.filter(f=>!f.pinned);return{recentChats:[...k,v,...N]}}else{let y=o||r,v=a||"";if(n===1||n===100){for(const N of c.friendCategories){const f=N.friends.find(d=>d.uin===r);if(f){y=f.remark||f.nickname,v=f.avatar;break}}v||(v=`https://q1.qlogo.cn/g?b=qq&nk=${r}&s=640`)}else if(n===2){const N=c.groups.find(f=>f.groupCode===r);N&&(y=N.groupName,v=N.avatar),v||(v=`https://p.qlogo.cn/gh/${r}/${r}/640/`)}return{recentChats:[{chatType:n,peerId:r,peerName:y,peerAvatar:v,lastMessage:s,lastTime:i,unreadCount:p?0:1},...u]}}}),togglePinChat:(n,r)=>e(s=>{const i=s.recentChats.map(o=>o.chatType===n&&o.peerId===r?{...o,pinned:!o.pinned}:o);return i.sort((o,a)=>o.pinned&&!a.pinned?-1:!o.pinned&&a.pinned?1:a.lastTime-o.lastTime),{recentChats:i}}),removeRecentChat:(n,r)=>e(s=>({recentChats:s.recentChats.filter(i=>!(i.chatType===n&&i.peerId===r))})),removeFriend:n=>e(r=>({friendCategories:r.friendCategories.map(i=>({...i,friends:i.friends.filter(o=>o.uid!==n),memberCount:i.friends.filter(o=>o.uid!==n).length}))}))}),{name:"webqq-storage",partialize:e=>({friendCategories:e.friendCategories,groups:e.groups,recentChats:e.recentChats,expandedCategories:e.expandedCategories,membersCache:e.membersCache,showMemberPanel:e.showMemberPanel,scrollPositions:e.scrollPositions,contactsCacheTimestamp:e.contactsCacheTimestamp,unreadCounts:e.unreadCounts,activeTab:e.activeTab,currentChat:e.currentChat}),onRehydrateStorage:()=>e=>{if(e&&e.recentChats){const t=new Set;e.recentChats=e.recentChats.filter(n=>{if(!n.peerId||n.peerId==="0"||n.peerId==="")return!1;const r=`${n.chatType}_${n.peerId}`;return t.has(r)?!1:(t.add(r),!0)})}}}));function O0(e,t,n){const[r,s]=x.useState({left:-9999,top:-9999,ready:!1});return x.useEffect(()=>{s({left:-9999,top:-9999,ready:!1});const i=requestAnimationFrame(()=>{if(!n.current){s({left:e,top:t,ready:!0});return}const o=n.current.getBoundingClientRect(),a=10;let c=e,u=t;e+o.width>window.innerWidth-a&&(c=e-o.width),c<a&&(c=a),t+o.height>window.innerHeight-a&&(u=t-o.height),u<a&&(u=a),s({left:c,top:u,ready:!0})});return()=>cancelAnimationFrame(i)},[e,t]),r}const q0=({activeTab:e,onTabChange:t,friendCategories:n,groups:r,recentChats:s,unreadCounts:i,selectedPeerId:o,onSelectFriend:a,onSelectGroup:c,onSelectRecent:u})=>{const[m,h]=x.useState(""),p=x.useMemo(()=>{if(!m.trim())return n;const k=m.toLowerCase();return n.map(N=>({...N,friends:N.friends.filter(f=>f.nickname.toLowerCase().includes(k)||f.remark.toLowerCase().includes(k)||f.uin.includes(m))})).filter(N=>N.friends.length>0)},[n,m]),y=x.useMemo(()=>wf(r,m),[r,m]),v=[{id:"recent",icon:_r,label:""},{id:"friends",icon:Ol,label:""},{id:"groups",icon:Fm,label:""}];return l.jsxs("div",{className:"flex flex-col h-full",children:[l.jsx("div",{className:"flex border-b border-theme-divider px-2 pt-2",children:v.map(k=>{const N=k.icon,f=e===k.id;return l.jsxs("button",{onClick:()=>t(k.id),className:`flex-1 flex items-center justify-center gap-1.5 py-2.5 text-sm font-medium transition-colors rounded-t-lg ${f?"text-pink-600 dark:text-pink-400 bg-pink-50/50 dark:bg-pink-900/30":"text-theme-muted hover:text-theme hover:bg-theme-item"}`,children:[l.jsx(N,{size:16}),k.label]},k.id)})}),e!=="recent"&&l.jsx("div",{className:"p-3",children:l.jsxs("div",{className:"relative",children:[l.jsx(Hm,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-theme-hint"}),l.jsx("input",{type:"text",value:m,onChange:k=>h(k.target.value),placeholder:e==="friends"?"...":"...",className:"w-full pl-9 pr-3 py-2 text-sm bg-theme-input border border-theme-input rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-500/20 focus:border-pink-500/50 text-theme placeholder:text-theme-hint"})]})}),l.jsxs("div",{className:"flex-1 overflow-y-auto",children:[e==="recent"&&l.jsx(Q0,{items:s,unreadCounts:i,selectedPeerId:o,onSelect:u}),e==="friends"&&l.jsx(W0,{categories:p,selectedPeerId:o,onSelect:a}),e==="groups"&&l.jsx(B0,{items:y,selectedPeerId:o,onSelect:c})]})]})},W0=({categories:e,selectedPeerId:t,onSelect:n})=>{const{expandedCategories:r,toggleCategory:s}=xt(),i=x.useMemo(()=>new Set(r),[r]);return e.length===0?l.jsx("div",{className:"flex items-center justify-center h-32 text-theme-hint text-sm",children:""}):l.jsx("div",{className:"py-1",children:e.map(o=>{const a=i.has(o.categoryId);return l.jsxs("div",{children:[l.jsxs("div",{onClick:()=>s(o.categoryId),className:"flex items-center gap-2 px-3 py-2 cursor-pointer hover:bg-theme-item-hover text-theme-secondary",children:[a?l.jsx($x,{size:14}):l.jsx(Dx,{size:14}),l.jsx("span",{className:"text-xs font-medium",children:o.categoryName}),l.jsxs("span",{className:"text-xs text-theme-hint",children:[o.onlineCount,"/",o.memberCount]})]}),a&&o.friends.map(c=>l.jsx(H0,{friend:c,isSelected:t===c.uin,onClick:()=>n(c)},c.uid))]},o.categoryId)})})},H0=({friend:e,isSelected:t,onClick:n})=>l.jsxs("div",{onClick:n,className:`flex items-center gap-3 px-3 py-2.5 cursor-pointer transition-colors ${t?"bg-pink-500/20":"hover:bg-theme-item-hover"}`,children:[l.jsxs("div",{className:"relative flex-shrink-0",children:[l.jsx("img",{src:e.avatar,alt:e.nickname,className:"w-10 h-10 rounded-full object-cover",onError:r=>{r.currentTarget.src=`https://q1.qlogo.cn/g?b=qq&nk=${e.uin}&s=640`}}),e.online&&l.jsx("div",{className:"absolute bottom-0 right-0 w-3 h-3 bg-green-500 rounded-full border-2 border-white dark:border-neutral-800"})]}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("div",{className:"text-sm font-medium text-theme truncate",children:e.remark||e.nickname}),e.remark&&l.jsx("div",{className:"text-xs text-theme-hint truncate",children:e.nickname})]})]}),B0=({items:e,selectedPeerId:t,onSelect:n})=>e.length===0?l.jsx("div",{className:"flex items-center justify-center h-32 text-theme-hint text-sm",children:""}):l.jsx("div",{className:"py-1",children:e.map(r=>l.jsx(V0,{group:r,isSelected:t===r.groupCode,onClick:()=>n(r)},r.groupCode))}),V0=({group:e,isSelected:t,onClick:n})=>l.jsxs("div",{onClick:n,className:`flex items-center gap-3 px-3 py-2.5 cursor-pointer transition-colors ${t?"bg-pink-500/20":"hover:bg-theme-item-hover"}`,children:[l.jsx("img",{src:e.avatar,alt:e.groupName,className:"w-10 h-10 rounded-full object-cover flex-shrink-0",onError:r=>{r.currentTarget.src=`https://p.qlogo.cn/gh/${e.groupCode}/${e.groupCode}/640/`}}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("div",{className:"text-sm font-medium text-theme truncate",children:e.groupName}),l.jsxs("div",{className:"text-xs text-theme-hint",children:[e.memberCount," "]})]})]}),Q0=({items:e,unreadCounts:t,selectedPeerId:n,onSelect:r})=>{const{togglePinChat:s,removeRecentChat:i,friendCategories:o,groups:a}=xt(),[c,u]=x.useState(null),m=x.useRef(null),h=O0((c==null?void 0:c.x)||0,(c==null?void 0:c.y)||0,m),p=f=>{if(f.chatType===2){const d=a.find(g=>g.groupCode===f.peerId);if(d!=null&&d.remarkName&&d.remarkName!==d.groupName)return d.remarkName}else if(f.chatType===1||f.chatType===100)for(const d of o){const g=d.friends.find(w=>w.uin===f.peerId);if(g!=null&&g.remark&&g.remark!==g.nickname)return g.remark}return f.peerName},y=(f,d)=>{f.preventDefault(),u({x:f.clientX,y:f.clientY,item:d})},v=()=>u(null),k=()=>{c&&(s(c.item.chatType,c.item.peerId),v())},N=()=>{c&&(i(c.item.chatType,c.item.peerId),v())};return e.length===0?l.jsx("div",{className:"flex items-center justify-center h-32 text-theme-hint text-sm",children:""}):l.jsxs("div",{className:"py-1",onClick:v,children:[e.map(f=>l.jsx(G0,{item:f,displayName:p(f),unreadCount:t.get(`${f.chatType}_${f.peerId}`)||f.unreadCount,isSelected:n===f.peerId,onClick:()=>r(f),onContextMenu:d=>y(d,f)},`${f.chatType}_${f.peerId}`)),c&&Re.createPortal(l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"fixed inset-0 z-40",onClick:v,onContextMenu:f=>{f.preventDefault(),v()}}),l.jsxs("div",{ref:m,className:"fixed z-50 bg-popup backdrop-blur-sm border border-theme-divider rounded-lg shadow-lg py-1 min-w-[120px]",style:{left:h.left,top:h.top,visibility:h.ready?"visible":"hidden"},onContextMenu:f=>f.preventDefault(),children:[l.jsxs("button",{onClick:k,className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-theme hover:bg-theme-item-hover transition-colors",children:[l.jsx(Xx,{size:14}),c.item.pinned?"":""]}),l.jsxs("button",{onClick:N,className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-red-500 hover:bg-theme-item-hover transition-colors",children:[l.jsx(Et,{size:14}),""]})]})]}),document.body)]})},G0=({item:e,displayName:t,unreadCount:n,isSelected:r,onClick:s,onContextMenu:i})=>l.jsxs("div",{onClick:s,onContextMenu:i,className:`flex items-center gap-3 px-3 py-2.5 cursor-pointer transition-colors ${r?"bg-pink-500/20":e.pinned?"bg-theme-item-hover":"hover:bg-theme-item-hover"}`,children:[l.jsxs("div",{className:"relative flex-shrink-0",children:[l.jsx("img",{src:e.peerAvatar,alt:t,className:"w-10 h-10 rounded-full object-cover"}),n>0&&l.jsx("div",{className:"absolute -top-1 -right-1 min-w-[18px] h-[18px] bg-red-500 text-white text-xs font-medium rounded-full flex items-center justify-center px-1",children:n})]}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-sm font-medium text-theme truncate",children:t}),l.jsx("span",{className:"text-xs text-theme-hint flex-shrink-0 ml-2",children:Wl(e.lastTime)})]}),l.jsx("div",{className:"text-xs text-theme-hint truncate mt-0.5",children:e.lastMessage})]})]});function Mn(e,t,n){let r=n.initialDeps??[],s,i=!0;function o(){var a,c,u;let m;n.key&&((a=n.debug)!=null&&a.call(n))&&(m=Date.now());const h=e();if(!(h.length!==r.length||h.some((v,k)=>r[k]!==v)))return s;r=h;let y;if(n.key&&((c=n.debug)!=null&&c.call(n))&&(y=Date.now()),s=t(...h),n.key&&((u=n.debug)!=null&&u.call(n))){const v=Math.round((Date.now()-m)*100)/100,k=Math.round((Date.now()-y)*100)/100,N=k/16,f=(d,g)=>{for(d=String(d);d.length<g;)d=" "+d;return d};console.info(`%c ${f(k,5)} /${f(v,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*N,120))}deg 100% 31%);`,n==null?void 0:n.key)}return n!=null&&n.onChange&&!(i&&n.skipInitialOnChange)&&n.onChange(s),i=!1,s}return o.updateDeps=a=>{r=a},o}function fu(e,t){if(e===void 0)throw new Error("Unexpected undefined");return e}const K0=(e,t)=>Math.abs(e-t)<1.01,Y0=(e,t,n)=>{let r;return function(...s){e.clearTimeout(r),r=e.setTimeout(()=>t.apply(this,s),n)}},hu=e=>{const{offsetWidth:t,offsetHeight:n}=e;return{width:t,height:n}},X0=e=>e,J0=e=>{const t=Math.max(e.startIndex-e.overscan,0),n=Math.min(e.endIndex+e.overscan,e.count-1),r=[];for(let s=t;s<=n;s++)r.push(s);return r},Z0=(e,t)=>{const n=e.scrollElement;if(!n)return;const r=e.targetWindow;if(!r)return;const s=o=>{const{width:a,height:c}=o;t({width:Math.round(a),height:Math.round(c)})};if(s(hu(n)),!r.ResizeObserver)return()=>{};const i=new r.ResizeObserver(o=>{const a=()=>{const c=o[0];if(c!=null&&c.borderBoxSize){const u=c.borderBoxSize[0];if(u){s({width:u.inlineSize,height:u.blockSize});return}}s(hu(n))};e.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(a):a()});return i.observe(n,{box:"border-box"}),()=>{i.unobserve(n)}},pu={passive:!0},xu=typeof window>"u"?!0:"onscrollend"in window,eg=(e,t)=>{const n=e.scrollElement;if(!n)return;const r=e.targetWindow;if(!r)return;let s=0;const i=e.options.useScrollendEvent&&xu?()=>{}:Y0(r,()=>{t(s,!1)},e.options.isScrollingResetDelay),o=m=>()=>{const{horizontal:h,isRtl:p}=e.options;s=h?n.scrollLeft*(p&&-1||1):n.scrollTop,i(),t(s,m)},a=o(!0),c=o(!1);c(),n.addEventListener("scroll",a,pu);const u=e.options.useScrollendEvent&&xu;return u&&n.addEventListener("scrollend",c,pu),()=>{n.removeEventListener("scroll",a),u&&n.removeEventListener("scrollend",c)}},tg=(e,t,n)=>{if(t!=null&&t.borderBoxSize){const r=t.borderBoxSize[0];if(r)return Math.round(r[n.options.horizontal?"inlineSize":"blockSize"])}return e[n.options.horizontal?"offsetWidth":"offsetHeight"]},ng=(e,{adjustments:t=0,behavior:n},r)=>{var s,i;const o=e+t;(i=(s=r.scrollElement)==null?void 0:s.scrollTo)==null||i.call(s,{[r.options.horizontal?"left":"top"]:o,behavior:n})};class rg{constructor(t){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.measurementsCache=[],this.itemSizeCache=new Map,this.laneAssignments=new Map,this.pendingMeasuredCacheIndexes=[],this.prevLanes=void 0,this.lanesChangedFlag=!1,this.lanesSettling=!1,this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let n=null;const r=()=>n||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:n=new this.targetWindow.ResizeObserver(s=>{s.forEach(i=>{const o=()=>{this._measureElement(i.target,i)};this.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(o):o()})}));return{disconnect:()=>{var s;(s=r())==null||s.disconnect(),n=null},observe:s=>{var i;return(i=r())==null?void 0:i.observe(s,{box:"border-box"})},unobserve:s=>{var i;return(i=r())==null?void 0:i.unobserve(s)}}})(),this.range=null,this.setOptions=n=>{Object.entries(n).forEach(([r,s])=>{typeof s>"u"&&delete n[r]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:X0,rangeExtractor:J0,onChange:()=>{},measureElement:tg,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!1,useAnimationFrameWithResizeObserver:!1,...n}},this.notify=n=>{var r,s;(s=(r=this.options).onChange)==null||s.call(r,this,n)},this.maybeNotify=Mn(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),n=>{this.notify(n)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(n=>n()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var n;const r=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==r){if(this.cleanup(),!r){this.maybeNotify();return}this.scrollElement=r,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((n=this.scrollElement)==null?void 0:n.window)??null,this.elementsCache.forEach(s=>{this.observer.observe(s)}),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,s=>{this.scrollRect=s,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(s,i)=>{this.scrollAdjustments=0,this.scrollDirection=i?this.getScrollOffset()<s?"forward":"backward":null,this.scrollOffset=s,this.isScrolling=i,this.maybeNotify()}))}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(n,r)=>{const s=new Map,i=new Map;for(let o=r-1;o>=0;o--){const a=n[o];if(s.has(a.lane))continue;const c=i.get(a.lane);if(c==null||a.end>c.end?i.set(a.lane,a):a.end<c.end&&s.set(a.lane,!0),s.size===this.options.lanes)break}return i.size===this.options.lanes?Array.from(i.values()).sort((o,a)=>o.end===a.end?o.index-a.index:o.end-a.end)[0]:void 0},this.getMeasurementOptions=Mn(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled,this.options.lanes],(n,r,s,i,o,a)=>(this.prevLanes!==void 0&&this.prevLanes!==a&&(this.lanesChangedFlag=!0),this.prevLanes=a,this.pendingMeasuredCacheIndexes=[],{count:n,paddingStart:r,scrollMargin:s,getItemKey:i,enabled:o,lanes:a}),{key:!1,skipInitialOnChange:!0,onChange:()=>{this.notify(this.isScrolling)}}),this.getMeasurements=Mn(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:n,paddingStart:r,scrollMargin:s,getItemKey:i,enabled:o,lanes:a},c)=>{if(!o)return this.measurementsCache=[],this.itemSizeCache.clear(),this.laneAssignments.clear(),[];if(this.laneAssignments.size>n)for(const p of this.laneAssignments.keys())p>=n&&this.laneAssignments.delete(p);this.lanesChangedFlag&&(this.lanesChangedFlag=!1,this.lanesSettling=!0,this.measurementsCache=[],this.itemSizeCache.clear(),this.laneAssignments.clear(),this.pendingMeasuredCacheIndexes=[]),this.measurementsCache.length===0&&!this.lanesSettling&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(p=>{this.itemSizeCache.set(p.key,p.size)}));const u=this.lanesSettling?0:this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[],this.lanesSettling&&this.measurementsCache.length===n&&(this.lanesSettling=!1);const m=this.measurementsCache.slice(0,u),h=new Array(a).fill(void 0);for(let p=0;p<u;p++){const y=m[p];y&&(h[y.lane]=p)}for(let p=u;p<n;p++){const y=i(p),v=this.laneAssignments.get(p);let k,N;if(v!==void 0&&this.options.lanes>1){k=v;const w=h[k],S=w!==void 0?m[w]:void 0;N=S?S.end+this.options.gap:r+s}else{const w=this.options.lanes===1?m[p-1]:this.getFurthestMeasurement(m,p);N=w?w.end+this.options.gap:r+s,k=w?w.lane:p%this.options.lanes,this.options.lanes>1&&this.laneAssignments.set(p,k)}const f=c.get(y),d=typeof f=="number"?f:this.options.estimateSize(p),g=N+d;m[p]={index:p,start:N,size:d,end:g,key:y,lane:k},h[k]=p}return this.measurementsCache=m,m},{key:!1,debug:()=>this.options.debug}),this.calculateRange=Mn(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset(),this.options.lanes],(n,r,s,i)=>this.range=n.length>0&&r>0?sg({measurements:n,outerSize:r,scrollOffset:s,lanes:i}):null,{key:!1,debug:()=>this.options.debug}),this.getVirtualIndexes=Mn(()=>{let n=null,r=null;const s=this.calculateRange();return s&&(n=s.startIndex,r=s.endIndex),this.maybeNotify.updateDeps([this.isScrolling,n,r]),[this.options.rangeExtractor,this.options.overscan,this.options.count,n,r]},(n,r,s,i,o)=>i===null||o===null?[]:n({startIndex:i,endIndex:o,overscan:r,count:s}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=n=>{const r=this.options.indexAttribute,s=n.getAttribute(r);return s?parseInt(s,10):(console.warn(`Missing attribute name '${r}={index}' on measured element.`),-1)},this._measureElement=(n,r)=>{const s=this.indexFromElement(n),i=this.measurementsCache[s];if(!i)return;const o=i.key,a=this.elementsCache.get(o);a!==n&&(a&&this.observer.unobserve(a),this.observer.observe(n),this.elementsCache.set(o,n)),n.isConnected&&this.resizeItem(s,this.options.measureElement(n,r,this))},this.resizeItem=(n,r)=>{const s=this.measurementsCache[n];if(!s)return;const i=this.itemSizeCache.get(s.key)??s.size,o=r-i;o!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(s,o,this):s.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=o,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(s.index),this.itemSizeCache=new Map(this.itemSizeCache.set(s.key,r)),this.notify(!1))},this.measureElement=n=>{if(!n){this.elementsCache.forEach((r,s)=>{r.isConnected||(this.observer.unobserve(r),this.elementsCache.delete(s))});return}this._measureElement(n,void 0)},this.getVirtualItems=Mn(()=>[this.getVirtualIndexes(),this.getMeasurements()],(n,r)=>{const s=[];for(let i=0,o=n.length;i<o;i++){const a=n[i],c=r[a];s.push(c)}return s},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=n=>{const r=this.getMeasurements();if(r.length!==0)return fu(r[Sf(0,r.length-1,s=>fu(r[s]).start,n)])},this.getOffsetForAlignment=(n,r,s=0)=>{const i=this.getSize(),o=this.getScrollOffset();r==="auto"&&(r=n>=o+i?"end":"start"),r==="center"?n+=(s-i)/2:r==="end"&&(n-=i);const a=this.getTotalSize()+this.options.scrollMargin-i;return Math.max(Math.min(a,n),0)},this.getOffsetForIndex=(n,r="auto")=>{n=Math.max(0,Math.min(n,this.options.count-1));const s=this.measurementsCache[n];if(!s)return;const i=this.getSize(),o=this.getScrollOffset();if(r==="auto")if(s.end>=o+i-this.options.scrollPaddingEnd)r="end";else if(s.start<=o+this.options.scrollPaddingStart)r="start";else return[o,r];const a=r==="end"?s.end+this.options.scrollPaddingEnd:s.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(a,r,s.size),r]},this.isDynamicMode=()=>this.elementsCache.size>0,this.scrollToOffset=(n,{align:r="start",behavior:s}={})=>{s==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(n,r),{adjustments:void 0,behavior:s})},this.scrollToIndex=(n,{align:r="auto",behavior:s}={})=>{s==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),n=Math.max(0,Math.min(n,this.options.count-1));let i=0;const o=10,a=u=>{if(!this.targetWindow)return;const m=this.getOffsetForIndex(n,u);if(!m){console.warn("Failed to get offset for index:",n);return}const[h,p]=m;this._scrollToOffset(h,{adjustments:void 0,behavior:s}),this.targetWindow.requestAnimationFrame(()=>{const y=this.getScrollOffset(),v=this.getOffsetForIndex(n,p);if(!v){console.warn("Failed to get offset for index:",n);return}K0(v[0],y)||c(p)})},c=u=>{this.targetWindow&&(i++,i<o?this.targetWindow.requestAnimationFrame(()=>a(u)):console.warn(`Failed to scroll to index ${n} after ${o} attempts.`))};a(r)},this.scrollBy=(n,{behavior:r}={})=>{r==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+n,{adjustments:void 0,behavior:r})},this.getTotalSize=()=>{var n;const r=this.getMeasurements();let s;if(r.length===0)s=this.options.paddingStart;else if(this.options.lanes===1)s=((n=r[r.length-1])==null?void 0:n.end)??0;else{const i=Array(this.options.lanes).fill(null);let o=r.length-1;for(;o>=0&&i.some(a=>a===null);){const a=r[o];i[a.lane]===null&&(i[a.lane]=a.end),o--}s=Math.max(...i.filter(a=>a!==null))}return Math.max(s-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(n,{adjustments:r,behavior:s})=>{this.options.scrollToFn(n,{behavior:s,adjustments:r},this)},this.measure=()=>{this.itemSizeCache=new Map,this.laneAssignments=new Map,this.notify(!1)},this.setOptions(t)}}const Sf=(e,t,n,r)=>{for(;e<=t;){const s=(e+t)/2|0,i=n(s);if(i<r)e=s+1;else if(i>r)t=s-1;else return s}return e>0?e-1:0};function sg({measurements:e,outerSize:t,scrollOffset:n,lanes:r}){const s=e.length-1,i=c=>e[c].start;if(e.length<=r)return{startIndex:0,endIndex:s};let o=Sf(0,s,i,n),a=o;if(r===1)for(;a<s&&e[a].end<n+t;)a++;else if(r>1){const c=Array(r).fill(0);for(;a<s&&c.some(m=>m<n+t);){const m=e[a];c[m.lane]=m.end,a++}const u=Array(r).fill(n+t);for(;o>=0&&u.some(m=>m>=n);){const m=e[o];u[m.lane]=m.start,o--}o=Math.max(0,o-o%r),a=Math.min(s,a+(r-1-a%r))}return{startIndex:o,endIndex:a}}const gu=typeof document<"u"?x.useLayoutEffect:x.useEffect;function lg(e){const t=x.useReducer(()=>({}),{})[1],n={...e,onChange:(s,i)=>{var o;i?Re.flushSync(t):t(),(o=e.onChange)==null||o.call(e,s,i)}},[r]=x.useState(()=>new rg(n));return r.setOptions(n),gu(()=>r._didMount(),[]),gu(()=>r._willUpdate()),r}function Cf(e){return lg({observeElementRect:Z0,observeElementOffset:eg,scrollToFn:ng,...e})}const ig="webqq-messages",og=1,nr="messages",Ef=100;let Ps=null;function Tf(){return Ps?Promise.resolve(Ps):new Promise((e,t)=>{const n=indexedDB.open(ig,og);n.onerror=()=>t(n.error),n.onsuccess=()=>{Ps=n.result,e(Ps)},n.onupgradeneeded=r=>{const s=r.target.result;s.objectStoreNames.contains(nr)||s.createObjectStore(nr,{keyPath:"chatKey"})}})}async function os(e,t){try{const n=await Tf(),r=`${e}_${t}`;return new Promise(s=>{const a=n.transaction(nr,"readonly").objectStore(nr).get(r);a.onsuccess=()=>{const c=a.result;c&&c.messages?s(c.messages):s(null)},a.onerror=()=>s(null)})}catch{return null}}async function yn(e,t,n){try{const r=await Tf(),s=`${e}_${t}`,i=n.slice(-Ef);return new Promise((o,a)=>{const m=r.transaction(nr,"readwrite").objectStore(nr).put({chatKey:s,messages:i,timestamp:Date.now()});m.onsuccess=()=>o(),m.onerror=()=>a(m.error)})}catch(r){console.error("Failed to cache messages:",r)}}async function Mf(e,t,n){try{const r=await os(e,t);if(r){const s=[...r.slice(-(Ef-1)),n];await yn(e,t,s)}}catch(r){console.error("Failed to append message:",r)}}async function ag(e,t,n){try{const r=await os(e,t);if(r){const s=r.filter(i=>i.msgId!==n);await yn(e,t,s)}}catch(r){console.error("Failed to remove message:",r)}}async function cg(e,t,n,r,s){try{const i=await os(e,t);if(!i)return;const o=i.map(a=>{if(a.msgSeq!==n)return a;const c=a.emojiLikesList||[];if(s){const u=c.findIndex(m=>m.emojiId===r);if(u>=0){const m=[...c];return m[u]={...m[u],likesCnt:String(parseInt(m[u].likesCnt)+1)},{...a,emojiLikesList:m}}else return{...a,emojiLikesList:[...c,{emojiId:r,emojiType:parseInt(r)>999?"2":"1",likesCnt:"1",isClicked:!1}]}}else{const u=c.findIndex(m=>m.emojiId===r);if(u>=0){const m=[...c],h=parseInt(m[u].likesCnt)-1;return h<=0?m.splice(u,1):m[u]={...m[u],likesCnt:String(h)},{...a,emojiLikesList:m}}}return a});await yn(e,t,o)}catch(i){console.error("Failed to update emoji reaction:",i)}}async function ug(e,t,n,r){try{const s=await os(e,t);if(!s)return!1;let i=!1;const o=s.map(a=>a.msgId===n||r&&a.msgSeq===r?(i=!0,{...a,recallTime:String(Math.floor(Date.now()/1e3))}):a);return i&&await yn(e,t,o),i}catch(s){return console.error("Failed to mark message as recalled:",s),!1}}const dg=({level:e})=>{const t=e%4,n=Math.floor(e/4)%4,r=Math.floor(e/16)%4,s=Math.floor(e/64)%4,i=Math.floor(e/256),o=[];for(let a=0;a<i;a++)o.push(l.jsx("span",{className:"text-amber-400 text-xs font-bold",title:"",children:""},`penguin-${a}`));for(let a=0;a<s;a++)o.push(l.jsx(Dl,{size:14,className:"text-amber-500"},`crown-${a}`));for(let a=0;a<r;a++)o.push(l.jsx(Qm,{size:14,className:"text-orange-400"},`sun-${a}`));for(let a=0;a<n;a++)o.push(l.jsx($m,{size:14,className:"text-blue-400"},`moon-${a}`));for(let a=0;a<t;a++)o.push(l.jsx(Vm,{size:14,className:"text-yellow-400 fill-yellow-400"},`star-${a}`));return l.jsx("div",{className:"flex items-center gap-0.5 flex-wrap",children:o})},If=({profile:e,loading:t,position:n,onClose:r,isFriend:s,onFriendDeleted:i})=>{const o=x.useRef(null),[a,c]=x.useState({left:n.x,top:n.y}),[u,m]=x.useState(!1),[h,p]=x.useState(!1);if(x.useEffect(()=>{if(!o.current)return;const g=320,w=o.current.offsetHeight||400;let S=n.x,C=n.y;S+g>window.innerWidth-20&&(S=window.innerWidth-g-20),S<20&&(S=20),C+w>window.innerHeight-20&&(C=window.innerHeight-w-20),C<20&&(C=20),c({left:S,top:C})},[n,e,t]),!e&&!t)return null;const y=g=>g===1?"":g===2?"":"",v=g=>{if(!g)return"";const w=new Date(g*1e3),S=new Date,C=S.getFullYear()-w.getFullYear(),R=S.getMonth()-w.getMonth(),M=C+(R<0?-1:0);if(M<1){const q=C*12+R;return q>0?`${q}`:"1"}return`${M}`},k=g=>g==="owner"?"":g==="admin"?"":"",N=g=>g==="owner"?"bg-amber-500 text-white":g==="admin"?"bg-green-500 text-white":"",f=async()=>{if(e){p(!0);try{await bf(e.uid),Q("","success"),i==null||i(e.uid),r()}catch(g){Q(g.message||"","error")}finally{p(!1),m(!1)}}},d=g=>g?new Date(g*1e3).toLocaleString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}):"";return Re.createPortal(l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"fixed inset-0 z-40",onClick:r}),l.jsxs("div",{ref:o,className:"fixed z-50 border border-theme-divider rounded-xl shadow-xl overflow-hidden bg-popup backdrop-blur-sm",style:{left:a.left,top:a.top,width:320,maxHeight:"calc(100vh - 40px)"},onClick:g=>g.stopPropagation(),children:[t?l.jsx("div",{className:"flex items-center justify-center h-40",children:l.jsx(je,{size:24,className:"animate-spin text-pink-500"})}):e&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"bg-gradient-to-r from-pink-400 to-amber-300 p-4 relative",children:[s&&!e.groupRole&&l.jsx("button",{onClick:()=>m(!0),className:"absolute top-2 right-2 p-1.5 rounded-full bg-white/20 hover:bg-white/40 text-white transition-colors",title:"",children:l.jsx(Et,{size:16})}),l.jsxs("div",{className:"flex items-start gap-4",children:[l.jsx("img",{src:e.avatar,alt:e.nickname,className:"w-16 h-16 rounded-full border-3 border-white/80 object-cover flex-shrink-0"}),l.jsxs("div",{className:"flex-1 min-w-0 text-white pt-1",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx("span",{className:"font-bold text-lg truncate",children:e.nickname}),e.groupRole&&k(e.groupRole)&&l.jsx("span",{className:`text-xs px-1.5 py-0.5 rounded flex-shrink-0 ${N(e.groupRole)}`,children:k(e.groupRole)})]}),e.remark&&e.remark!==e.nickname&&l.jsxs("div",{className:"text-white/80 text-sm truncate mb-1",children:[": ",e.remark]}),l.jsx("div",{className:"text-white/90 text-sm",children:e.uin}),e.qid&&l.jsxs("div",{className:"text-white/70 text-xs mt-0.5",children:["QID: ",e.qid]})]})]})]}),l.jsxs("div",{className:"p-4 overflow-y-auto",style:{maxHeight:"calc(100vh - 40px - 120px)"},children:[e.signature&&l.jsx("div",{className:"text-theme-secondary text-sm mb-3 bg-theme-item/50 rounded-lg px-3 py-2 max-h-24 overflow-y-auto break-words",children:e.signature}),l.jsxs("div",{className:"grid grid-cols-2 gap-x-4 gap-y-2 text-sm",children:[y(e.sex)&&l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"text-theme-hint",children:""}),l.jsx("span",{className:"text-theme",children:y(e.sex)})]}),e.birthday&&e.birthday!=="0-0-0"&&l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"text-theme-hint",children:""}),l.jsx("span",{className:"text-theme",children:e.birthday})]}),v(e.regTime)&&l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"text-theme-hint",children:"Q"}),l.jsx("span",{className:"text-theme",children:v(e.regTime)})]}),e.level>0&&l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"text-theme-hint",children:""}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("span",{className:"text-theme",children:["Lv.",e.level]}),l.jsx(dg,{level:e.level})]})]})]}),(e.groupCard||e.groupTitle||e.groupLevel)&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"border-t border-theme-divider my-3"}),l.jsx("div",{className:"text-xs text-theme-hint mb-2",children:""}),l.jsxs("div",{className:"grid grid-cols-2 gap-x-4 gap-y-2 text-sm",children:[e.groupCard&&l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"text-theme-hint",children:""}),l.jsx("span",{className:"text-theme truncate",children:e.groupCard})]}),e.groupTitle&&l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"text-theme-hint",children:""}),l.jsx("span",{className:"text-pink-500",children:e.groupTitle})]}),e.groupLevel!==void 0&&e.groupLevel>0&&l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"text-theme-hint",children:""}),l.jsxs("span",{className:"text-theme",children:["Lv.",e.groupLevel]})]}),e.joinTime&&l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"text-theme-hint",children:""}),l.jsx("span",{className:"text-theme",children:d(e.joinTime)})]}),e.lastSpeakTime&&l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"text-theme-hint",children:""}),l.jsx("span",{className:"text-theme",children:d(e.lastSpeakTime)})]})]})]})]})]}),u&&e&&l.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center rounded-xl",children:l.jsxs("div",{className:"bg-popup m-4 p-4 rounded-lg shadow-lg max-w-[280px]",children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsx("span",{className:"font-medium text-theme",children:""}),l.jsx("button",{onClick:()=>m(!1),className:"text-theme-muted hover:text-theme",children:l.jsx(wt,{size:18})})]}),l.jsxs("p",{className:"text-sm text-theme-secondary mb-4",children:[" ",l.jsx("span",{className:"font-medium text-theme",children:e.remark||e.nickname})," "]}),l.jsxs("div",{className:"flex gap-2 justify-end",children:[l.jsx("button",{onClick:()=>m(!1),className:"px-3 py-1.5 text-sm rounded-lg bg-theme-item hover:bg-theme-hover text-theme transition-colors",disabled:h,children:""}),l.jsxs("button",{onClick:f,className:"px-3 py-1.5 text-sm rounded-lg bg-red-500 hover:bg-red-600 text-white transition-colors flex items-center gap-1",disabled:h,children:[h&&l.jsx(je,{size:14,className:"animate-spin"}),""]})]})]})})]})]}),document.body)},mg=({profile:e,loading:t,position:n,onClose:r,onQuitGroup:s})=>{const i=x.useRef(null),[o,a]=x.useState({left:n.x,top:n.y}),[c,u]=x.useState(!1),m=Ta(),h=(e==null?void 0:e.ownerUin)===m;if(x.useEffect(()=>{if(!i.current)return;const k=320,N=i.current.offsetHeight||300;let f=n.x,d=n.y;f+k>window.innerWidth-20&&(f=window.innerWidth-k-20),f<20&&(f=20),d+N>window.innerHeight-20&&(d=window.innerHeight-N-20),d<20&&(d=20),a({left:f,top:d})},[n,e,t]),!e&&!t)return null;const p=k=>k?new Date(k*1e3).toLocaleDateString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit"}):"",y=()=>{u(!0)},v=()=>{e&&s&&s(e.groupCode,h),u(!1),r()};return Re.createPortal(l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"fixed inset-0 z-40",onClick:r}),l.jsx("div",{ref:i,className:"fixed z-50 border border-theme-divider rounded-xl shadow-xl overflow-hidden bg-popup backdrop-blur-sm",style:{left:o.left,top:o.top,width:320,maxHeight:"calc(100vh - 40px)"},onClick:k=>k.stopPropagation(),children:t?l.jsx("div",{className:"flex items-center justify-center h-40",children:l.jsx(je,{size:24,className:"animate-spin text-pink-500"})}):e&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"bg-gradient-to-r from-blue-400 to-cyan-300 p-4 relative",children:[s&&l.jsx("button",{onClick:y,className:"absolute top-3 right-3 p-1.5 rounded-full bg-white/20 hover:bg-white/30 text-white transition-colors",title:h?"":"",children:l.jsx(Vx,{size:16})}),l.jsxs("div",{className:"flex items-start gap-4",children:[l.jsx("img",{src:e.avatar,alt:e.groupName,className:"w-16 h-16 rounded-lg border-3 border-white/80 object-cover flex-shrink-0"}),l.jsxs("div",{className:"flex-1 min-w-0 text-white pt-1 pr-6",children:[l.jsx("div",{className:"font-bold text-lg truncate mb-1",children:e.groupName}),e.remarkName&&e.remarkName!==e.groupName&&l.jsxs("div",{className:"text-white/80 text-sm truncate mb-1",children:[": ",e.remarkName]}),l.jsx("div",{className:"text-white/90 text-sm",children:e.groupCode})]})]})]}),l.jsxs("div",{className:"p-4 overflow-y-auto",style:{maxHeight:"calc(100vh - 40px - 140px)"},children:[l.jsxs("div",{className:"grid grid-cols-2 gap-x-4 gap-y-2 text-sm",children:[l.jsxs("span",{className:"text-theme-hint flex items-center gap-1",children:[l.jsx(Ol,{size:14}),""]}),l.jsxs("span",{className:"text-theme",children:[e.memberCount,e.maxMemberCount?` / ${e.maxMemberCount}`:""]}),e.ownerName&&l.jsxs(l.Fragment,{children:[l.jsxs("span",{className:"text-theme-hint flex items-center gap-1",children:[l.jsx(Dl,{size:14}),""]}),l.jsx("span",{className:"text-theme truncate",children:e.ownerName})]}),e.createTime&&l.jsxs(l.Fragment,{children:[l.jsxs("span",{className:"text-theme-hint flex items-center gap-1",children:[l.jsx(Fx,{size:14}),""]}),l.jsx("span",{className:"text-theme",children:p(e.createTime)})]})]}),e.description&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"border-t border-theme-divider my-3"}),l.jsx("div",{className:"text-xs text-theme-hint mb-2",children:""}),l.jsx("div",{className:"text-theme-secondary text-sm bg-theme-item/50 rounded-lg px-3 py-2 break-words whitespace-pre-wrap",style:{maxHeight:"120px",overflowY:"auto"},children:e.description})]}),e.announcement&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"border-t border-theme-divider my-3"}),l.jsxs("div",{className:"text-xs text-theme-hint mb-2 flex items-center gap-1",children:[l.jsx(ls,{size:12}),""]}),l.jsx("div",{className:"text-theme-secondary text-sm bg-theme-item/50 rounded-lg px-3 py-2 break-words whitespace-pre-wrap",style:{maxHeight:"120px",overflowY:"auto"},children:e.announcement})]})]})]})}),c&&e&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"fixed inset-0 z-[60] bg-black/50",onClick:()=>u(!1)}),l.jsxs("div",{className:"fixed z-[70] top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-theme-card border border-theme-divider rounded-xl shadow-xl p-6 min-w-[320px]",children:[l.jsx("h3",{className:"text-lg font-medium text-theme mb-4",children:h?"":""}),l.jsx("p",{className:"text-theme-secondary mb-6",children:h?l.jsxs(l.Fragment,{children:[" ",l.jsx("span",{className:"font-medium text-theme",children:e.groupName})," "]}):l.jsxs(l.Fragment,{children:[" ",l.jsx("span",{className:"font-medium text-theme",children:e.groupName})," "]})}),l.jsxs("div",{className:"flex justify-end gap-3",children:[l.jsx("button",{onClick:()=>u(!1),className:"px-4 py-2 text-sm text-theme-secondary hover:bg-theme-item rounded-lg transition-colors",children:""}),l.jsx("button",{onClick:v,className:"px-4 py-2 text-sm bg-red-500 hover:bg-red-600 text-white rounded-lg transition-colors",children:h?"":""})]})]})]})]}),document.body)},fg=({url:e,onClose:t})=>e?Re.createPortal(l.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80",onClick:t,children:[l.jsx("button",{onClick:t,className:"absolute top-4 right-4 p-2 text-white/80 hover:text-white bg-black/50 rounded-full",children:l.jsx(wt,{size:24})}),l.jsx("img",{src:e,alt:"",className:"max-w-[90vw] max-h-[90vh] object-contain",onClick:n=>n.stopPropagation()})]}),document.body):null,hg=({videoInfo:e,onClose:t})=>{const[n,r]=x.useState(null),[s,i]=x.useState(!1),[o,a]=x.useState(null);return x.useEffect(()=>{if(!e){r(null),a(null);return}i(!0),a(null),uf(e.chatType,e.peerUid,e.msgId,e.elementId).then(r).catch(c=>a(c.message||"")).finally(()=>i(!1))},[e]),e?Re.createPortal(l.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80",onClick:t,children:[l.jsx("button",{onClick:t,className:"absolute top-4 right-4 p-2 text-white/80 hover:text-white bg-black/50 rounded-full z-10",children:l.jsx(wt,{size:24})}),s&&l.jsxs("div",{className:"text-white flex items-center gap-2",children:[l.jsx(je,{size:24,className:"animate-spin"}),"..."]}),o&&l.jsx("div",{className:"text-red-400",children:o}),n&&!s&&l.jsx("video",{src:n,controls:!0,autoPlay:!0,className:"max-w-[90vw] max-h-[90vh]",onClick:c=>c.stopPropagation()})]}),document.body):null},zf=se.createContext(null),Pf=se.createContext(null),Lf=se.createContext(null),pg=e=>e?e.startsWith("blob:")?e:e.includes("qpic.cn")||e.includes("multimedia.nt.qq.com.cn")?`/api/webqq/image-proxy?url=${encodeURIComponent(e)}&token=${encodeURIComponent(is()||"")}`:e:"",Ei=x.memo(({element:e,message:t})=>{var y;const[n,r]=x.useState(!1),[s,i]=x.useState(!1),[o,a]=x.useState(!1),[c,u]=x.useState(!1),m=se.useContext(zf),h=se.useContext(Pf),p=se.useContext(Lf);if(e.textElement)return l.jsx("span",{className:"whitespace-pre-wrap break-all",style:{overflowWrap:"anywhere",wordBreak:"break-all"},children:e.textElement.content});if(e.picElement){const v=e.picElement;let k=v.originImageUrl?v.originImageUrl.startsWith("http")?v.originImageUrl:`https://gchat.qpic.cn${v.originImageUrl}`:"";const N=pg(k),f=200,d=300;let g=v.picWidth||200,w=v.picHeight||200;w>f&&(g=g*f/w,w=f),g>d&&(w=w*d/g,g=d);const S=C=>{t&&(C.preventDefault(),C.stopPropagation(),p==null||p.showMenu(C,t,e.elementId))};return l.jsxs("div",{className:"relative rounded-lg overflow-hidden bg-theme-item cursor-pointer",style:{width:g,height:w},onClick:()=>m==null?void 0:m.showPreview(N),onContextMenu:S,children:[!n&&!s&&l.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-theme-hint",children:l.jsx(je,{size:24,className:"animate-spin"})}),s&&l.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-theme-hint text-xs",children:""}),l.jsx("img",{src:N,alt:"",loading:"lazy",className:`w-full h-full object-cover transition-opacity ${n?"opacity-100":"opacity-0"}`,onLoad:()=>r(!0),onError:()=>i(!0)})]})}if(e.faceElement){const v=e.faceElement.faceIndex,k=e.faceElement.faceText;return l.jsx("img",{src:`/face/${v}.png`,alt:k||`[${v}]`,title:k||`${v}`,className:"inline-block align-text-bottom",style:{width:24,height:24},onError:N=>{var g;const f=N.target;f.style.display="none";const d=document.createElement("span");d.textContent=k||`[${v}]`,(g=f.parentNode)==null||g.insertBefore(d,f)}})}if(e.fileElement)return l.jsxs("span",{children:["[: ",e.fileElement.fileName,"]"]});if(e.pttElement)return l.jsx(yg,{element:e,message:t});if(e.videoElement){const v=e.videoElement,k=200,N=300;let f=v.thumbWidth||200,d=v.thumbHeight||150;d>k&&(f=f*k/d,d=k),f>N&&(d=d*N/f,f=N);let g="";if(v.thumbPath){let q;v.thumbPath instanceof Map?q=v.thumbPath.values().next().value:typeof v.thumbPath=="object"&&(q=Object.values(v.thumbPath)[0]),q&&(g=`/api/webqq/file-proxy?path=${encodeURIComponent(q)}&token=${encodeURIComponent(is()||"")}`)}const w=v.fileTime||0,S=Math.floor(w/60),C=w%60,R=`${S}:${C.toString().padStart(2,"0")}`,M=()=>{t&&e.elementId&&(h==null||h.showPreview(t.chatType,t.peerUid,t.msgId,e.elementId))};return l.jsxs("div",{className:"relative rounded-lg overflow-hidden bg-theme-item cursor-pointer group",style:{width:f,height:d},onClick:M,children:[l.jsx("div",{className:"absolute inset-0 bg-gray-200 dark:bg-gray-700"}),g?l.jsxs(l.Fragment,{children:[!o&&!c&&l.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-theme-hint",children:l.jsx(je,{size:24,className:"animate-spin"})}),l.jsx("img",{src:g,alt:"",loading:"lazy",className:`absolute inset-0 w-full h-full object-cover transition-opacity ${o?"opacity-100":"opacity-0"}`,onLoad:()=>a(!0),onError:()=>u(!0)})]}):l.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-theme-hint text-xs",children:""}),l.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:l.jsx("div",{className:"w-12 h-12 rounded-full bg-black/50 flex items-center justify-center group-hover:bg-black/70 transition-colors",children:l.jsx("div",{className:"w-0 h-0 border-t-8 border-t-transparent border-l-12 border-l-white border-b-8 border-b-transparent ml-1",style:{borderLeftWidth:"14px"}})})}),l.jsx("div",{className:"absolute bottom-1 right-1 px-1.5 py-0.5 bg-black/60 rounded text-white text-xs",children:R})]})}if(e.grayTipElement){const v=e.grayTipElement;if((y=v.jsonGrayTipElement)!=null&&y.jsonStr)try{const k=JSON.parse(v.jsonGrayTipElement.jsonStr);if(k.items){const N=k.items.map(f=>f.txt||"").join("");return l.jsx("span",{className:"text-theme-hint text-xs",children:N||"[]"})}}catch{}return l.jsx("span",{className:"text-theme-hint text-xs",children:"[]"})}if(e.arkElement)return l.jsx("span",{children:"[]"});if(e.marketFaceElement){const{emojiId:v,faceName:k,supportSize:N}=e.marketFaceElement,{width:f=200,height:d=200}=(N==null?void 0:N[0])??{},w=`https://gxh.vip.qq.com/club/item/parcel/item/${v.substring(0,2)}/${v}/raw${Math.min(f,300)}.gif`;return l.jsx("img",{src:w,alt:k||"[]",title:k,className:"inline-block align-text-bottom rounded",style:{maxWidth:Math.min(f,200),maxHeight:Math.min(d,200)},onError:S=>{var M;const C=S.target;C.style.display="none";const R=document.createElement("span");R.textContent=`[${k||""}]`,(M=C.parentNode)==null||M.insertBefore(R,C)}})}return null}),xg=e=>!!(e.textElement||e.picElement||e.fileElement||e.pttElement||e.videoElement||e.faceElement||e.grayTipElement||e.arkElement||e.marketFaceElement),gg=e=>!e.elements||e.elements.length===0?!1:e.elements.every(t=>t.grayTipElement||t.replyElement),yg=({element:e,message:t})=>{const[n,r]=x.useState(null),[s,i]=x.useState(!1),[o,a]=x.useState(!1),[c,u]=x.useState(!1),[m,h]=x.useState(!1),p=x.useRef(null),y=e.pttElement,v=y.duration||0,k=Math.floor(v/60),N=v%60,f=k>0?`${k}:${N.toString().padStart(2,"0")}`:`${N}"`,d=y.text,g=80,S=Math.min(200,Math.max(g,g+v*3)),C=async()=>{if(!(!t||!y.fileUuid||m)){if(c&&p.current){p.current.pause(),u(!1);return}if(p.current&&p.current.readyState>=2){p.current.play(),u(!0);return}h(!0);try{const M=t.chatType===2;console.log("pttElement:",y);const q=gf(y.fileUuid,M,y.filePath);console.log("URL:",q);const P=new Audio;p.current=P,P.onended=()=>u(!1),P.onerror=G=>{fetch(q).then(E=>E.text()).then(E=>{console.error(":",E.substring(0,200))}).catch(()=>{}),console.error(":",G,P.error,"URL:",q),u(!1),h(!1)},P.onloadeddata=async()=>{h(!1);try{await P.play(),u(!0)}catch(G){console.error(":",G)}},P.src=q}catch(M){console.error("URL:",M),h(!1)}}},R=async()=>{if(!(!t||s||n!==null)){i(!0),a(!1);try{const M=await ff(t.msgId,t.chatType,t.peerUid,e);r(M||"()")}catch(M){console.error(":",M),a(!0),r("")}finally{i(!1)}}};return l.jsxs("div",{className:"flex flex-col gap-1",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-green-100 dark:bg-green-900/40 rounded-full cursor-pointer hover:bg-green-200 dark:hover:bg-green-900/60 transition-colors",style:{width:S},onClick:C,title:"",children:[m?l.jsx(je,{size:16,className:"text-green-600 dark:text-green-400 flex-shrink-0 animate-spin"}):c?l.jsx(No,{size:16,className:"text-green-600 dark:text-green-400 flex-shrink-0"}):l.jsx(bo,{size:16,className:"text-green-600 dark:text-green-400 flex-shrink-0"}),l.jsx("div",{className:"flex-1 flex items-center gap-0.5",children:[1,2,3,4,5].map(M=>l.jsx("div",{className:`w-0.5 bg-green-400 dark:bg-green-500 rounded-full transition-all ${c?"animate-pulse":""}`,style:{height:`${8+Math.random()*8}px`}},M))}),l.jsx("span",{className:"text-xs text-green-700 dark:text-green-300 flex-shrink-0",children:f})]}),!d&&n===null&&l.jsx("button",{onClick:R,disabled:s,className:"w-6 h-6 flex items-center justify-center rounded-full bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 text-gray-500 dark:text-gray-300 hover:text-gray-700 dark:hover:text-white text-xs font-medium transition-colors disabled:opacity-50",title:"",children:s?l.jsx(je,{size:12,className:"animate-spin"}):""})]}),(d||n)&&l.jsx("div",{className:`text-sm px-3 py-1.5 bg-gray-100 dark:bg-gray-800 rounded-lg max-w-[250px] ${o?"text-red-500":"text-theme-secondary"}`,children:d||n})]})},Rf=se.createContext(null),_f=se.createContext(null),Af=se.createContext(null),Ff=se.createContext(null),Uf=se.createContext(null),vg=e=>{var t,n;for(const r of e.elements)if((n=(t=r.grayTipElement)==null?void 0:t.jsonGrayTipElement)!=null&&n.jsonStr)try{const s=JSON.parse(r.grayTipElement.jsonGrayTipElement.jsonStr);if(s.items){const i=s.items.some(o=>o.type==="qq"&&o.uid);return{items:s.items,hasUid:i}}}catch{}return null},an=new Map,wg=x.memo(({message:e,groupCode:t})=>{const n=an.get(e.msgId),[r,s]=x.useState(n??"[]"),i=ir();return x.useEffect(()=>{var m,h;if(an.has(e.msgId)){s(an.get(e.msgId));return}const o=vg(e);if(!o){for(const p of e.elements)if((h=(m=p.grayTipElement)==null?void 0:m.xmlElement)!=null&&h.content){const y=p.grayTipElement.xmlElement.content.replace(/<[^>]+>/g,"");an.set(e.msgId,y),s(y);return}an.set(e.msgId,"[]"),s("[]");return}const{items:a,hasUid:c}=o;if(!c){const y=a.map(v=>v.txt||"").join("")||"[]";an.set(e.msgId,y),s(y);return}(async()=>{const p=[];let y=0;for(const k of a)if(k.type==="qq"&&k.uid)if(k.uid===i)p.push(l.jsx("span",{className:"text-blue-500",children:""},y++));else{const N=await mf(k.uid,t);p.push(l.jsx("span",{className:"text-blue-500",children:N},y++))}else k.type==="nor"&&k.txt&&p.push(l.jsx("span",{children:k.txt},y++));const v=p.length>0?p:"[]";an.set(e.msgId,v),s(v)})()},[e.msgId,i,t]),l.jsx("div",{className:"flex justify-center py-2",children:l.jsx("span",{className:"text-xs text-theme-hint bg-theme-item/50 px-3 py-1 rounded-full",children:r})})}),kg=x.memo(({message:e,allMessages:t,isHighlighted:n})=>{var P,G;if(gg(e)){const E=e.chatType===2?e.peerUin:void 0;return l.jsx(wg,{message:e,groupCode:E})}const r=ir(),s=r?e.senderUid===r:!1,i=se.useContext(Rf),o=se.useContext(_f),a=se.useContext(Af),c=se.useContext(Ff),u=se.useContext(Uf);let m=e.sendMemberName||e.sendNickName||e.senderUin;if(e.chatType===1&&!s&&u){const E=u.getFriend(e.senderUin);E&&(m=E.remark||E.nickname||m)}const h=`https://q1.qlogo.cn/g?b=qq&nk=${e.senderUin}&s=640`,p=parseInt(e.msgTime)*1e3;let y,v,k;if(e.chatType===2){const E=e.msgAttrs;if(E){const b=(L=>{if(E instanceof Map)return E.get(L);if(typeof E=="object")return E[L.toString()]})(2);b!=null&&b.groupHonor&&(y=b.groupHonor.level,v=b.groupHonor.uniqueTitle||void 0)}if(c){const j=c.getMembers(e.peerUin),b=j==null?void 0:j.find(L=>L.uid===e.senderUid||L.uin===e.senderUin);b&&(k=b.role,y===void 0&&b.level&&(y=b.level),!v&&b.specialTitle&&(v=b.specialTitle))}}if(!e.elements||!Array.isArray(e.elements))return null;const N=e.recallTime&&e.recallTime!=="0",f=(P=e.elements.find(E=>E.replyElement))==null?void 0:P.replyElement,d=e.elements.filter(E=>!E.replyElement);if(!(d.some(xg)||f))return null;const w=d.length===1&&d[0].pttElement&&!f,S=f?t.find(E=>E.msgId===f.replayMsgId||E.msgSeq===f.replayMsgSeq):null,C=E=>{E.preventDefault(),E.stopPropagation(),i==null||i.showMenu(E,e)},R=E=>{E.preventDefault(),E.stopPropagation(),o==null||o.showMenu(E,{senderUid:e.senderUid,senderUin:e.senderUin,senderName:m,chatType:e.chatType,groupCode:e.chatType===2?e.peerUin:void 0})},M=E=>{("ontouchstart"in window||navigator.maxTouchPoints>0)&&(E.preventDefault(),E.stopPropagation(),o==null||o.showMenu(E,{senderUid:e.senderUid,senderUin:e.senderUin,senderName:m,chatType:e.chatType,groupCode:e.chatType===2?e.peerUin:void 0}))},q=()=>{f&&(a==null||a.scrollToMessage(f.replayMsgId,f.replayMsgSeq))};return l.jsxs("div",{className:`flex gap-2 w-full ${s?"flex-row-reverse":""} ${n?"animate-pulse bg-pink-100 dark:bg-pink-900/30 rounded-lg -mx-2 px-2":""}`,children:[l.jsx("img",{src:h,alt:m,loading:"lazy",className:"w-8 h-8 rounded-full object-cover flex-shrink-0 cursor-pointer hover:opacity-80 transition-opacity",onClick:M,onContextMenu:R}),l.jsxs("div",{className:`flex flex-col ${s?"items-end":"items-start"} max-w-[calc(100%-48px)] md:max-w-[70%] min-w-0 overflow-hidden`,children:[l.jsxs("div",{className:`flex items-center gap-1.5 mb-1 ${s?"flex-row-reverse":""}`,children:[l.jsx("span",{className:"text-xs text-theme-hint",children:m}),y!==void 0&&y>0&&l.jsxs("span",{className:"text-xs px-1 py-0.5 bg-gray-200 dark:bg-gray-700 text-gray-600 dark:text-gray-300 rounded",children:["Lv.",y]}),k==="owner"&&l.jsx("span",{className:"text-xs px-1.5 py-0.5 bg-amber-100 dark:bg-amber-900/50 text-amber-600 dark:text-amber-300 rounded",children:v||""}),k==="admin"&&l.jsx("span",{className:"text-xs px-1.5 py-0.5 bg-blue-100 dark:bg-blue-900/50 text-blue-600 dark:text-blue-300 rounded",children:v||""}),k==="member"&&v&&l.jsx("span",{className:"text-xs px-1.5 py-0.5 bg-pink-100 dark:bg-pink-900/50 text-pink-600 dark:text-pink-300 rounded",children:v})]}),w?l.jsxs("div",{onContextMenu:C,className:N?"opacity-50":"",children:[d.map((E,j)=>l.jsx(Ei,{element:E,message:e},j)),N&&l.jsx("div",{className:"text-xs text-theme-muted italic mt-1",children:""})]}):l.jsxs("div",{className:"relative",children:[l.jsxs("div",{className:`rounded-2xl px-4 py-2 min-w-[80px] max-w-full break-words overflow-hidden bg-theme-item text-theme shadow-sm ${s?"rounded-tr-sm":"rounded-tl-sm"} ${N?"opacity-50":""}`,onContextMenu:C,children:[f&&l.jsx("div",{className:"text-xs mb-2 pb-2 border-b border-theme-divider cursor-pointer hover:opacity-80 transition-opacity",onClick:q,children:l.jsx("div",{className:"bg-theme-input rounded px-2 py-1",children:S?l.jsxs("div",{className:"space-y-1",children:[l.jsxs("div",{className:"font-medium text-theme-secondary",children:[S.sendMemberName||S.sendNickName||S.senderUin,":"]}),l.jsx("div",{className:"text-theme-muted",children:(G=S.elements)==null?void 0:G.filter(E=>!E.replyElement).map((E,j)=>l.jsx(Ei,{element:E},j))})]}):l.jsx("span",{className:"text-theme-muted",children:f.sourceMsgText||"[]"})})}),d.map((E,j)=>l.jsx(Ei,{element:E,message:e},j))]}),N&&l.jsx("div",{className:"text-xs text-theme-muted italic mt-1",children:""})]}),e.emojiLikesList&&e.emojiLikesList.length>0&&l.jsx("div",{className:`flex flex-wrap gap-1 mt-1 ${s?"justify-end":"justify-start"}`,children:e.emojiLikesList.map((E,j)=>l.jsxs("div",{className:`flex items-center gap-0.5 px-1.5 py-0.5 rounded-full text-xs ${E.isClicked?"bg-pink-100 dark:bg-pink-900/40 border border-pink-300 dark:border-pink-700":"bg-theme-item border border-theme-divider"}`,title:` ${E.emojiId}`,children:[l.jsx("img",{src:`/face/${E.emojiId}.png`,alt:`${E.emojiId}`,className:"w-4 h-4",onError:b=>{E.emojiType==="2"&&(b.target.style.display="none")}}),l.jsx("span",{className:"text-theme-secondary",children:E.likesCnt})]},`${E.emojiId}-${j}`))}),l.jsx("span",{className:"text-xs text-theme-hint mt-1",children:Wl(p)})]})]})}),jg=x.memo(({message:e,onRetry:t})=>{const n=Ta(),r=n?`https://q1.qlogo.cn/g?b=qq&nk=${n}&s=640`:"";return l.jsxs("div",{className:"flex gap-2 flex-row-reverse w-full",children:[r&&l.jsx("img",{src:r,alt:"",loading:"lazy",className:"w-8 h-8 rounded-full object-cover flex-shrink-0"}),l.jsxs("div",{className:"flex flex-col items-end max-w-[calc(100%-48px)] md:max-w-[70%] min-w-0 overflow-hidden",children:[l.jsx("span",{className:"text-xs text-theme-hint mb-1",children:""}),l.jsxs("div",{className:"flex items-end gap-1",children:[e.status==="failed"&&l.jsx("button",{onClick:t,className:"p-1 text-red-500 hover:bg-red-50 dark:hover:bg-red-900/30 rounded",title:"",children:l.jsx(qm,{size:14})}),l.jsx("div",{className:"rounded-2xl px-4 py-2 bg-theme-item text-theme rounded-tr-sm min-w-[80px] max-w-full break-words overflow-hidden shadow-sm",children:e.items.map((s,i)=>s.type==="text"&&s.content?l.jsx("span",{className:"whitespace-pre-wrap break-words",children:s.content},i):s.type==="face"&&s.faceId!==void 0?l.jsx("img",{src:`/face/${s.faceId}.png`,alt:`[${s.faceId}]`,className:"inline-block align-text-bottom",style:{width:24,height:24}},i):s.type==="image"&&s.imageUrl?l.jsx("img",{src:s.imageUrl,alt:"",loading:"lazy",className:"max-w-full rounded-lg",style:{maxHeight:"200px"}},i):s.type==="at"&&s.atName?l.jsxs("span",{className:"text-blue-500",children:["@",s.atName]},i):null)}),e.status==="sending"&&l.jsx(je,{size:14,className:"animate-spin text-theme-hint"}),e.status==="failed"&&l.jsx(Pm,{size:14,className:"text-red-500"})]}),l.jsx("span",{className:"text-xs text-theme-hint mt-1",children:Wl(e.timestamp)})]})]})}),Ng=({name:e,onMute:t,onClose:n})=>{const[r,s]=x.useState(0),[i,o]=x.useState(0),[a,c]=x.useState(0),[u,m]=x.useState(0),h=()=>{const y=r+i*60+a*3600+u*86400;y>0&&t(y)},p=r+i*60+a*3600+u*86400;return Re.createPortal(l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"fixed inset-0 z-50 bg-black/30",onClick:n}),l.jsxs("div",{className:"fixed z-50 top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-theme-card backdrop-blur-xl border border-theme-divider rounded-xl shadow-xl p-6 min-w-[340px]",children:[l.jsxs("h3",{className:"text-lg font-medium text-theme mb-4",children:[" ",e]}),l.jsxs("div",{className:"mb-4",children:[l.jsx("p",{className:"text-sm text-theme-secondary mb-3",children:""}),l.jsxs("div",{className:"grid grid-cols-4 gap-2",children:[l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx("input",{type:"number",min:0,max:59,value:r,onChange:y=>s(Math.min(59,Math.max(0,parseInt(y.target.value)||0))),className:"w-full px-2 py-2 text-center bg-theme-input border border-theme-input rounded-lg text-theme focus:outline-none focus:ring-2 focus:ring-pink-500/20"}),l.jsx("span",{className:"text-xs text-theme-secondary mt-1",children:""})]}),l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx("input",{type:"number",min:0,max:59,value:i,onChange:y=>o(Math.min(59,Math.max(0,parseInt(y.target.value)||0))),className:"w-full px-2 py-2 text-center bg-theme-input border border-theme-input rounded-lg text-theme focus:outline-none focus:ring-2 focus:ring-pink-500/20"}),l.jsx("span",{className:"text-xs text-theme-secondary mt-1",children:""})]}),l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx("input",{type:"number",min:0,max:23,value:a,onChange:y=>c(Math.min(23,Math.max(0,parseInt(y.target.value)||0))),className:"w-full px-2 py-2 text-center bg-theme-input border border-theme-input rounded-lg text-theme focus:outline-none focus:ring-2 focus:ring-pink-500/20"}),l.jsx("span",{className:"text-xs text-theme-secondary mt-1",children:""})]}),l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx("input",{type:"number",min:0,max:29,value:u,onChange:y=>m(Math.min(29,Math.max(0,parseInt(y.target.value)||0))),className:"w-full px-2 py-2 text-center bg-theme-input border border-theme-input rounded-lg text-theme focus:outline-none focus:ring-2 focus:ring-pink-500/20"}),l.jsx("span",{className:"text-xs text-theme-secondary mt-1",children:""})]})]}),l.jsx("p",{className:"text-xs text-theme-secondary mt-2 text-center",children:"29235959"})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("button",{onClick:()=>t(0),className:"px-4 py-2 text-sm text-green-500 hover:bg-green-50 dark:hover:bg-green-900/30 rounded-lg transition-colors",children:""}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:n,className:"px-4 py-2 text-sm text-theme-secondary hover:bg-theme-item rounded-lg transition-colors",children:""}),l.jsx("button",{onClick:h,disabled:p===0,className:"px-4 py-2 text-sm bg-orange-500 text-white hover:bg-orange-600 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:""})]})]})]})]}),document.body)},bg=({name:e,groupName:t,onConfirm:n,onClose:r})=>Re.createPortal(l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"fixed inset-0 z-50 bg-black/50",onClick:r}),l.jsxs("div",{className:"fixed z-50 top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-theme-card border border-theme-divider rounded-xl shadow-xl p-6 min-w-[320px]",children:[l.jsx("h3",{className:"text-lg font-medium text-theme mb-4",children:""}),l.jsxs("p",{className:"text-theme-secondary mb-6",children:[" ",l.jsx("span",{className:"font-medium text-theme",children:e}),"  ",l.jsx("span",{className:"font-medium text-theme",children:t})," "]}),l.jsxs("div",{className:"flex justify-end gap-3",children:[l.jsx("button",{onClick:r,className:"px-4 py-2 text-sm text-theme-secondary hover:bg-theme-item rounded-lg transition-colors",children:""}),l.jsx("button",{onClick:n,className:"px-4 py-2 text-sm bg-red-500 text-white hover:bg-red-600 rounded-lg transition-colors",children:""})]})]})]}),document.body),Sg=({name:e,onConfirm:t,onClose:n})=>{const[r,s]=x.useState("");return Re.createPortal(l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"fixed inset-0 z-50 bg-black/30",onClick:n}),l.jsxs("div",{className:"fixed z-50 top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-theme-card backdrop-blur-xl border border-theme-divider rounded-xl shadow-xl p-6 min-w-[320px]",children:[l.jsx("h3",{className:"text-lg font-medium text-theme mb-4",children:""}),l.jsxs("p",{className:"text-sm text-theme-secondary mb-3",children:[" ",e," "]}),l.jsx("input",{type:"text",maxLength:12,value:r,onChange:i=>s(i.target.value),placeholder:"",className:"w-full px-3 py-2 bg-theme-input border border-theme-input rounded-lg text-theme focus:outline-none focus:ring-2 focus:ring-pink-500/20 placeholder:text-theme-hint",autoFocus:!0,onKeyDown:i=>{i.key==="Enter"&&t(r.trim())}}),l.jsx("p",{className:"text-xs text-theme-secondary mt-2",children:"612"}),l.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[l.jsx("button",{onClick:n,className:"px-4 py-2 text-sm text-theme-secondary hover:bg-theme-item rounded-lg transition-colors",children:""}),l.jsx("button",{onClick:()=>t(r.trim()),className:"px-4 py-2 text-sm bg-pink-500 text-white hover:bg-pink-600 rounded-lg transition-colors",children:""})]})]})]}),document.body)};function $f(e,t,n){const[r,s]=x.useState({left:-9999,top:-9999,ready:!1});return x.useEffect(()=>{s({left:-9999,top:-9999,ready:!1});const i=requestAnimationFrame(()=>{if(!n.current){s({left:e,top:t,ready:!0});return}const o=n.current.getBoundingClientRect(),a=10;let c=e,u=t;e+o.width>window.innerWidth-a&&(c=e-o.width),c<a&&(c=a),t+o.height>window.innerHeight-a&&(u=t-o.height),u<a&&(u=a),s({left:c,top:u,ready:!0})});return()=>cancelAnimationFrame(i)},[e,t]),r}const Cg=({contextMenu:e,session:t,getCachedMembers:n,onClose:r,onReply:s,onEmojiReaction:i,onRecall:o})=>{const a=e.message,c=ir(),u=c&&a.senderUid===c,m=a.chatType===2,h=m&&t?n(t.peerId):null,p=h&&c?h.find(M=>M.uid===c):null,y=p==null?void 0:p.role,v=y==="owner",k=y==="admin"||y==="owner",N=h?h.find(M=>M.uid===a.senderUid):null,f=N==null?void 0:N.role,g=u||m&&(v||k&&!(f==="admin"||f==="owner")),w=!!e.elementId,S=x.useRef(null),C=$f(e.x,e.y,S),R=async()=>{if(e.elementId){r();try{const M=await le("ntFileApi","downloadMedia",[a.msgId,a.chatType,a.peerUid,e.elementId,"",""]);if(!M){Q("","error");return}const q=await le("ntMsgApi","addFavEmoji",[M]);q.result===0?Q(q.isExist?"":"","success"):Q(q.errMsg||"","error")}catch(M){Q(M.message||"","error")}}};return Re.createPortal(l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"fixed inset-0 z-40",onClick:r,onContextMenu:M=>{M.preventDefault(),r()}}),l.jsxs("div",{ref:S,className:"fixed z-50 bg-popup backdrop-blur-sm border border-theme-divider rounded-lg shadow-lg py-1 min-w-[100px]",style:{left:C.left,top:C.top,visibility:C.ready?"visible":"hidden"},onContextMenu:M=>M.preventDefault(),children:[l.jsxs("button",{onClick:()=>{s(a),r()},className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-theme hover:bg-theme-item-hover transition-colors",children:[l.jsx(Wm,{size:14})," "]}),t.chatType===2&&l.jsxs("button",{onClick:()=>{i(a,e.x,e.y),r()},className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-theme hover:bg-theme-item-hover transition-colors",children:[l.jsx(Bm,{size:14})," "]}),w&&l.jsxs("button",{onClick:R,className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-theme hover:bg-theme-item-hover transition-colors",children:[l.jsx(Vm,{size:14})," "]}),g&&l.jsxs("button",{onClick:async()=>{r();try{await df(a.chatType,a.peerUid,a.msgId),o(a.msgId),Q("","success")}catch(M){Q(M.message||"","error")}},className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-red-500 hover:bg-theme-item-hover transition-colors",children:[l.jsx(Et,{size:14})," "]})]})]}),document.body)},Eg=({avatarContextMenu:e,getCachedMembers:t,onClose:n,onInsertAt:r,onShowProfile:s,onSetTitle:i,onMute:o,onKick:a,onAdminChanged:c,groupName:u})=>{const m=ir(),h=e.groupCode?t(e.groupCode):null,p=h&&m?h.find(P=>P.uid===m):null,y=p==null?void 0:p.role,v=y==="owner",k=y==="admin",N=h?h.find(P=>P.uid===e.senderUid):null,f=N==null?void 0:N.role,d=f==="admin",g=v||k&&f==="member",w=v||k&&f==="member",S=e.senderUid===m,C=v&&!S,R=x.useRef(null),M=$f(e.x,e.y,R),q=async()=>{const P=e;n();try{const G=d?2:3;await le("ntGroupApi","setMemberRole",[P.groupCode,P.senderUid,G]),Q(d?"":"","success"),c==null||c()}catch(G){Q(G.message||"","error")}};return Re.createPortal(l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"fixed inset-0 z-40",onClick:n,onContextMenu:P=>{P.preventDefault(),n()}}),l.jsxs("div",{ref:R,className:"fixed z-50 bg-popup backdrop-blur-sm border border-theme-divider rounded-lg shadow-lg py-1 min-w-[120px]",style:{left:M.left,top:M.top,visibility:M.ready?"visible":"hidden"},onContextMenu:P=>P.preventDefault(),children:[e.chatType===2&&l.jsxs("button",{onClick:()=>{r(e.senderUid,e.senderUin,e.senderName),n()},className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-theme hover:bg-theme-item-hover transition-colors",children:[l.jsx(Lm,{size:14})," ta"]}),l.jsxs("button",{onClick:async()=>{const P=e;n();try{P.chatType===2&&P.groupCode?await jl(P.chatType,parseInt(P.senderUin),parseInt(P.groupCode)):await jl(P.chatType,parseInt(P.senderUin)),Q("","success")}catch(G){Q(G.message||"","error")}},className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-theme hover:bg-theme-item-hover transition-colors",children:[l.jsx(_m,{size:14})," "]}),l.jsxs("button",{onClick:()=>{s(e.senderUid,e.senderUin,e.x,e.y,e.groupCode),n()},className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-theme hover:bg-theme-item-hover transition-colors",children:[l.jsx(Gm,{size:14})," "]}),e.chatType===2&&e.groupCode&&v&&l.jsxs("button",{onClick:()=>{i(e.senderUid,e.senderName,e.groupCode),n()},className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-theme hover:bg-theme-item-hover transition-colors",children:[l.jsx(_x,{size:14})," "]}),e.chatType===2&&e.groupCode&&C&&l.jsxs("button",{onClick:q,className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-theme hover:bg-theme-item-hover transition-colors",children:[d?l.jsx(Jx,{size:14}):l.jsx(ls,{size:14}),d?"":""]}),e.chatType===2&&e.groupCode&&!S&&g&&l.jsxs("button",{onClick:()=>{o(e.senderUid,e.senderName,e.groupCode),n()},className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-orange-500 hover:bg-theme-item-hover transition-colors",children:[l.jsx(r0,{size:14})," "]}),e.chatType===2&&e.groupCode&&!S&&w&&l.jsxs("button",{onClick:()=>{a(e.senderUid,e.senderName,e.groupCode,u||e.groupCode),n()},className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-red-500 hover:bg-theme-item-hover transition-colors",children:[l.jsx(t0,{size:14})," "]})]})]}),document.body)},Df=x.forwardRef(({placeholder:e="...",disabled:t=!1,onEnter:n,onPaste:r,onChange:s,onMentionChange:i},o)=>{const a=x.useRef(null),c=x.useRef(!1),u=x.useRef(null),[m,h]=x.useState(!1),p=x.useCallback(()=>{const E=a.current;if(!E)return[];const j=[],b=E.childNodes;for(let L=0;L<b.length;L++){const A=b[L];if(A.nodeType===Node.TEXT_NODE){const T=(A.textContent||"").replace(/\u200B/g,"");T&&j.push({type:"text",content:T})}else if(A.nodeType===Node.ELEMENT_NODE){const $=A;if($.dataset.type==="face")j.push({type:"face",faceId:parseInt($.dataset.faceId||"0")});else if($.dataset.type==="image")j.push({type:"image",imageUrl:$.dataset.imageUrl,imageFile:$.__file});else if($.dataset.type==="at")j.push({type:"at",atUid:$.dataset.atUid,atUin:$.dataset.atUin,atName:$.dataset.atName});else if($.tagName==="BR")j.push({type:"text",content:`
`});else{const U=($.textContent||"").replace(/\u200B/g,"");U&&j.push({type:"text",content:U})}}}return j},[]),y=x.useCallback(()=>{var j;const E=p();return E.length===0||E.length===1&&E[0].type==="text"&&!((j=E[0].content)!=null&&j.trim())},[p]),v=x.useCallback(()=>{var A;const E=window.getSelection();if(!E||E.rangeCount===0)return{top:0,left:0};const b=E.getRangeAt(0).getBoundingClientRect(),L=(A=a.current)==null?void 0:A.getBoundingClientRect();return L?{top:L.bottom-b.top+8,left:b.left-L.left}:{top:0,left:0}},[]),k=x.useCallback(()=>{if(!u.current)return"";const E=window.getSelection();if(!E||E.rangeCount===0)return"";const j=E.getRangeAt(0),{node:b,offset:L}=u.current;return j.startContainer!==b?"":(b.textContent||"").slice(L,j.startOffset)},[]),N=x.useCallback(()=>{u.current=null,h(!1),i==null||i({active:!1,query:"",position:{top:0,left:0}})},[i]),f=x.useCallback(()=>{const E=window.getSelection();if(!E||E.rangeCount===0)return;const j=E.getRangeAt(0),b=j.startContainer;if(b.nodeType!==Node.TEXT_NODE){m&&N();return}const L=b.textContent||"",A=j.startOffset;if(m&&u.current){if(u.current.node===b&&A>=u.current.offset){const U=k();U.includes(" ")?N():i==null||i({active:!0,query:U,position:v()})}else N();return}const $=L.slice(0,A),T=$.lastIndexOf("@");if(T!==-1){const U=T>0?$[T-1]:" ";if(U===" "||U===`
`||T===0){const H=$.slice(T+1);H.includes(" ")||(u.current={node:b,offset:T+1},h(!0),i==null||i({active:!0,query:H,position:v()}))}}},[m,k,v,N,i]),d=x.useCallback(E=>{const j=a.current;if(!j)return;N();const b=document.createElement("span");b.contentEditable="false",b.dataset.type="face",b.dataset.faceId=String(E),b.className="inline-block align-middle mx-0.5 select-all",b.innerHTML=`<img src="/face/${E}.png" alt="[]" class="w-6 h-6 inline-block" draggable="false" />`;const L=window.getSelection();if(L&&L.rangeCount>0){const A=L.getRangeAt(0);if(j.contains(A.commonAncestorContainer)){A.deleteContents(),A.insertNode(b);const $=document.createTextNode("");b.after($),A.setStartAfter($),A.setEndAfter($),L.removeAllRanges(),L.addRange(A)}else{j.appendChild(b);const $=document.createTextNode("");j.appendChild($)}}else{j.appendChild(b);const A=document.createTextNode("");j.appendChild(A)}j.focus(),s==null||s(p())},[s,p,N]),g=x.useCallback((E,j)=>{const b=a.current;if(!b)return;N();const L=document.createElement("span");L.contentEditable="false",L.dataset.type="image",L.dataset.imageUrl=j,E&&(L.__file=E),L.className="inline-block align-middle mx-0.5 select-all",L.innerHTML=`<img src="${j}" alt="[]" class="h-16 max-w-[200px] rounded inline-block object-cover" draggable="false" />`;const A=window.getSelection();if(A&&A.rangeCount>0){const $=A.getRangeAt(0);if(b.contains($.commonAncestorContainer)){$.deleteContents(),$.insertNode(L);const T=document.createTextNode("");L.after(T),$.setStartAfter(T),$.setEndAfter(T),A.removeAllRanges(),A.addRange($)}else{b.appendChild(L);const T=document.createTextNode("");b.appendChild(T)}}else{b.appendChild(L);const $=document.createTextNode("");b.appendChild($)}b.focus(),s==null||s(p())},[s,p,N]),w=x.useCallback((E,j,b)=>{const L=a.current;if(!L)return;if(m&&u.current){const{node:H,offset:Y}=u.current,ie=window.getSelection();if(ie&&ie.rangeCount>0){const $e=ie.getRangeAt(0),K=document.createRange();K.setStart(H,Y-1),K.setEnd($e.startContainer,$e.startOffset),K.deleteContents()}}N();const A=document.createElement("span");A.contentEditable="false",A.dataset.type="at",A.dataset.atUid=E,A.dataset.atUin=j,A.dataset.atName=b,A.className="inline-block align-middle mx-0.5 px-1 py-0.5 bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-300 text-sm rounded select-all",A.textContent=`@${b}`;const $=window.getSelection();if($&&$.rangeCount>0){const H=$.getRangeAt(0);L.contains(H.commonAncestorContainer)?(H.deleteContents(),H.insertNode(A),H.setStartAfter(A),H.setEndAfter(A),$.removeAllRanges(),$.addRange(H)):L.appendChild(A)}else L.appendChild(A);const T=document.createTextNode(" ");A.after(T);const U=document.createRange();U.setStartAfter(T),U.setEndAfter(T),$==null||$.removeAllRanges(),$==null||$.addRange(U),L.focus(),s==null||s(p())},[m,s,p,N]),S=x.useCallback(()=>{const E=a.current;E&&(E.innerHTML="",N(),s==null||s([]))},[s,N]),C=x.useCallback(()=>{const E=a.current;if(!E)return;E.focus();const j=window.getSelection();if(j){const b=document.createRange();b.selectNodeContents(E),b.collapse(!1),j.removeAllRanges(),j.addRange(b)}},[]);x.useImperativeHandle(o,()=>({focus:C,clear:S,insertFace:d,insertImage:g,insertAt:w,getContent:p,isEmpty:y,cancelMention:N}),[C,S,d,g,w,p,y,N]);const R=x.useCallback(E=>{if(m){if(["ArrowUp","ArrowDown","Enter","Tab"].includes(E.key))return;if(E.key==="Escape"){E.preventDefault(),N();return}}E.key==="Enter"&&!E.shiftKey&&!c.current&&!m&&(E.preventDefault(),n==null||n())},[n,m,N]),M=x.useCallback(()=>{f(),s==null||s(p())},[s,p,f]),q=x.useCallback(E=>{var L,A;const j=(L=E.clipboardData)==null?void 0:L.items;if(j){for(let $=0;$<j.length;$++)if(j[$].type.startsWith("image/")){E.preventDefault(),r==null||r(E);return}}E.preventDefault();const b=(A=E.clipboardData)==null?void 0:A.getData("text/plain");b&&document.execCommand("insertText",!1,b)},[r]),P=x.useCallback(()=>{setTimeout(f,0)},[f]),G=x.useCallback(()=>{setTimeout(()=>{m&&N()},200)},[m,N]);return l.jsxs("div",{className:"relative",children:[l.jsx("div",{ref:a,contentEditable:!t,onKeyDown:R,onInput:M,onPaste:q,onClick:P,onBlur:G,onCompositionStart:()=>{c.current=!0},onCompositionEnd:()=>{c.current=!1,M()},className:`min-h-[36px] max-h-[120px] overflow-y-auto px-3 py-2 outline-none text-theme whitespace-pre-wrap break-words ${t?"opacity-50 cursor-not-allowed":""}`,style:{wordBreak:"break-word"},"data-placeholder":e,suppressContentEditableWarning:!0}),l.jsx("style",{children:`
        [data-placeholder]:empty:before {
          content: attr(data-placeholder);
          color: var(--theme-hint, #9ca3af);
          pointer-events: none;
        }
      `})]})});Df.displayName="RichInput";const Tg=({members:e,loading:t,query:n,position:r,onSelect:s,onClose:i})=>{const o=x.useRef(null),[a,c]=x.useState(0),u=x.useMemo(()=>{if(!n)return e.slice(0,20);const h=n.toLowerCase();return e.filter(p=>{var y;return p.nickname.toLowerCase().includes(h)||((y=p.card)==null?void 0:y.toLowerCase().includes(h))||p.uin.includes(n)}).slice(0,20)},[e,n]);x.useEffect(()=>{c(0)},[n]),x.useEffect(()=>{const h=p=>{p.key==="ArrowDown"?(p.preventDefault(),c(y=>Math.min(y+1,u.length-1))):p.key==="ArrowUp"?(p.preventDefault(),c(y=>Math.max(y-1,0))):p.key==="Enter"||p.key==="Tab"?(p.preventDefault(),u[a]&&s(u[a])):p.key==="Escape"&&(p.preventDefault(),i())};return window.addEventListener("keydown",h),()=>window.removeEventListener("keydown",h)},[u,a,s,i]),x.useEffect(()=>{const h=p=>{o.current&&!o.current.contains(p.target)&&i()};return document.addEventListener("mousedown",h),()=>document.removeEventListener("mousedown",h)},[i]),x.useEffect(()=>{const h=o.current;if(!h)return;const p=h.querySelector(`[data-index="${a}"]`);p&&p.scrollIntoView({block:"nearest"})},[a]);const m=h=>h==="owner"?l.jsx(Dl,{size:12,className:"text-yellow-500"}):h==="admin"?l.jsx(ls,{size:12,className:"text-green-500"}):null;return l.jsx("div",{ref:o,className:"absolute z-50 bg-white dark:bg-neutral-800 rounded-xl shadow-xl border border-theme-divider overflow-hidden",style:{bottom:"100%",left:0,marginBottom:8,minWidth:240,maxWidth:300},children:t?l.jsx("div",{className:"flex items-center justify-center py-4",children:l.jsx(je,{size:20,className:"animate-spin text-pink-500"})}):u.length===0?l.jsx("div",{className:"py-3 px-4 text-sm text-theme-muted text-center",children:n?"":""}):l.jsx("div",{className:"max-h-[200px] overflow-y-auto py-1",children:u.map((h,p)=>l.jsxs("div",{"data-index":p,onClick:()=>s(h),className:`flex items-center gap-2 px-3 py-2 cursor-pointer transition-colors ${p===a?"bg-pink-50 dark:bg-pink-900/30":"hover:bg-theme-item-hover"}`,children:[l.jsx("img",{src:h.avatar||`https://q1.qlogo.cn/g?b=qq&nk=${h.uin}&s=40`,alt:"",className:"w-7 h-7 rounded-full flex-shrink-0",loading:"lazy"}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("span",{className:"text-sm text-theme truncate",children:h.card||h.nickname}),m(h.role)]}),h.card&&h.card!==h.nickname&&l.jsx("div",{className:"text-xs text-theme-muted truncate",children:h.nickname})]})]},h.uid))})})},Mg=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,41,42,43,46,49,53,56,59,60,63,64,66,67,74,75,76,77,78,79,85,86,89,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,114,116,118,119,120,121,123,124,125,129,137,144,146,147,169,171,172,173,174,175,176,177,178,179,181,182,183,185,187,201,212,262,263,264,265,266,267,268,269,270,271,272,273,277,281,282,283,284,285,286,287,289,293,294,295,297,298,299,300,302,303,305,306,307,311,312,314,317,318,319,320,323,324,325,326,332,333,334,336,337,338,339,341,342,343,344,345,346,347,349,350,351,352,353,354,355,356,357,358,359,392,393,394,395],Of="webqq_recent_emojis",Ig=10;function Lo(){try{const e=localStorage.getItem(Of);return e?JSON.parse(e):[]}catch{return[]}}function zg(e){const t=Lo().filter(n=>n!==e);t.unshift(e),localStorage.setItem(Of,JSON.stringify(t.slice(0,Ig)))}const qf=({onSelect:e,onClose:t,position:n,inline:r})=>{const[s,i]=x.useState(new Set),[o,a]=x.useState(Lo()),c=x.useRef(null);x.useEffect(()=>{const m=h=>{c.current&&!c.current.contains(h.target)&&t()};return document.addEventListener("mousedown",m),()=>document.removeEventListener("mousedown",m)},[t]);const u=m=>{zg(m),a(Lo()),e(m)};return l.jsxs("div",{ref:c,className:`${r?"":"absolute bottom-full left-0 mb-2"} bg-theme-card border border-theme-divider rounded-xl shadow-xl z-50`,style:n?{left:n.x,bottom:n.y}:void 0,children:[l.jsx("div",{className:"p-2 border-b border-theme-divider text-sm text-theme-secondary",children:""}),l.jsxs("div",{className:"p-2 max-h-[280px] overflow-y-auto w-[320px]",children:[o.length>0&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"text-xs text-theme-hint mb-1",children:""}),l.jsx("div",{className:"grid grid-cols-8 gap-1 mb-2 pb-2 border-b border-theme-divider",children:o.map(m=>l.jsx("button",{onClick:()=>u(m),className:"w-8 h-8 flex items-center justify-center hover:bg-theme-item rounded transition-colors",title:` ${m}`,children:l.jsx("img",{src:`/face/${m}.png`,alt:`${m}`,className:"w-6 h-6"})},`recent-${m}`))})]}),l.jsx("div",{className:"grid grid-cols-8 gap-1",children:Mg.map(m=>l.jsx("button",{onClick:()=>u(m),className:"w-8 h-8 flex items-center justify-center hover:bg-theme-item rounded transition-colors",title:` ${m}`,children:l.jsx("img",{src:`/face/${m}.png`,alt:`${m}`,className:`w-6 h-6 transition-opacity ${s.has(m)?"opacity-100":"opacity-0"}`,onLoad:()=>i(h=>new Set(h).add(m)),onError:h=>{h.target.style.display="none"}})},m))})]})]})};let In=null;const La="webqq_recent_fav_emojis",Pg=10;function Ar(){try{const e=localStorage.getItem(La);return e?JSON.parse(e):[]}catch{return[]}}function Lg(e){const t=Ar().filter(n=>n.emoId!==e.emoId);t.unshift(e),localStorage.setItem(La,JSON.stringify(t.slice(0,Pg)))}function Rg(e){const t=Ar().filter(n=>n.emoId!==e);localStorage.setItem(La,JSON.stringify(t))}const _g=({x:e,y:t,onClose:n,onDelete:r})=>{const s=x.useRef(null),[i,o]=x.useState({left:e,top:t});return x.useEffect(()=>{if(!s.current)return;const a=s.current.getBoundingClientRect(),c=10;let u=e,m=t;e+a.width>window.innerWidth-c&&(u=e-a.width),u<c&&(u=c),t+a.height>window.innerHeight-c&&(m=t-a.height),m<c&&(m=c),o({left:u,top:m})},[e,t]),Re.createPortal(l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"fixed inset-0 z-[60]",onClick:n,onContextMenu:a=>{a.preventDefault(),n()}}),l.jsx("div",{ref:s,className:"fixed z-[60] bg-popup backdrop-blur-sm border border-theme-divider rounded-lg shadow-lg py-1 min-w-[100px]",style:{left:i.left,top:i.top},onContextMenu:a=>a.preventDefault(),children:l.jsxs("button",{onClick:r,className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-red-500 hover:bg-theme-item-hover transition-colors",children:[l.jsx(Et,{size:14})," "]})})]}),document.body)},Ag=({onSelect:e,onClose:t})=>{const[n,r]=x.useState(In||[]),[s,i]=x.useState(!In),[o,a]=x.useState(null),[c,u]=x.useState(Ar()),[m,h]=x.useState(null),p=x.useRef(null);x.useEffect(()=>{if(In){r(In),i(!1);return}(async()=>{try{const w=((await le("ntMsgApi","fetchFavEmojiList",[1e3])).emojiInfoList||[]).map(S=>({emoId:S.emoId,resId:S.resId||"",url:S.url,desc:S.desc||""}));In=w,r(w)}catch{a("")}finally{i(!1)}})()},[]);const y=x.useRef(m);y.current=m,x.useEffect(()=>{const f=d=>{y.current||p.current&&!p.current.contains(d.target)&&t()};return document.addEventListener("mousedown",f),()=>document.removeEventListener("mousedown",f)},[t]);const v=f=>{Lg(f),u(Ar()),e(f)},k=(f,d)=>{f.preventDefault(),f.stopPropagation(),h({x:f.clientX,y:f.clientY,emoji:d})},N=async()=>{if(!m)return;const{emoji:f}=m;h(null);try{const d=await le("ntMsgApi","deleteFavEmoji",[[f.resId]]);if(d.result===0){Q("","success");const g=n.filter(w=>w.emoId!==f.emoId);r(g),In=g,Rg(f.emoId),u(Ar())}else Q(d.errMsg||"","error")}catch(d){Q(d.message||"","error")}};return l.jsxs("div",{ref:p,className:"absolute bottom-full left-0 mb-2 bg-theme-card border border-theme-divider rounded-xl shadow-xl z-50 w-[320px]",children:[l.jsx("div",{className:"p-2 border-b border-theme-divider text-sm text-theme-secondary",children:""}),l.jsxs("div",{className:"p-2 max-h-[300px] overflow-y-auto",children:[c.length>0&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"text-xs text-theme-hint mb-1",children:""}),l.jsx("div",{className:"grid grid-cols-4 gap-1 mb-2 pb-2 border-b border-theme-divider",children:c.map(f=>l.jsx("button",{onClick:()=>v(f),onContextMenu:d=>k(d,f),className:"p-1 rounded-lg hover:bg-theme-item transition-colors",title:f.desc,children:l.jsx("img",{src:f.url,alt:f.desc,className:"w-16 h-16 object-contain"})},`recent-${f.emoId}`))})]}),s?l.jsx("div",{className:"flex items-center justify-center py-8",children:l.jsx(je,{size:24,className:"animate-spin text-pink-500"})}):o?l.jsx("div",{className:"text-center py-8 text-theme-hint text-sm",children:o}):n.length===0?l.jsx("div",{className:"text-center py-8 text-theme-hint text-sm",children:""}):l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"text-xs text-theme-hint mb-1",children:""}),l.jsx("div",{className:"grid grid-cols-4 gap-1",children:n.map(f=>l.jsx("button",{onClick:()=>v(f),onContextMenu:d=>k(d,f),className:"p-1 rounded-lg hover:bg-theme-item transition-colors",title:f.desc,children:l.jsx("img",{src:f.url,alt:f.desc,className:"w-16 h-16 object-contain",loading:"lazy"})},f.emoId))})]})]}),m&&l.jsx(_g,{x:m.x,y:m.y,emoji:m.emoji,onClose:()=>h(null),onDelete:N})]})},Fg=({target:e,onClose:t,containerRef:n})=>{const r=async o=>{const a=e.message;t();try{const c={chatType:a.chatType,peerUid:a.peerUin,guildId:""};await le("ntMsgApi","setEmojiLike",[c,a.msgSeq,String(o),!0]),Q("","success")}catch(c){Q(c.message||"","error")}},i=(()=>{if(n!=null&&n.current){const o=n.current.getBoundingClientRect();return{left:o.left+o.width/2,top:o.top+o.height/2}}return{left:window.innerWidth/2,top:window.innerHeight/2}})();return Re.createPortal(l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"fixed inset-0 z-40 bg-black/20",onClick:t}),l.jsx("div",{className:"fixed z-50 -translate-x-1/2 -translate-y-1/2",style:{left:i.left,top:i.top},children:l.jsx(qf,{onSelect:r,onClose:t,inline:!0})})]}),document.body)},Wf=x.forwardRef((e,t)=>{var K;const{session:n,replyTo:r,onReplyCancel:s,onSendStart:i,onSendEnd:o,onTempMessage:a,onTempMessageRemove:c,onTempMessageFail:u}=e,m=x.useRef(null),h=x.useRef(null),p=x.useRef(null),[y,v]=x.useState(!1),[k,N]=x.useState(!1),[f,d]=x.useState(!1),[g,w]=x.useState({active:!1,query:"",position:{top:0,left:0}}),[S,C]=x.useState([]),[R,M]=x.useState(!1),{getCachedMembers:q,fetchGroupMembers:P}=xt(),G=x.useRef(null),E=x.useRef(q);E.current=q;const j=x.useRef(P);j.current=P,x.useImperativeHandle(t,()=>({insertAt:(D,W,ee)=>{var oe;(oe=m.current)==null||oe.insertAt(D,W,ee)},focus:()=>{var D;(D=m.current)==null||D.focus()}}),[]),x.useEffect(()=>{const D=(n==null?void 0:n.chatType)===2?n.peerId:null;if(G.current=D,!D){C([]),M(!1);return}const W=!Pa(2,D);if(!W){const ee=E.current(D);if(ee){C(ee),M(!1);return}}M(!0),C([]),j.current(D,W).then(ee=>{G.current===D&&(C(ee),M(!1))}).catch(()=>{G.current===D&&M(!1)})},[n==null?void 0:n.chatType,n==null?void 0:n.peerId]);const b=x.useCallback(D=>{if((n==null?void 0:n.chatType)!==2){w({active:!1,query:"",position:{top:0,left:0}});return}w(D)},[n==null?void 0:n.chatType]),L=x.useCallback(D=>{var W;(W=m.current)==null||W.insertAt(D.uid,D.uin,D.card||D.nickname)},[]),A=x.useCallback(()=>{var D;(D=m.current)==null||D.cancelMention()},[]),$=x.useCallback(async()=>{if(!n||!m.current)return;const D=m.current.getContent();if(m.current.isEmpty())return;i();const ee=r;m.current.clear(),s(),d(!1),setTimeout(()=>{var ne;return(ne=m.current)==null?void 0:ne.focus()},0);const oe=D.map(ne=>({type:ne.type,content:ne.content,faceId:ne.faceId,imageUrl:ne.imageUrl,atName:ne.atName})),be=`temp_${Date.now()}`;a({msgId:be,items:oe,timestamp:Date.now(),status:"sending"});try{const ne=[];ee&&ne.push({type:"reply",msgId:ee.msgId,msgSeq:ee.msgSeq});for(const ae of D)if(ae.type==="text"&&ae.content)ne.push({type:"text",text:ae.content});else if(ae.type==="face"&&ae.faceId!==void 0)ne.push({type:"face",faceId:ae.faceId});else if(ae.type==="image"){if(ae.imageFile){const Se=await of(ae.imageFile);ne.push({type:"image",imagePath:Se.imagePath})}else if(ae.imageUrl){const Se=await af(ae.imageUrl);ne.push({type:"image",imagePath:Se.imagePath})}}else ae.type==="at"&&ae.atUid&&ne.push({type:"at",uid:ae.atUid,uin:ae.atUin,name:ae.atName});if(ne.length===0){c(be);return}await Po({chatType:n.chatType,peerId:n.peerId,content:ne})}catch{Q("","error"),u(be)}finally{o()}},[n,r,i,o,s,a,c,u]),T=x.useCallback(D=>{var W;(W=m.current)==null||W.insertFace(D),v(!1)},[]),U=x.useCallback(D=>{var W;N(!1),(W=m.current)==null||W.insertImage(null,D.url)},[]),H=x.useCallback(D=>{var ee,oe;const W=(ee=D.target.files)==null?void 0:ee[0];if(W){if(!jf(W.name)){Q(" JPGPNGGIF","error");return}(oe=m.current)==null||oe.insertImage(W,URL.createObjectURL(W)),h.current&&(h.current.value="")}},[]),Y=x.useCallback(async D=>{var oe;const W=(oe=D.target.files)==null?void 0:oe[0];if(!W||!n)return;if(W.size>100*1024*1024){Q(" 100MB","error");return}p.current&&(p.current.value=""),i();const ee=`temp_${Date.now()}`;a({msgId:ee,items:[{type:"text",content:`[] ${W.name}`}],timestamp:Date.now(),status:"sending"});try{const be=await cf(W);await Po({chatType:n.chatType,peerId:n.peerId,content:[{type:"file",filePath:be.filePath,fileName:be.fileName}]})}catch{Q("","error"),u(ee)}finally{o()}},[n,i,o,a,c,u]),ie=x.useCallback(D=>{var ee,oe,be;const W=(ee=D.clipboardData)==null?void 0:ee.items;if(W){for(let ne=0;ne<W.length;ne++)if(W[ne].type.startsWith("image/")){const ae=W[ne].getAsFile();if(!ae)continue;const Se=(oe=ae.type.split("/")[1])==null?void 0:oe.toLowerCase();if(!["jpeg","jpg","png","gif"].includes(Se)){Q("","error");return}(be=m.current)==null||be.insertImage(ae,URL.createObjectURL(ae));return}}},[]),$e=x.useCallback(D=>{var W;d(D.length>0&&!(D.length===1&&D[0].type==="text"&&!((W=D[0].content)!=null&&W.trim())))},[]);return l.jsxs("div",{className:"border-t border-theme-divider bg-theme-card",children:[r&&l.jsx("div",{className:"px-4 py-2 border-b border-theme-divider bg-theme-item",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Wm,{size:16,className:"text-pink-500 flex-shrink-0"}),l.jsxs("div",{className:"flex-1 min-w-0 text-sm text-theme-secondary truncate",children:[" ",r.sendMemberName||r.sendNickName||r.senderUin,"",(K=r.elements)==null?void 0:K.filter(D=>!D.replyElement).map((D,W)=>D.textElement?l.jsx("span",{children:D.textElement.content},W):D.picElement?l.jsx("span",{children:"[]"},W):D.faceElement?l.jsx("span",{children:"[]"},W):null)]}),l.jsx("button",{onClick:s,className:"p-1 text-theme-hint hover:text-theme rounded",children:l.jsx(wt,{size:16})})]})}),l.jsxs("div",{className:"px-4 pt-0.5 pb-3",children:[l.jsxs("div",{className:"flex items-center gap-1 mb-2 relative",children:[l.jsx("button",{onClick:()=>{v(!y),N(!1)},className:`p-2 rounded-lg transition-colors ${y?"text-pink-500 bg-pink-50 dark:bg-pink-900/30":"text-theme-muted hover:text-pink-500 hover:bg-pink-50 dark:hover:bg-pink-900/30"}`,title:"",children:l.jsx(Bm,{size:18})}),l.jsx("button",{onClick:()=>{N(!k),v(!1)},className:`p-2 rounded-lg transition-colors ${k?"text-pink-500 bg-pink-50 dark:bg-pink-900/30":"text-theme-muted hover:text-pink-500 hover:bg-pink-50 dark:hover:bg-pink-900/30"}`,title:"",children:l.jsx(e0,{size:18})}),l.jsx("button",{onClick:()=>{var D;return(D=h.current)==null?void 0:D.click()},className:"p-2 text-theme-muted hover:text-pink-500 hover:bg-pink-50 dark:hover:bg-pink-900/30 rounded-lg transition-colors",title:"",children:l.jsx(Wx,{size:18})}),l.jsx("button",{onClick:()=>{var D;return(D=p.current)==null?void 0:D.click()},className:"p-2 text-theme-muted hover:text-pink-500 hover:bg-pink-50 dark:hover:bg-pink-900/30 rounded-lg transition-colors",title:"",children:l.jsx(Dm,{size:18})}),y&&l.jsx(qf,{onSelect:T,onClose:()=>v(!1)}),k&&l.jsx(Ag,{onSelect:U,onClose:()=>N(!1)})]}),l.jsxs("div",{className:"flex items-end gap-2 relative",children:[l.jsx("input",{type:"file",ref:h,onChange:H,accept:"image/jpeg,image/png,image/gif",className:"hidden"}),l.jsx("input",{type:"file",ref:p,onChange:Y,className:"hidden"}),l.jsx("div",{className:"flex-1 bg-theme-input border border-theme-input rounded-xl focus-within:ring-2 focus-within:ring-pink-500/20 overflow-hidden",children:l.jsx(Df,{ref:m,placeholder:"...",onEnter:$,onPaste:ie,onChange:$e,onMentionChange:b})}),g.active&&(n==null?void 0:n.chatType)===2&&l.jsx(Tg,{members:S,loading:R,query:g.query,position:g.position,onSelect:L,onClose:A}),l.jsx("button",{onClick:$,disabled:!f,className:"p-2.5 bg-pink-500 text-white rounded-xl hover:bg-pink-600 disabled:opacity-50 disabled:cursor-not-allowed flex-shrink-0",children:l.jsx(wl,{size:20})})]})]})]})});Wf.displayName="ChatInput";const Ug=({tip:e,onScrollToMessage:t})=>l.jsx("div",{className:"flex justify-center py-2",children:l.jsxs("span",{className:"text-xs text-theme-hint bg-theme-item/50 px-3 py-1 rounded-full",children:[l.jsx("span",{className:"text-blue-500",children:e.userName}),l.jsx("span",{children:" "}),l.jsx("span",{className:"text-blue-500 cursor-pointer hover:underline",onClick:()=>t(e.msgSeq),children:""}),l.jsx("span",{children:" "}),l.jsx("img",{src:`/face/${e.emojiId}.png`,alt:"emoji",className:"inline-block w-4 h-4 align-text-bottom",onError:n=>{const r=n.target;r.dataset.fallback||(r.dataset.fallback="1",r.src=`https://gxh.vip.qq.com/club/item/parcel/item/${e.emojiId.slice(0,2)}/${e.emojiId}/100x100.png`)}})]})}),$g=({session:e,onShowMembers:t,onNewMessageCallback:n,onEmojiReactionCallback:r,onMessageRecalledCallback:s,appendInputText:i,onAppendInputTextConsumed:o,onBack:a,showBackButton:c})=>{const[u,m]=x.useState([]),[h,p]=x.useState([]),[y,v]=x.useState([]),[k,N]=x.useState(!1),[f,d]=x.useState(!1),[g,w]=x.useState(!0),[S,C]=x.useState(null),[R,M]=x.useState(null),[q,P]=x.useState(null),[G,E]=x.useState(null),[j,b]=x.useState(null),[L,A]=x.useState(null),[$,T]=x.useState(null),[U,H]=x.useState(!1),[Y,ie]=x.useState(null),[$e,K]=x.useState(null),[D,W]=x.useState(null),[ee,oe]=x.useState(null),[be,ne]=x.useState(null),[ae,Se]=x.useState(!1),or=x.useMemo(()=>({showPreview:I=>C(I)}),[]),Hf=x.useMemo(()=>({showPreview:(I,z,_,O)=>M({chatType:I,peerUid:z,msgId:_,elementId:O})}),[]),Bf=x.useMemo(()=>({showMenu:(I,z)=>{E({x:I.clientX,y:I.clientY,message:z})}}),[]),Vf=x.useMemo(()=>({showMenu:(I,z,_)=>{E({x:I.clientX,y:I.clientY,message:z,elementId:_})}}),[]),Qf=x.useMemo(()=>({showMenu:(I,z)=>{b({x:I.clientX,y:I.clientY,...z})}}),[]),{getCachedMembers:as,setCachedMembers:Yg,fetchGroupMembers:Gf,friendCategories:Ra}=xt(),_a=x.useRef(null),cs=x.useRef(null),Hl=x.useRef(null),ar=x.useRef(e),cr=x.useRef(!0),Aa=x.useRef(null),Bl=x.useRef([]),ur=x.useRef(new Map),Fa=x.useRef(null),Vl=x.useRef(!1),us=x.useRef(null),Ua=x.useRef(!0),Kf=x.useRef(0),Ql=x.useRef(!1);x.useEffect(()=>{ar.current=e},[e]);const Ve=x.useMemo(()=>{const I=new Set,z=u.filter(X=>!X||!X.elements||!Array.isArray(X.elements)||I.has(X.msgId)?!1:(I.add(X.msgId),!0)).map(X=>({type:"raw",data:X})),_=h.map(X=>({type:"temp",data:X})),O=y.map(X=>({type:"system",data:X})),Z=[...z,..._,...O];return Z.sort((X,J)=>{const ce=ue=>ue.type==="raw"?parseInt(ue.data.msgTime)*1e3:(ue.type==="temp",ue.data.timestamp);return ce(X)-ce(J)}),Bl.current=Z,Z},[u,h,y]),dt=Cf({count:Ve.length,getScrollElement:()=>cs.current,estimateSize:()=>80,overscan:5}),Gl=x.useCallback((I,z)=>{const _=Ve.findIndex(O=>O.type!=="raw"?!1:O.data.msgId===I||z&&O.data.msgSeq===z);if(_!==-1){dt.scrollToIndex(_,{align:"center"});const O=Ve[_];O.type==="raw"&&(ie(O.data.msgId),setTimeout(()=>ie(null),2e3))}},[Ve,dt]),Yf=x.useMemo(()=>({scrollToMessage:Gl}),[Gl]),Xf=x.useMemo(()=>({getMembers:I=>as(I)}),[as]),Jf=x.useMemo(()=>({getFriend:I=>{for(const z of Ra){const _=z.friends.find(O=>O.uin===I);if(_)return{uid:_.uid,uin:_.uin,nickname:_.nickname,remark:_.remark}}return null}}),[Ra]),Kl=x.useCallback(()=>{Bl.current.length>0&&dt.scrollToIndex(Bl.current.length-1,{align:"end"})},[dt]),[$a,Da]=x.useState(!1),dr=x.useRef(null);x.useEffect(()=>{const I=e?`${e.chatType}_${e.peerId}`:null;I!==Aa.current&&(Aa.current=I,H(!1),Da(!0))},[e==null?void 0:e.chatType,e==null?void 0:e.peerId]),x.useEffect(()=>{if(!(Ve.length===0||!$a))return dr.current&&clearTimeout(dr.current),dr.current=setTimeout(()=>{Da(!1);const I=()=>dt.scrollToIndex(Ve.length-1,{align:"end"});requestAnimationFrame(()=>{I(),setTimeout(I,50),setTimeout(()=>{I(),H(!0)},100)})},200),()=>{dr.current&&clearTimeout(dr.current)}},[Ve.length,$a,dt]),x.useEffect(()=>{cr.current&&Ve.length>0&&(Kl(),cr.current=!1)},[Ve.length,Kl]),x.useEffect(()=>(n&&n(z=>{if(!z||!z.msgId||!z.elements||!Array.isArray(z.elements))return;const _=ir(),O=z.senderUid===_;if(m(Z=>{if(Z.some(ce=>ce&&ce.msgId===z.msgId))return Z;const X=[...Z,z],J=ar.current;return J&&Mf(J.chatType,J.peerId,z),X}),O){const Z=parseInt(z.msgTime)*1e3;p(X=>{const J=X.filter(De=>De.status==="sending");if(J.length===0)return X;let ce=-1,ue=1/0;if(J.forEach((De,Oe)=>{const fe=Math.abs(Z-De.timestamp);fe<ue&&fe<5e3&&(ue=fe,ce=Oe)}),ce>=0){const De=J[ce];return X.filter(Oe=>Oe.msgId!==De.msgId)}return X})}}),()=>{n&&n(null)}),[n]),x.useEffect(()=>(r&&r(z=>{if(m(_=>_.map(O=>{if(O.msgSeq!==z.msgSeq)return O;const Z=O.emojiLikesList||[];if(z.isAdd){const X=Z.findIndex(J=>J.emojiId===z.emojiId);if(X>=0){const J=[...Z];return J[X]={...J[X],likesCnt:String(parseInt(J[X].likesCnt)+1)},{...O,emojiLikesList:J}}else return{...O,emojiLikesList:[...Z,{emojiId:z.emojiId,emojiType:parseInt(z.emojiId)>999?"2":"1",likesCnt:"1",isClicked:!1}]}}else{const X=Z.findIndex(J=>J.emojiId===z.emojiId);if(X>=0){const J=[...Z],ce=parseInt(J[X].likesCnt)-1;return ce<=0?J.splice(X,1):J[X]={...J[X],likesCnt:String(ce)},{...O,emojiLikesList:J}}}return O})),z.isAdd){const _={id:`tip_${Date.now()}_${Math.random()}`,type:"emoji-reaction",userName:z.userName,emojiId:z.emojiId,msgSeq:z.msgSeq,timestamp:Date.now()};v(O=>[...O,_])}}),()=>{r&&r(null)}),[r]),x.useEffect(()=>(s&&s(z=>{m(_=>_.map(O=>O.msgId===z.msgId||z.msgSeq&&O.msgSeq===z.msgSeq?{...O,recallTime:String(Math.floor(Date.now()/1e3))}:O))}),()=>{s&&s(null)}),[s]);const Oa=(I,z)=>`${I}_${z}`,qa=x.useCallback(async(I,z)=>{var X;if(!e)return;const _=e.chatType,O=e.peerId,Z=()=>{const J=ar.current;return J&&J.chatType===_&&J.peerId===O};console.log("[ChatWindow] loadMessages called:",{chatType:_,peerId:O,beforeMsgSeq:I,afterMsgSeq:z}),I?d(!0):N(!0),I&&u.length>0&&(us.current=((X=u[0])==null?void 0:X.msgId)||null);try{const J=await Gs(_,O,I,20,z);if(console.log("[ChatWindow] API response:",{messagesCount:J.messages.length,hasMore:J.hasMore}),!Z()){console.log("[ChatWindow] Session changed after API call, skipping");return}const ce=J.messages.filter(ue=>ue!=null&&ue.elements&&Array.isArray(ue.elements));return console.log("[ChatWindow] Valid messages:",ce.length),m(ue=>{const De=new Set(ue.map(st=>st.msgId)),Oe=ce.filter(st=>!De.has(st.msgId)),fe=I?[...Oe,...ue]:[...ue,...Oe];return fe.sort((st,Tt)=>parseInt(st.msgTime)-parseInt(Tt.msgTime)),console.log("[ChatWindow] Merged messages:",fe.length,"new:",Oe.length),yn(_,O,fe),fe}),w(J.hasMore),{validMessages:ce,hasMore:J.hasMore}}catch(J){if(console.error("[ChatWindow] loadMessages error:",J),us.current=null,!Z())return;Q(I?"":"","error")}finally{Z()&&(N(!1),d(!1))}},[e,u]),Zf=x.useCallback(async I=>{var Z,X,J;if(!e)return;const z=e.chatType,_=e.peerId;N(!0);const O=()=>{const ce=ar.current;return ce&&ce.chatType===z&&ce.peerId===_};try{const ce=await Gs(z,_);if(!O()){console.log("[ChatWindow] Session changed during API call, skipping");return}const ue=ce.messages.filter(fe=>fe!=null&&fe.elements&&Array.isArray(fe.elements));if(console.log("[ChatWindow] Latest messages from API:",ue.length),ue.length===0){w(!1);return}const De=new Set(I.map(fe=>fe.msgId));if(ue.some(fe=>De.has(fe.msgId))||I.length===0){console.log("[ChatWindow] Has overlap with cache, merging directly");const st=[...I,...ue].filter((Tt,Cn,Wa)=>Wa.findIndex(mr=>mr.msgId===Tt.msgId)===Cn);st.sort((Tt,Cn)=>parseInt(Tt.msgTime)-parseInt(Cn.msgTime)),m(st),yn(z,_,st),w(ce.hasMore)}else{console.log("[ChatWindow] No overlap, need to fill gap");let fe=[...ue],st=(Z=ue[0])==null?void 0:Z.msgSeq,Tt=ce.hasMore;const Cn=(X=I[I.length-1])==null?void 0:X.msgSeq;for(let ln=0;ln<10&&Tt;ln++){if(!O()){console.log("[ChatWindow] Session changed during gap fill, skipping");return}const En=await Gs(z,_,st),on=En.messages.filter(kt=>kt!=null&&kt.elements&&Array.isArray(kt.elements));if(on.length===0)break;fe=[...on,...fe],st=(J=on[0])==null?void 0:J.msgSeq,Tt=En.hasMore;const Yl=new Set(on.map(kt=>kt.msgId));if(I.some(kt=>Yl.has(kt.msgId))||Cn&&on.some(kt=>parseInt(kt.msgSeq)<=parseInt(Cn))){console.log("[ChatWindow] Connected with cache after",ln+1,"iterations");break}}const mr=[...I,...fe].filter((ln,En,on)=>on.findIndex(Yl=>Yl.msgId===ln.msgId)===En);mr.sort((ln,En)=>parseInt(ln.msgTime)-parseInt(En.msgTime)),m(mr),yn(z,_,mr),w(Tt)}}catch(ce){console.error("[ChatWindow] loadMessagesAndMergeWithCache error:",ce),Q("","error")}finally{O()&&N(!1)}},[e]);x.useEffect(()=>{const I=us.current;if(I&&Ve.length>0){const z=Ve.findIndex(_=>_.type==="raw"&&_.data.msgId===I);z!==-1&&dt.scrollToIndex(z,{align:"start"}),us.current=null}},[Ve,dt]),x.useEffect(()=>{if(e){const I=++Kf.current,z=Oa(e.chatType,e.peerId),_=e.chatType,O=e.peerId;console.log("[ChatWindow] Session changed:",{chatType:_,peerId:O,version:I}),Ql.current=!1;const Z=ur.current.get(z);Z&&Z.length>0?(console.log("[ChatWindow] Memory cache hit:",Z.length,"messages"),m(Z)):(console.log("[ChatWindow] Memory cache miss"),m([])),p([]),v([]),cr.current=!0;const X=Ua.current,J=Pa(_,O),ce=X||!J;console.log("[ChatWindow] Check load:",{isFirstMount:X,hasVisited:J,shouldLoadFromApi:ce}),os(_,O).then(async ue=>{const De=ar.current;if(!De||De.chatType!==_||De.peerId!==O){console.log("[ChatWindow] Session changed after IndexedDB read, skipping");return}let Oe=[];ue&&ue.length>0?(Oe=ue.filter(fe=>fe.elements&&Array.isArray(fe.elements)),console.log("[ChatWindow] IndexedDB cache hit:",Oe.length,"valid messages"),Oe.length>0&&(ur.current.set(z,Oe),m(Oe))):console.log("[ChatWindow] IndexedDB cache miss"),ce&&!Ql.current&&(Ql.current=!0,Ua.current=!1,U0(_,O),console.log("[ChatWindow] Calling loadMessagesAndMergeWithCache()"),await Zf(Oe))})}else m([]),p([]),v([])},[e==null?void 0:e.peerId,e==null?void 0:e.chatType]),x.useEffect(()=>{if(e&&u.length>0){const I=Oa(e.chatType,e.peerId);ur.current.set(I,u)}},[u,e==null?void 0:e.chatType,e==null?void 0:e.peerId]),x.useEffect(()=>{const I=Fa.current,z=cs.current;if(!I||!z)return;const _=new IntersectionObserver(O=>{var X;if(O[0].isIntersecting&&g&&!Vl.current&&!k&&u.length>0){const J=(X=u[0])==null?void 0:X.msgSeq;J&&(Vl.current=!0,qa(J).finally(()=>{Vl.current=!1}))}},{root:z,rootMargin:"50px 0px 0px 0px",threshold:0});return _.observe(I),()=>_.disconnect()},[g,u,qa]);const eh=x.useCallback(()=>{const I=cs.current;if(!I||u.length===0)return;const z=I.scrollHeight-I.scrollTop-I.clientHeight<100;cr.current=z,Se(!z)},[u]),th=x.useCallback(I=>{p(z=>z.filter(_=>_.msgId!==I.msgId))},[]),nh=x.useCallback(async(I,z,_,O,Z)=>{A({profile:null,loading:!0,position:{x:_,y:O}});try{const X=await Nl(I,z,Z);A({profile:X,loading:!1,position:{x:_,y:O}})}catch{A(null),Q("","error")}},[]),rh=x.useCallback(I=>{p(z=>[...z,I]),cr.current=!0},[]),sh=x.useCallback(I=>{p(z=>z.filter(_=>_.msgId!==I))},[]),lh=x.useCallback(I=>{p(z=>z.map(_=>_.msgId===I?{..._,status:"failed"}:_))},[]);return e?l.jsx(zf.Provider,{value:or,children:l.jsx(Pf.Provider,{value:Hf,children:l.jsx(Lf.Provider,{value:Vf,children:l.jsx(Rf.Provider,{value:Bf,children:l.jsx(_f.Provider,{value:Qf,children:l.jsx(Af.Provider,{value:Yf,children:l.jsx(Ff.Provider,{value:Xf,children:l.jsxs(Uf.Provider,{value:Jf,children:[l.jsxs("div",{ref:_a,className:"flex flex-col h-full relative",children:[l.jsxs("div",{className:"flex items-center justify-between px-2 md:px-4 py-3 border-b border-theme-divider bg-theme-card",children:[c&&l.jsx("button",{onClick:a,className:"p-2 mr-1 text-theme-muted hover:text-theme hover:bg-theme-item rounded-lg transition-colors md:hidden",children:l.jsx(Rx,{size:20})}),l.jsxs("div",{className:"flex items-center gap-3 cursor-pointer hover:opacity-80 transition-opacity flex-1 min-w-0",onClick:async I=>{const z=I.currentTarget.getBoundingClientRect(),_=z.left,O=z.bottom+8;if(e.chatType===2){T({profile:null,loading:!0,position:{x:_,y:O}});try{const Z=await Nf(e.peerId);T({profile:Z,loading:!1,position:{x:_,y:O}})}catch{T(null),Q("","error")}}else{A({profile:null,loading:!0,position:{x:_,y:O}});try{const{friendCategories:Z}=xt.getState();let X="";for(const ce of Z){const ue=ce.friends.find(De=>De.uin===e.peerId);if(ue){X=ue.uid;break}}const J=await Nl(X||void 0,e.peerId);A({profile:J,loading:!1,position:{x:_,y:O}})}catch{A(null),Q("","error")}}},children:[l.jsx("img",{src:e.peerAvatar,alt:e.peerName,className:"w-10 h-10 rounded-full object-cover flex-shrink-0"}),l.jsxs("div",{className:"min-w-0",children:[l.jsx("div",{className:"font-medium text-theme truncate",children:(()=>{const{groups:I,friendCategories:z}=xt.getState();if(e.chatType===2){const _=I.find(O=>O.groupCode===e.peerId);if(_!=null&&_.remarkName&&_.remarkName!==_.groupName)return`${_.remarkName}(${_.groupName})`}else for(const _ of z){const O=_.friends.find(Z=>Z.uin===e.peerId);if(O!=null&&O.remark&&O.remark!==O.nickname)return`${O.remark}(${O.nickname})`}return e.peerName})()}),l.jsx("div",{className:"text-xs text-theme-hint",children:e.chatType===2?(()=>{const{groups:I}=xt.getState(),z=I.find(_=>_.groupCode===e.peerId);return` ${e.peerId}${z!=null&&z.memberCount?`  ${z.memberCount}`:""}`})():e.chatType===100?` ${e.peerId}`:` ${e.peerId}`})]})]}),e.chatType===2&&t&&l.jsx("button",{onClick:t,className:"p-2 text-theme-muted hover:text-theme hover:bg-theme-item rounded-lg",title:"",children:l.jsx(Ol,{size:20})})]}),l.jsxs("div",{ref:cs,onScroll:eh,className:"flex-1 overflow-y-auto overflow-x-hidden p-4",children:[l.jsx("div",{ref:Fa,className:"h-1"}),f&&l.jsx("div",{className:"flex justify-center py-2",children:l.jsx(je,{size:20,className:"animate-spin text-pink-500"})}),k?l.jsx("div",{className:"flex items-center justify-center h-full",children:l.jsx(je,{size:32,className:"animate-spin text-pink-500"})}):Ve.length===0?l.jsx("div",{className:"flex items-center justify-center h-full text-theme-hint",children:""}):l.jsx("div",{style:{height:`${dt.getTotalSize()}px`,width:"100%",position:"relative",opacity:U?1:0},className:"overflow-hidden",children:dt.getVirtualItems().map(I=>{const z=Ve[I.index];return l.jsx("div",{style:{position:"absolute",top:0,left:0,width:"100%",transform:`translateY(${I.start}px)`,padding:"8px 0"},"data-index":I.index,ref:dt.measureElement,className:"overflow-hidden box-border",children:z.type==="raw"?l.jsx(kg,{message:z.data,allMessages:u,isHighlighted:Y===z.data.msgId}):z.type==="temp"?l.jsx(jg,{message:z.data,onRetry:()=>th(z.data)}):l.jsx(Ug,{tip:z.data,onScrollToMessage:_=>Gl("",_)})},I.key)})})]}),ae&&l.jsx("button",{onClick:Kl,className:"absolute bottom-[6.5rem] right-4 w-6 h-6 bg-theme-card/90 border border-theme-divider rounded-full shadow-md flex items-center justify-center text-theme-muted hover:text-theme hover:bg-theme-item transition-all z-10",title:"",children:l.jsx(jo,{size:12})}),l.jsx(Wf,{ref:Hl,session:e,replyTo:q,onReplyCancel:()=>P(null),onSendStart:()=>{},onSendEnd:()=>{},onTempMessage:rh,onTempMessageRemove:sh,onTempMessageFail:lh})]}),G&&l.jsx(Cg,{contextMenu:G,session:e,getCachedMembers:as,onClose:()=>E(null),onReply:I=>{P(I),setTimeout(()=>{var z,_;return(_=(z=Hl.current)==null?void 0:z.focus)==null?void 0:_.call(z)},50)},onEmojiReaction:(I,z,_)=>ne({message:I,x:z,y:_}),onRecall:I=>{if(m(z=>z.filter(_=>_.msgId!==I)),e){const z=`${e.chatType}_${e.peerId}`,_=ur.current.get(z);_&&ur.current.set(z,_.filter(O=>O.msgId!==I)),ag(e.chatType,e.peerId,I)}}}),be&&l.jsx(Fg,{target:be,onClose:()=>ne(null),containerRef:_a}),j&&l.jsx(Eg,{avatarContextMenu:j,getCachedMembers:as,onClose:()=>b(null),onInsertAt:(I,z,_)=>{var O,Z;return(Z=(O=Hl.current)==null?void 0:O.insertAt)==null?void 0:Z.call(O,I,z,_)},onShowProfile:nh,onSetTitle:(I,z,_)=>oe({uid:I,name:z,groupCode:_}),onMute:(I,z,_)=>W({uid:I,name:z,groupCode:_}),onKick:(I,z,_,O)=>K({uid:I,name:z,groupCode:_,groupName:O}),onAdminChanged:()=>e&&Gf(e.peerId,!0),groupName:e==null?void 0:e.peerName}),L&&l.jsx(If,{profile:L.profile,loading:L.loading,position:L.position,onClose:()=>A(null),isFriend:(e==null?void 0:e.chatType)===1,onFriendDeleted:I=>{const{removeFriend:z,setCurrentChat:_,removeRecentChat:O}=xt.getState();z(I),(e==null?void 0:e.chatType)===1&&(_(null),O(1,e.peerId))}}),$&&l.jsx(mg,{profile:$.profile,loading:$.loading,position:$.position,onClose:()=>T(null),onQuitGroup:async(I,z)=>{try{await yf(I),Q(z?"":"","success");const{setCurrentChat:_,removeRecentChat:O}=xt.getState();_(null),O(2,I)}catch(_){Q(_.message||(z?"":""),"error")}}}),$e&&l.jsx(bg,{name:$e.name,groupName:$e.groupName,onConfirm:async()=>{const{uid:I,name:z,groupCode:_}=$e;K(null);try{await hf(_,I),Q(` ${z} `,"success")}catch(O){Q(O.message||"","error")}},onClose:()=>K(null)}),D&&l.jsx(Ng,{name:D.name,onMute:async I=>{const{uid:z,name:_,groupCode:O}=D;W(null);try{if(await pf(O,z,I),I===0)Q(` ${_} `,"success");else{const Z=I>=86400?`${Math.floor(I/86400)}`:I>=3600?`${Math.floor(I/3600)}`:I>=60?`${Math.floor(I/60)}`:`${I}`;Q(` ${_} ${Z}`,"success")}}catch(Z){Q(Z.message||"","error")}},onClose:()=>W(null)}),ee&&l.jsx(Sg,{name:ee.name,onConfirm:async I=>{const{uid:z,name:_,groupCode:O}=ee;oe(null);try{await xf(O,z,I),Q(I?` ${_} ${I}`:` ${_} `,"success")}catch(Z){Q(Z.message||"","error")}},onClose:()=>oe(null)}),l.jsx(fg,{url:S,onClose:()=>C(null)}),l.jsx(hg,{videoInfo:R,onClose:()=>M(null)})]})})})})})})})}):l.jsx("div",{className:"flex-1 flex items-center justify-center bg-theme-item",children:l.jsxs("div",{className:"text-center text-theme-hint",children:[l.jsx("div",{className:"text-6xl mb-4",children:""}),l.jsx("p",{children:""})]})})},Dg=({member:e,onContextMenu:t,onClick:n})=>{const r=e.card||e.nickname,s=e.role==="owner"?l.jsx(Dl,{size:14,className:"text-yellow-500"}):e.role==="admin"?l.jsx(ls,{size:14,className:"text-blue-500"}):null,i=o=>{("ontouchstart"in window||navigator.maxTouchPoints>0)&&(n==null||n(o))};return l.jsxs("div",{className:"flex items-center gap-3 px-3 py-2 hover:bg-theme-item-hover transition-colors cursor-pointer",onClick:i,onContextMenu:t,children:[l.jsx("img",{src:e.avatar,alt:r,className:"w-8 h-8 rounded-full object-cover flex-shrink-0",loading:"lazy",onError:o=>{o.currentTarget.src=`https://q1.qlogo.cn/g?b=qq&nk=${e.uin}&s=640`}}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center gap-1.5",children:[l.jsx("span",{className:"text-sm text-theme truncate",children:r}),s]}),e.card&&e.card!==e.nickname&&l.jsx("div",{className:"text-xs text-theme-hint truncate",children:e.nickname})]})]})},Og=({groupCode:e,onClose:t,onAtMember:n})=>{const[r,s]=x.useState([]),[i,o]=x.useState(!1),[a,c]=x.useState(""),[u,m]=x.useState(null),[h,p]=x.useState(null),[y,v]=x.useState(null),{getCachedMembers:k,fetchGroupMembers:N}=xt(),f=x.useRef(null),d=x.useRef(e);x.useEffect(()=>{d.current=e},[e]);const g=x.useRef(k);g.current=k;const w=x.useRef(N);w.current=N;const S=x.useRef(!1);x.useEffect(()=>{const j=e,b=!Pa(2,j),L=$0(j);console.log("[GroupMemberPanel] useEffect triggered:",{groupCode:j,isFirstVisit:b,alreadyFetched:L});const A=g.current(j);if(A&&(console.log("[GroupMemberPanel] Cache hit:",A.length,"members"),s(A),m(null),L)){o(!1);return}if(L){o(!1);return}if(S.current){console.log("[GroupMemberPanel] Already loading, skip");return}return console.log("[GroupMemberPanel] Fetching from API, isFirstVisit:",b),S.current=!0,A||(o(!0),m(null),s([])),w.current(j,b).then($=>{console.log("[GroupMemberPanel] API success:",$.length,"members, currentGroupCode:",d.current),d.current===j&&(s($),o(!1),D0(j))}).catch($=>{console.log("[GroupMemberPanel] API error:",$.message),d.current===j&&(A||m($.message||""),Q("","error"),o(!1))}).finally(()=>{d.current===j&&(S.current=!1)}),()=>{console.log("[GroupMemberPanel] Cleanup, reset isLoading"),S.current=!1}},[e]);const C=x.useMemo(()=>kf(r,a),[r,a]),R=Cf({count:C.length,getScrollElement:()=>f.current,estimateSize:()=>48,overscan:5}),M=x.useMemo(()=>{const j=r.filter(L=>L.role==="owner").length,b=r.filter(L=>L.role==="admin").length;return{owner:j,admin:b,total:r.length}},[r]),q=x.useCallback((j,b)=>{j.preventDefault(),j.stopPropagation(),p({x:j.clientX,y:j.clientY,member:b})},[]),P=x.useCallback(()=>{if(h&&n){const j=h.member.card||h.member.nickname;n(j)}p(null)},[h,n]),G=x.useCallback(async()=>{if(!h)return;const j=h.member;p(null);try{await jl(2,Number(j.uin),Number(e)),Q("","success")}catch(b){Q(b.message||"","error")}},[h,e]),E=x.useCallback(async()=>{if(!h)return;const j=h.member,b={x:h.x,y:h.y};p(null),v({profile:null,loading:!0,position:b});try{const L=await Nl(j.uid,j.uin,e);v({profile:L,loading:!1,position:b})}catch(L){Q(L.message||"","error"),v(null)}},[h,e]);return l.jsxs("div",{className:"flex flex-col h-full",children:[l.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-theme-divider",children:[l.jsxs("div",{children:[l.jsx("div",{className:"font-medium text-theme",children:""}),l.jsxs("div",{className:"text-xs text-theme-hint",children:[M.total," "]})]}),l.jsx("button",{onClick:t,className:"p-1.5 text-theme-hint hover:text-theme hover:bg-theme-item rounded-lg transition-colors",children:l.jsx(wt,{size:18})})]}),l.jsx("div",{className:"p-3",children:l.jsxs("div",{className:"relative",children:[l.jsx(Hm,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-theme-hint"}),l.jsx("input",{type:"text",value:a,onChange:j=>c(j.target.value),placeholder:"...",className:"w-full pl-9 pr-3 py-2 text-sm bg-theme-input border border-theme-input rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-500/20 focus:border-pink-500/50 text-theme placeholder:text-theme-hint"})]})}),l.jsx("div",{ref:f,className:"flex-1 overflow-y-auto",children:i?l.jsx("div",{className:"flex items-center justify-center h-32",children:l.jsx(je,{size:24,className:"animate-spin text-pink-500"})}):u?l.jsxs("div",{className:"flex flex-col items-center justify-center h-32 gap-2",children:[l.jsx("p",{className:"text-sm text-red-500",children:u}),l.jsx("button",{onClick:()=>N(e),className:"text-sm text-pink-500 hover:text-pink-600",children:""})]}):C.length===0?l.jsx("div",{className:"flex items-center justify-center h-32 text-theme-hint text-sm",children:a?"":""}):l.jsx("div",{className:"py-1 relative",style:{height:R.getTotalSize()},children:R.getVirtualItems().map(j=>{const b=C[j.index];return l.jsx("div",{className:"absolute left-0 right-0",style:{top:j.start,height:j.size},children:l.jsx(Dg,{member:b,onClick:L=>q(L,b),onContextMenu:L=>q(L,b)})},b.uid)})})}),h&&Re.createPortal(l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>p(null),onContextMenu:j=>{j.preventDefault(),p(null)}}),l.jsxs("div",{className:"fixed z-50 bg-popup backdrop-blur-sm border border-theme-divider rounded-lg shadow-lg py-1 min-w-[120px]",style:{left:h.x,top:Math.min(h.y,window.innerHeight-150)},onContextMenu:j=>j.preventDefault(),children:[n&&l.jsxs("button",{onClick:P,className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-theme hover:bg-theme-item-hover transition-colors",children:[l.jsx(Lm,{size:14}),"@ta"]}),l.jsxs("button",{onClick:G,className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-theme hover:bg-theme-item-hover transition-colors",children:[l.jsx(_m,{size:14}),""]}),l.jsxs("button",{onClick:E,className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-theme hover:bg-theme-item-hover transition-colors",children:[l.jsx(Gm,{size:14}),""]})]})]}),document.body),y&&l.jsx(If,{profile:y.profile,loading:y.loading,position:y.position,onClose:()=>v(null)})]})};function qg(e){if(!e||!e.elements||!Array.isArray(e.elements))return"[]";for(const t of e.elements){if(t.textElement)return t.textElement.content;if(t.picElement)return"[]";if(t.faceElement)return"[]";if(t.fileElement)return"[]";if(t.pttElement)return"[]";if(t.videoElement)return"[]"}return"[]"}const Wg=()=>{const e=se.useRef(null),t=se.useRef(null),n=se.useRef(null),r=se.useRef([]),[,s]=se.useState(0),{friendCategories:i,groups:o,recentChats:a,contactsLoading:c,contactsError:u,currentChat:m,activeTab:h,unreadCounts:p,showMemberPanel:y,setCurrentChat:v,setActiveTab:k,setShowMemberPanel:N,clearUnreadCount:f,incrementUnreadCount:d,updateRecentChat:g,loadContacts:w,setRecentChats:S}=xt(),[C,R]=se.useState(""),M=x.useCallback(K=>{R(`@${K} `)},[]),q=x.useCallback(()=>{R("")},[]);x.useEffect(()=>{mu(),lf().catch(K=>console.error(":",K)),w()},[w]),x.useEffect(()=>{u&&Q(u,"error")},[u]);const P=se.useRef(m);x.useEffect(()=>{P.current=m},[m]);const G=se.useCallback(K=>{if(e.current=K,K&&r.current.length>0){const D=[...r.current];r.current=[],D.forEach(W=>K(W))}s(D=>D+1)},[]),E=se.useCallback(K=>{t.current=K},[]),j=se.useCallback(K=>{n.current=K},[]);x.useEffect(()=>{const K=vf(D=>{if(D.type==="message-created"||D.type==="message-sent"){const W=D.data;if(!W||!W.msgId||!W.elements||!Array.isArray(W.elements)){console.warn("SSE :",W);return}const ee=W.chatType,oe=W.peerUin||W.peerUid,be=`${ee}_${oe}`,ne=P.current;Mf(ee,oe,W),ne&&ne.chatType===ee&&ne.peerId===oe?e.current?e.current(W):r.current.push(W):d(be);const ae=qg(W);let Se,or;ee===2?(Se=W.peerName||void 0,or=`https://p.qlogo.cn/gh/${oe}/${oe}/640/`):(Se=W.sendNickName||W.sendMemberName||void 0,or=`https://q1.qlogo.cn/g?b=qq&nk=${oe}&s=640`),g(ee,oe,ae,parseInt(W.msgTime)*1e3,Se,or)}else if(D.type==="emoji-reaction"){const{groupCode:W,msgSeq:ee,emojiId:oe,userId:be,userName:ne,isAdd:ae}=D.data,Se=P.current;cg(2,W,ee,oe,ae),Se&&Se.chatType===2&&Se.peerId===W&&t.current&&t.current({groupCode:W,msgSeq:ee,emojiId:oe,userId:be,userName:ne,isAdd:ae})}else if(D.type==="message-deleted"){const{msgId:W,msgSeq:ee,chatType:oe,peerUid:be,peerUin:ne}=D.data,ae=ne||be,Se=P.current;ug(oe,ae,W,ee),Se&&Se.chatType===oe&&Se.peerId===ae&&n.current&&n.current({msgId:W,msgSeq:ee})}},D=>{console.error("SSE :",D)},()=>{console.log("[WebQQ] SSE "),mu(),w()});return()=>{K.close()}},[d,g,w]);const b=x.useCallback(K=>{r.current=[],v(K),K.chatType!==2&&N(!1);const D=`${K.chatType}_${K.peerId}`;f(D),S(a.map(W=>W.chatType===K.chatType&&W.peerId===K.peerId?{...W,unreadCount:0}:W))},[v,f,S,a,N]),[L,A]=x.useState(!1),$=x.useCallback(K=>{b(K),A(!0)},[b]),T=x.useCallback(()=>{A(!1)},[]),U=x.useCallback(K=>{const D={chatType:1,peerId:K.uin,peerName:K.remark||K.nickname,peerAvatar:K.avatar};$(D)},[$]),H=x.useCallback(K=>{const D={chatType:2,peerId:K.groupCode,peerName:K.groupName,peerAvatar:K.avatar};$(D)},[$]),Y=x.useCallback(K=>{const D={chatType:K.chatType,peerId:K.peerId,peerName:K.peerName,peerAvatar:K.peerAvatar};$(D)},[$]),ie=se.useMemo(()=>new Map(Object.entries(p)),[p]);return c&&i.length===0&&o.length===0?l.jsx("div",{className:"flex items-center justify-center h-[calc(100vh-200px)]",children:l.jsx(je,{size:48,className:"animate-spin text-pink-500"})}):u&&i.length===0&&o.length===0?l.jsxs("div",{className:"flex flex-col items-center justify-center h-[calc(100vh-200px)] gap-4",children:[l.jsx("p",{className:"text-red-500",children:u}),l.jsx("button",{onClick:()=>w(),className:"px-4 py-2 bg-pink-500 text-white rounded-lg hover:bg-pink-600 transition-colors",children:""})]}):l.jsxs("div",{className:"flex h-[calc(100vh-80px)] md:h-[calc(100vh-120px)] bg-theme-card backdrop-blur-xl rounded-none md:rounded-2xl overflow-hidden shadow-xl border border-theme",children:[l.jsx("div",{className:`
        w-full md:w-72 border-r border-theme-divider flex-shrink-0
        ${L?"hidden md:block":"block"}
      `,children:l.jsx(q0,{activeTab:h,onTabChange:k,friendCategories:i,groups:o,recentChats:a,unreadCounts:ie,selectedPeerId:m==null?void 0:m.peerId,onSelectFriend:U,onSelectGroup:H,onSelectRecent:Y})}),l.jsx("div",{className:`
        flex-1 flex flex-col min-w-0
        ${L?"block":"hidden md:flex"}
      `,children:l.jsx($g,{session:m,onShowMembers:()=>N(!y),onNewMessageCallback:G,onEmojiReactionCallback:E,onMessageRecalledCallback:j,appendInputText:C,onAppendInputTextConsumed:q,onBack:T,showBackButton:L})}),y&&(m==null?void 0:m.chatType)===2&&l.jsx("div",{className:"fixed inset-0 z-50 bg-white/85 dark:bg-neutral-900/85 backdrop-blur-xl md:static md:inset-auto md:z-auto md:bg-transparent md:backdrop-blur-none md:w-64 md:border-l md:border-theme-divider md:flex-shrink-0",children:l.jsx(Og,{groupCode:m.peerId,onClose:()=>N(!1),onAtMember:M})})]})},Hg={enable:!0,connect:[]},Bg={enable:!1,port:5600,token:""},Vg={enable:!1,reportSelfMessage:!1,http:{port:3010,prefix:"",accessToken:""},webhook:{urls:[],accessToken:""}},Qg={enable:!0,port:3080},Gg={webui:Qg,onlyLocalhost:!0,milky:Vg,satori:Bg,ob11:Hg,enableLocalFile2Url:!1,log:!0,autoDeleteFile:!1,autoDeleteFileSecond:60,musicSignUrl:"https://llob.linyuchen.net/sign/music",msgCacheExpire:120,ffmpeg:"",rawMsgPB:!1},yu="7.4.0";function Kg(){const e=()=>{const T=window.location.hash.slice(1);return["dashboard","onebot","satori","milky","logs","other","webqq","about"].includes(T)?T:"dashboard"},[t,n]=x.useState(e),[r,s]=x.useState(Gg),[i,o]=x.useState(!1),[a,c]=x.useState(!1),[u,m]=x.useState(!0),[h,p]=x.useState(null),[y,v]=x.useState(!1),[k,N]=x.useState(""),[f,d]=x.useState(null),[g,w]=x.useState(!1),[S,C]=x.useState(!1),[R,M]=x.useState(!1),[q,P]=x.useState(!1),[G,E]=x.useState(""),[j,b]=x.useState(!1);x.useEffect(()=>{w0(async T=>new Promise(U=>{N(T||""),v(!0),d(()=>U)}))},[]),x.useEffect(()=>{window.location.hash=t},[t]),x.useEffect(()=>{const T=()=>{const U=window.location.hash.slice(1);["dashboard","onebot","satori","milky","logs","other","webqq","about"].includes(U)&&n(U)};return window.addEventListener("hashchange",T),()=>window.removeEventListener("hashchange",T)},[]);const L=x.useCallback(T=>{T.trim()?(v(!1),N(""),f&&(f(T),d(null))):N("")},[f]);x.useEffect(()=>{(async()=>{var U;try{const H=await ze("/api/config");if(H.success&&H.data.selfInfo.online){c(!0),p({nick:H.data.selfInfo.nick||"",uin:H.data.selfInfo.uin}),s(H.data.config);try{const Y=await ze("/api/device-info");Y.success&&((U=Y.data)!=null&&U.buildVer)&&E(Y.data.buildVer)}catch(Y){console.error("Failed to fetch device info:",Y)}}else c(!1)}catch(H){console.error("Failed to check login status:",H),c(!1)}finally{m(!1)}})()},[]);const A=x.useCallback(async T=>{try{o(!0);const H=await ze("/api/config",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({config:T||r})});H.success?Q("","success"):Q(""+H.message,"error")}catch(U){Q(""+U.message,"error")}finally{o(!1)}},[r]),$=x.useCallback(()=>{window.location.reload()},[]);return u?l.jsxs(l.Fragment,{children:[l.jsx(Si,{}),l.jsx("div",{className:"relative flex items-center justify-center min-h-screen z-10",children:l.jsx(je,{size:48,className:"animate-spin text-pink-500"})}),l.jsx(Ci,{visible:y,onConfirm:L,error:k})]}):a?l.jsxs("div",{className:"flex min-h-screen",children:[l.jsx(Si,{}),l.jsx(p0,{activeTab:t,onTabChange:n,accountInfo:h||void 0,isOpen:j,onClose:()=>b(!1)}),l.jsxs("main",{className:"flex-1 overflow-auto z-10",children:[l.jsxs("div",{className:"md:hidden sticky top-0 z-30 bg-theme-card/95 backdrop-blur-xl border-b border-theme-divider px-4 py-3 flex items-center gap-3",children:[l.jsx("button",{onClick:()=>b(!0),className:"p-2 text-theme-muted hover:text-theme hover:bg-theme-item rounded-lg transition-colors",children:l.jsx(Qx,{size:24})}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("img",{src:"/logo.jpg",alt:"Logo",className:"w-8 h-8 rounded-lg"}),l.jsx("span",{className:"font-semibold text-theme",children:"LLBot"})]})]}),l.jsxs("div",{className:"p-4 md:p-8 max-w-6xl mx-auto",children:[l.jsxs("div",{className:"mb-8 hidden md:block",children:[l.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:t==="dashboard"&&"Dashboard"}),l.jsx("p",{className:"text-white/80",children:t==="dashboard"&&" Lucky Lillia Bot"})]}),t==="dashboard"&&l.jsx(S0,{llbotVersion:yu,qqVersion:G}),t==="webqq"&&l.jsx(Wg,{}),t==="logs"&&l.jsx(C0,{}),t==="onebot"&&l.jsx(E0,{config:r.ob11,globalConfig:r,onChange:T=>{const U={...r,ob11:T};s(U)},onSave:T=>{if(T){const U={...r,ob11:T};A(U)}else A()}}),t==="satori"&&l.jsxs("div",{className:"card p-6",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[l.jsx("div",{className:"w-12 h-12 rounded-xl gradient-primary-br flex items-center justify-center",children:l.jsx(Co,{size:24,className:"text-white"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-theme",children:"Satori "}),l.jsx("p",{className:"text-sm text-theme-secondary",children:" Satori "})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between p-4 bg-theme-item rounded-xl hover:bg-theme-item-hover transition-colors",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-sm font-medium text-theme",children:" Satori "}),l.jsx("div",{className:"text-xs text-theme-muted mt-0.5",children:" Satori "})]}),l.jsx("input",{type:"checkbox",checked:r.satori.enable,onChange:T=>s({...r,satori:{...r.satori,enable:T.target.checked}}),className:"switch-toggle"})]}),r.satori.enable&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-theme-secondary mb-2",children:"Satori "}),l.jsx("input",{type:"number",value:r.satori.port,onChange:T=>s({...r,satori:{...r.satori,port:parseInt(T.target.value)}}),min:"1",max:"65535",placeholder:"5500",className:"input-field"}),l.jsx("p",{className:"text-xs text-theme-muted mt-1",children:"Satori 1-65535"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-theme-secondary mb-2",children:"Satori Token"}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:g?"text":"password",value:r.satori.token,onChange:T=>s({...r,satori:{...r.satori,token:T.target.value}}),placeholder:" Satori Token",className:"input-field pr-12"}),l.jsx("button",{type:"button",onClick:()=>w(!g),className:"absolute right-3 top-1/2 -translate-y-1/2 text-theme-hint hover:text-theme transition-colors p-1",children:g?l.jsx(xn,{size:20}):l.jsx(gn,{size:20})})]}),l.jsx("p",{className:"text-xs text-theme-muted mt-1",children:" Satori  Token"})]})]})]}),l.jsx("div",{className:"mt-6 flex justify-end",children:l.jsx("button",{onClick:()=>{var T;if(!r.onlyLocalhost&&r.satori.enable&&!((T=r.satori.token)!=null&&T.trim())){Q('"" Satori Token',"error");return}A()},disabled:i,className:"btn-primary flex items-center gap-2",children:i?l.jsxs(l.Fragment,{children:[l.jsx(je,{size:20,className:"animate-spin"}),"..."]}):l.jsxs(l.Fragment,{children:[l.jsx(Ni,{size:20}),""]})})})]}),t==="milky"&&l.jsxs("div",{className:"card p-6",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[l.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-pink-500 to-rose-600 flex items-center justify-center",children:l.jsx(Co,{size:24,className:"text-white"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-theme",children:"Milky "}),l.jsx("p",{className:"text-sm text-theme-secondary",children:" Milky "})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between p-4 bg-theme-item rounded-xl hover:bg-theme-item-hover transition-colors",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-sm font-medium text-theme",children:" Milky "}),l.jsx("div",{className:"text-xs text-theme-muted mt-0.5",children:" Milky "})]}),l.jsx("input",{type:"checkbox",checked:r.milky.enable,onChange:T=>s({...r,milky:{...r.milky,enable:T.target.checked}}),className:"switch-toggle"})]}),r.milky.enable&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex items-center justify-between p-4 bg-theme-item rounded-xl hover:bg-theme-item-hover transition-colors",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-sm font-medium text-theme",children:""}),l.jsx("div",{className:"text-xs text-theme-muted mt-0.5",children:""})]}),l.jsx("input",{type:"checkbox",checked:r.milky.reportSelfMessage,onChange:T=>s({...r,milky:{...r.milky,reportSelfMessage:T.target.checked}}),className:"switch-toggle"})]}),l.jsxs("div",{className:"border-t border-theme-divider pt-4 mt-4",children:[l.jsx("h4",{className:"text-md font-semibold text-theme mb-4",children:"HTTP "}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-theme-secondary mb-2",children:"HTTP "}),l.jsx("input",{type:"number",value:r.milky.http.port,onChange:T=>s({...r,milky:{...r.milky,http:{...r.milky.http,port:parseInt(T.target.value)}}}),min:"1",max:"65535",placeholder:"3010",className:"input-field"}),l.jsx("p",{className:"text-xs text-theme-muted mt-1",children:"Milky HTTP 1-65535"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-theme-secondary mb-2",children:""}),l.jsx("input",{type:"text",value:r.milky.http.prefix,onChange:T=>s({...r,milky:{...r.milky,http:{...r.milky.http,prefix:T.target.value}}}),placeholder:"/api",className:"input-field"}),l.jsx("p",{className:"text-xs text-theme-muted mt-1",children:"HTTP API "})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-theme-secondary mb-2",children:"Access Token"}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:S?"text":"password",value:r.milky.http.accessToken,onChange:T=>s({...r,milky:{...r.milky,http:{...r.milky.http,accessToken:T.target.value}}}),placeholder:" Access Token",className:"input-field pr-12"}),l.jsx("button",{type:"button",onClick:()=>C(!S),className:"absolute right-3 top-1/2 -translate-y-1/2 text-theme-hint hover:text-theme transition-colors p-1",children:S?l.jsx(xn,{size:20}):l.jsx(gn,{size:20})})]}),l.jsx("p",{className:"text-xs text-theme-muted mt-1",children:" Milky HTTP  Token"})]})]})]}),l.jsxs("div",{className:"border-t border-theme-divider pt-4 mt-4",children:[l.jsx("h4",{className:"text-md font-semibold text-theme mb-4",children:"Webhook "}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-theme-secondary mb-2",children:"Webhook URLs"}),l.jsxs("div",{className:"space-y-2",children:[r.milky.webhook.urls.map((T,U)=>l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"text",value:T,onChange:H=>{const Y=[...r.milky.webhook.urls];Y[U]=H.target.value,s({...r,milky:{...r.milky,webhook:{...r.milky.webhook,urls:Y}}})},placeholder:"http://  https://",className:`input-field flex-1 ${T&&!T.match(/^https?:\/\//)?"border-red-300 focus:ring-red-500":""}`}),l.jsx("button",{type:"button",onClick:()=>{const H=r.milky.webhook.urls.filter((Y,ie)=>ie!==U);s({...r,milky:{...r.milky,webhook:{...r.milky.webhook,urls:H}}})},className:"p-2 text-red-500 hover:bg-red-50 dark:hover:bg-red-900/30 rounded-lg transition-colors",title:"",children:l.jsx(Et,{size:18})})]},U)),r.milky.webhook.urls.some(T=>T&&!T.match(/^https?:\/\//))&&l.jsx("p",{className:"text-xs text-red-500",children:"URL  http://  https:// "}),l.jsxs("button",{type:"button",onClick:()=>{s({...r,milky:{...r.milky,webhook:{...r.milky.webhook,urls:[...r.milky.webhook.urls,""]}}})},className:"flex items-center gap-2 px-4 py-2 text-pink-500 hover:bg-pink-50 dark:hover:bg-pink-900/30 rounded-lg transition-colors text-sm font-medium",children:[l.jsx(Om,{size:18})," Webhook URL"]})]}),l.jsx("p",{className:"text-xs text-theme-muted mt-2",children:" Webhook "})]}),l.jsxs("div",{className:"mt-4",children:[l.jsx("label",{className:"block text-sm font-medium text-theme-secondary mb-2",children:"Access Token"}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:R?"text":"password",value:r.milky.webhook.accessToken,onChange:T=>s({...r,milky:{...r.milky,webhook:{...r.milky.webhook,accessToken:T.target.value}}}),placeholder:" Access Token",className:"input-field pr-12"}),l.jsx("button",{type:"button",onClick:()=>M(!R),className:"absolute right-3 top-1/2 -translate-y-1/2 text-theme-hint hover:text-theme transition-colors p-1",children:R?l.jsx(xn,{size:20}):l.jsx(gn,{size:20})})]}),l.jsx("p",{className:"text-xs text-theme-muted mt-1",children:" Webhook  Token"})]})]})]})]}),l.jsx("div",{className:"mt-6 flex justify-end",children:l.jsx("button",{onClick:()=>{var H;if(!r.onlyLocalhost&&r.milky.enable&&!((H=r.milky.http.accessToken)!=null&&H.trim())){Q('"" Milky Access Token',"error");return}if(r.milky.webhook.urls.filter(Y=>Y.trim()&&!Y.match(/^https?:\/\//)).length>0){Q("Webhook URL  http://  https:// ","error");return}const U={...r,milky:{...r.milky,webhook:{...r.milky.webhook,urls:r.milky.webhook.urls.filter(Y=>Y.trim())}}};s(U),A(U)},disabled:i,className:"btn-primary flex items-center gap-2",children:i?l.jsxs(l.Fragment,{children:[l.jsx(je,{size:20,className:"animate-spin"}),"..."]}):l.jsxs(l.Fragment,{children:[l.jsx(Ni,{size:20}),""]})})})]}),t==="other"&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"pb-24",children:l.jsx(T0,{config:r,onChange:s,onOpenChangePassword:()=>P(!0)})}),l.jsx("div",{className:"fixed bottom-8 right-8 z-40",children:l.jsx("button",{onClick:()=>A(),disabled:i,className:"btn-primary flex items-center gap-2 shadow-2xl hover:shadow-3xl",children:i?l.jsxs(l.Fragment,{children:[l.jsx(je,{size:20,className:"animate-spin"}),"..."]}):l.jsxs(l.Fragment,{children:[l.jsx(Ni,{size:20}),""]})})})]}),t==="about"&&l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"card p-8 text-center",children:[l.jsx("div",{className:"w-20 h-20 rounded-3xl overflow-hidden mx-auto mb-6 shadow-lg",children:l.jsx("img",{src:"/logo.jpg",alt:"Logo",className:"w-full h-full object-cover"})}),l.jsx("h1",{className:"text-3xl font-bold text-theme mb-2",children:"Lucky Lillia Bot"}),l.jsx("p",{className:"text-theme-secondary mb-6",children:" QQNT  OneBot 11 Satori Milky  QQ "}),l.jsxs("div",{className:"flex items-center justify-center gap-4",children:[l.jsxs("a",{href:"https://github.com/LLOneBot/LuckyLilliaBot",target:"_blank",rel:"noopener noreferrer",className:"px-6 py-2.5 bg-gray-800 dark:bg-neutral-700 text-white rounded-xl hover:bg-gray-900 dark:hover:bg-neutral-600 transition-colors flex items-center gap-2",children:[l.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{fillRule:"evenodd",d:"M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.202 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0022 12.017C22 6.484 17.522 2 12 2z",clipRule:"evenodd"})}),"GitHub"]}),l.jsxs("a",{href:"https://luckylillia.com",target:"_blank",rel:"noopener noreferrer",className:"px-6 py-2.5 gradient-primary text-white rounded-xl hover:shadow-lg transition-all flex items-center gap-2",children:[l.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})}),""]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"card p-6",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[l.jsx("div",{className:"w-12 h-12 rounded-xl gradient-primary-br flex items-center justify-center",children:l.jsx("svg",{className:"w-6 h-6 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{d:"M16.5 3c-1.862 0-3.505.928-4.5 2.344C11.005 3.928 9.362 3 7.5 3 4.462 3 2 5.462 2 8.5c0 4.171 4.912 8.213 6.281 9.49a2.94 2.94 0 0 0 2.438.94 2.94 2.94 0 0 0 2.438-.94C14.588 16.713 19.5 12.671 19.5 8.5 19.5 5.462 17.038 3 16.5 3z"})})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-theme",children:"Telegram "}),l.jsx("p",{className:"text-sm text-theme-secondary"})]})]}),l.jsx("a",{href:"https://t.me/+nLZEnpne-pQ1OWFl",target:"_blank",rel:"noopener noreferrer",className:"text-pink-500 hover:text-pink-600 hover:underline text-sm break-all",children:"https://t.me/+nLZEnpne-pQ1OWFl"})]}),l.jsxs("div",{className:"card p-6",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[l.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-green-500 to-emerald-600 flex items-center justify-center",children:l.jsx("svg",{className:"w-6 h-6 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{d:"M16.5 3c-1.862 0-3.505.928-4.5 2.344C11.005 3.928 9.362 3 7.5 3 4.462 3 2 5.462 2 8.5c0 4.171 4.912 8.213 6.281 9.49a2.94 2.94 0 0 0 2.438.94 2.94 2.94 0 0 0 2.438-.94C14.588 16.713 19.5 12.671 19.5 8.5 19.5 5.462 17.038 3 16.5 3z"})})}),l.jsx("div",{children:l.jsx("h3",{className:"text-lg font-semibold text-theme",children:"QQ "})})]}),l.jsx("div",{className:"flex items-center gap-3",children:l.jsx("a",{href:"https://qm.qq.com/q/EZndy3xntQ",target:"_blank",rel:"noopener noreferrer",className:" text-pink-500 hover:text-pink-600 hover:underline",children:"545402644"})})]})]}),l.jsx("div",{className:"card p-6",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-10 h-10 rounded-xl gradient-primary-br flex items-center justify-center",children:l.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),l.jsxs("div",{children:[l.jsx("div",{className:"text-sm font-medium text-theme",children:""}),l.jsxs("div",{className:"text-xs text-theme-muted",children:["Lucky Lillia Bot ",yu]}),G&&l.jsxs("div",{className:"text-xs text-theme-muted",children:["QQ ",G]})]})]}),l.jsxs("div",{className:"text-sm text-theme-secondary",children:["WebUI Powered by  ",l.jsx("span",{className:"font-semibold text-pink-500",children:"React + Tailwind"})]})]})})]})]})]}),i&&l.jsx("div",{className:"fixed inset-0 bg-black/20 dark:bg-black/40 flex items-center justify-center",style:{zIndex:9e3},children:l.jsxs("div",{className:"bg-theme-card backdrop-blur-xl rounded-2xl p-6 shadow-2xl",children:[l.jsx(je,{size:48,className:"animate-spin text-pink-500 mx-auto"}),l.jsx("p",{className:"mt-4 text-theme",children:"..."})]})}),l.jsx(Ci,{visible:y,onConfirm:L,error:k}),l.jsx(M0,{visible:q,onClose:()=>P(!1),onSuccess:()=>{window.location.reload()}}),l.jsx(tu,{})]}):l.jsxs(l.Fragment,{children:[l.jsx(Si,{}),l.jsx(I0,{onLoginSuccess:$}),l.jsx(Ci,{visible:y,onConfirm:L,error:k}),l.jsx(tu,{})]})}const vu=localStorage.getItem("llbot-theme");if(vu)try{const{state:e}=JSON.parse(vu);e!=null&&e.isDark&&document.documentElement.classList.add("dark")}catch{}Ti.createRoot(document.getElementById("root")).render(l.jsx(se.StrictMode,{children:l.jsx(Kg,{})}));
